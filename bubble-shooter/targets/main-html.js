/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){function t(a,b){function c(){}c.prototype=a;var h=new c,d;for(d in b)h[d]=b[d];b.toString!==Object.prototype.toString&&(h.toString=b.toString);return h}function ze(a){return a instanceof Array?function(){return w.iter(a)}:"function"==typeof a.iterator?T(a,a.iterator):a.iterator}function T(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Zf++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var e={},j=function(){return L.__string_rec(this,"")},ra=function(){};e.DateTools=ra;ra.__name__=["DateTools"];ra.__format_get=function(a,b){switch(b){case "%":return"%";case "C":return I.lpad(u.string(u["int"](a.getFullYear()/100)),"0",2);case "d":return I.lpad(u.string(a.getDate()),"0",2);case "D":return ra.__format(a,"%m/%d/%y");case "e":return u.string(a.getDate());case "F":return ra.__format(a,"%Y-%m-%d");case "H":case "k":return I.lpad(u.string(a.getHours()),
"H"==b?"0":" ",2);case "I":case "l":var c=a.getHours()%12;return I.lpad(u.string(0==c?12:c),"I"==b?"0":" ",2);case "m":return I.lpad(u.string(a.getMonth()+1),"0",2);case "M":return I.lpad(u.string(a.getMinutes()),"0",2);case "n":return"\n";case "p":return 11<a.getHours()?"PM":"AM";case "r":return ra.__format(a,"%I:%M:%S %p");case "R":return ra.__format(a,"%H:%M");case "s":return u.string(u["int"](a.getTime()/1E3));case "S":return I.lpad(u.string(a.getSeconds()),"0",2);case "t":return"\t";case "T":return ra.__format(a,
"%H:%M:%S");case "u":return c=a.getDay(),0==c?"7":null==c?"null":""+c;case "w":return u.string(a.getDay());case "y":return I.lpad(u.string(a.getFullYear()%100),"0",2);case "Y":return u.string(a.getFullYear());default:throw new o("Date.format %"+b+"- not implemented yet.");}};ra.__format=function(a,b){for(var c=new sa,h=0;;){var d=b.indexOf("%",h);if(0>d)break;c.addSub(b,h,d-h);c.add(ra.__format_get(a,w.substr(b,d+1,1)));h=d+2}c.addSub(b,h,b.length-h);return c.b};ra.format=function(a,b){return ra.__format(a,
b)};var wa=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};e.EReg=wa;wa.__name__=["EReg"];wa.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new o("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new o("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},__class__:wa};var w=function(){};e.HxOverrides=
w;w.__name__=["HxOverrides"];w.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),h=a.getHours(),d=a.getMinutes(),e=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>h?"0"+h:""+h)+":"+(10>d?"0"+d:""+d)+":"+(10>e?"0"+e:""+e)};w.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=
a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new o("Invalid date format : "+a);}};w.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};w.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};w.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};w.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<
this.arr.length},next:function(){return this.arr[this.cur++]}}};var wb=function(){};e.Lambda=wb;wb.__name__=["Lambda"];wb.array=function(a){for(var b=[],a=ze(a)();a.hasNext();){var c=a.next();b.push(c)}return b};wb.exists=function(a,b){for(var c=ze(a)();c.hasNext();){var h=c.next();if(b(h))return!0}return!1};wb.count=function(a,b){var c=0;if(null==b)for(var h=ze(a)();h.hasNext();)h.next(),c++;else for(h=ze(a)();h.hasNext();){var d=h.next();b(d)&&c++}return c};var jb=function(){this.length=0};e.List=
jb;jb.__name__=["List"];jb.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},push:function(a){this.h=a=[a,this.h];null==this.q&&(this.q=a);this.length++},iterator:function(){return new nd(this.h)},__class__:jb};var nd=function(a){this.head=a;this.val=null};e["_List.ListIterator"]=nd;nd.__name__=["_List","ListIterator"];nd.prototype={hasNext:function(){return null!=this.head},next:function(){this.val=this.head[0];this.head=this.head[1];return this.val},__class__:nd};
Math.__name__=["Math"];var J=function(){};e.Reflect=J;J.__name__=["Reflect"];J.field=function(a,b){try{return a[b]}catch(c){return c instanceof o&&(c=c.val),null}};J.setField=function(a,b,c){a[b]=c};J.callMethod=function(a,b,c){return b.apply(a,c)};J.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,h;for(h in a)"__id__"!=h&&"hx__closures__"!=h&&c.call(a,h)&&b.push(h)}return b};J.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};J.deleteField=
function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var u=function(){};e.Std=u;u.__name__=["Std"];u.is=function(a,b){return L.__instanceof(a,b)};u.instance=function(a,b){return a instanceof b?a:null};u.string=function(a){return L.__string_rec(a,"")};u["int"]=function(a){return a|0};u.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==w.cca(a,1)||88==w.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};u.parseFloat=function(a){return parseFloat(a)};var sa=
function(){this.b=""};e.StringBuf=sa;sa.__name__=["StringBuf"];sa.prototype={add:function(a){this.b+=u.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+w.substr(a,b,null):this.b+w.substr(a,b,c)},__class__:sa};var I=function(){};e.StringTools=I;I.__name__=["StringTools"];I.startsWith=function(a,b){return a.length>=b.length&&w.substr(a,0,b.length)==b};I.isSpace=function(a,b){var c=w.cca(a,b);return 8<c&&14>c||32==c};I.ltrim=function(a){for(var b=a.length,c=0;c<b&&I.isSpace(a,c);)c++;return 0<
c?w.substr(a,c,b-c):a};I.rtrim=function(a){for(var b=a.length,c=0;c<b&&I.isSpace(a,b-c-1);)c++;return 0<c?w.substr(a,0,b-c):a};I.trim=function(a){return I.ltrim(I.rtrim(a))};I.lpad=function(a,b,c){if(0>=b.length)return a;for(;a.length<c;)a=b+a;return a};I.fastCodeAt=function(a,b){return a.charCodeAt(b)};var A=e.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};A.TNull=["TNull",0];A.TNull.toString=j;A.TNull.__enum__=A;A.TInt=
["TInt",1];A.TInt.toString=j;A.TInt.__enum__=A;A.TFloat=["TFloat",2];A.TFloat.toString=j;A.TFloat.__enum__=A;A.TBool=["TBool",3];A.TBool.toString=j;A.TBool.__enum__=A;A.TObject=["TObject",4];A.TObject.toString=j;A.TObject.__enum__=A;A.TFunction=["TFunction",5];A.TFunction.toString=j;A.TFunction.__enum__=A;A.TClass=function(a){a=["TClass",6,a];a.__enum__=A;a.toString=j;return a};A.TEnum=function(a){a=["TEnum",7,a];a.__enum__=A;a.toString=j;return a};A.TUnknown=["TUnknown",8];A.TUnknown.toString=j;
A.TUnknown.__enum__=A;var R=function(){};e.Type=R;R.__name__=["Type"];R.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};R.getEnumName=function(a){return a.__ename__.join(".")};R.resolveClass=function(a){a=e[a];return null==a||!a.__name__?null:a};R.resolveEnum=function(a){a=e[a];return null==a||!a.__ename__?null:a};R.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};R.createEnum=function(a,b,c){var h=J.field(a,b);if(null==h)throw new o("No such constructor "+
b);if(J.isFunction(h)){if(null==c)throw new o("Constructor "+b+" need parameters");return J.callMethod(a,h,c)}if(null!=c&&0!=c.length)throw new o("Constructor "+b+" does not need parameters");return h};R.getEnumConstructs=function(a){return a.__constructs__.slice()};R["typeof"]=function(a){switch(typeof a){case "boolean":return A.TBool;case "string":return A.TClass(String);case "number":return Math.ceil(a)==a%2147483648?A.TInt:A.TFloat;case "object":if(null==a)return A.TNull;var b=a.__enum__;if(null!=
b)return A.TEnum(b);a=L.getClass(a);return null!=a?A.TClass(a):A.TObject;case "function":return a.__name__||a.__ename__?A.TObject:A.TFunction;case "undefined":return A.TNull;default:return A.TUnknown}};var p=function(a){this.nodeType=a;this.children=[];this.attributeMap=new ha};e.Xml=p;p.__name__=["Xml"];p.parse=function(a){return bb.parse(a)};p.createElement=function(a){var b=new p(p.Element);if(b.nodeType!=p.Element)throw new o("Bad node type, expected Element but found "+b.nodeType);b.nodeName=
a;return b};p.createPCData=function(a){var b=new p(p.PCData);if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};p.createCData=function(a){var b=new p(p.CData);if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};p.createComment=function(a){var b=new p(p.Comment);if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+
b.nodeType);b.nodeValue=a;return b};p.createDocType=function(a){var b=new p(p.DocType);if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};p.createProcessingInstruction=function(a){var b=new p(p.ProcessingInstruction);if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};p.createDocument=function(){return new p(p.Document)};p.prototype={get_nodeName:function(){if(this.nodeType!=
p.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);return this.nodeName},get:function(a){if(this.nodeType!=p.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.get(a)},set:function(a,b){if(this.nodeType!=p.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);this.attributeMap.set(a,b)},exists:function(a){if(this.nodeType!=p.Element)throw new o("Bad node type, expected Element but found "+
this.nodeType);return this.attributeMap.exists(a)},iterator:function(){if(this.nodeType!=p.Document&&this.nodeType!=p.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);return w.iter(this.children)},elementsNamed:function(a){if(this.nodeType!=p.Document&&this.nodeType!=p.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],c=0,h=this.children;c<h.length;){var d=h[c];++c;var e;if(e=d.nodeType==p.Element){if(d.nodeType!=
p.Element)throw new o("Bad node type, expected Element but found "+d.nodeType);e=d.nodeName==a}e&&b.push(d)}return w.iter(b)},firstElement:function(){if(this.nodeType!=p.Document&&this.nodeType!=p.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==p.Element)return c}return null},addChild:function(a){if(this.nodeType!=p.Document&&this.nodeType!=p.Element)throw new o("Bad node type, expected Element or Document but found "+
this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=p.Document&&this.nodeType!=p.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);return w.remove(this.children,a)?(a.parent=null,!0):!1},__class__:p};var q=function(){};e["com.EntityHelper"]=q;q.__name__=["com","EntityHelper"];q.attachToNewEntity=function(a,b,c){null==c&&(c=!0);a=(new z).add(a);null!=b&&b.addChild(a,c);return a};
q.delayedCall=function(a,b,c){null==c&&(null==q.sciptEnt&&(q.sciptEnt=new z,m.root.addChild(q.sciptEnt)),c=q.sciptEnt);null==q.allTweensArray&&(q.allTweensArray=[]);var h=new oc,d=new z;q.allTweensArray.push(d);c.addChild(d);d.add(h);h.run(new pc([new qc(a),new Jb(b),new Jb(function(){null!=h.owner&&h.owner.dispose()})]));return h};q.clearDelayedCalls=function(){if(null!=q.allTweensArray)for(var a=q.allTweensArray.length;0<a--;)null!=q.allTweensArray[a]._compMap.Script_4&&q.allTweensArray[a]._compMap.Script_4.stopAll(),
q.allTweensArray[a].dispose()};var Y=e["com.funtomic.GameOpsStatus"]={__ename__:["com","funtomic","GameOpsStatus"],__constructs__:["UNINITIALIZED","INITIALIZING","INITIALIZED","QUITTING"]};Y.UNINITIALIZED=["UNINITIALIZED",0];Y.UNINITIALIZED.toString=j;Y.UNINITIALIZED.__enum__=Y;Y.INITIALIZING=["INITIALIZING",1];Y.INITIALIZING.toString=j;Y.INITIALIZING.__enum__=Y;Y.INITIALIZED=["INITIALIZED",2];Y.INITIALIZED.toString=j;Y.INITIALIZED.__enum__=Y;Y.QUITTING=["QUITTING",3];Y.QUITTING.toString=j;Y.QUITTING.__enum__=
Y;var l=function(){};e["com.funtomic.GameOps"]=l;l.__name__=["com","funtomic","GameOps"];l.IOErrorHandler=function(a){U.error(["Error caught ",a])};l.getEventsStaticParams=function(a){a={domain:l.domain,uuid:l.userID,platform:l.platform,is_native:l.isNative,is_synced:l.localStorage.isSynced,install_date:l.localStorage.installDate,original_version:l.localStorage.originalVersion,partial_data:l.localStorage.partialData,is_in_kizi_app:l.isInKiziApp(),events:a};null!=l.localStorage.isConverted&&(a.is_converted=
l.localStorage.isConverted);null!=l.mediaSource&&(a.media_source=l.mediaSource);null!=l.campaignName&&(a.campaign_name=l.campaignName);return a};l.reportEvents=function(a){if(l.status!=Y.INITIALIZED)l.queueEvents(a);else{var b=l.getEventsStaticParams(a),c=l.apiURLPrefix+l.apiEventsLocation,h=new od(c);h.addParameter("data",JSON.stringify(b));U.verbose(["Posting event to:",c]);h.onData=l.eventReportSucceeded;h.onStatus=function(b){l.onEventReportReturned(b,a)};h.onError=l.IOErrorHandler;h.request(!0);
l.sessionEnd()}};l.onEventReportReturned=function(a,b){switch(a){case 500:l.eventReportFailed();break;case 0:l.eventReportTimeout(b)}};l.eventReportTimeout=function(a){U.error(["Report event timeout"]);l.queueEvents(a)};l.eventReportFailed=function(){U.error(["Report event failed"]);l.localStorage.unsentEvents=[];l.writeLocalStorage()};l.eventReportSucceeded=function(a){U.verbose(["Event Posted "+a]);l.reportUnsentEvents()};l.reportEvent=function(a,b){if(!l.isEventsTraceOnly)switch(l.status[1]){case 1:l.deferredReportEvents.push(function(){l.reportEvent(a,
b)});break;default:var c=l.prepareEventObject(a,b);l.reportEvents([c])}};l.prepareEventObject=function(a,b){var c=ra.format(new Date,"%Y-%m-%d %H:%M:%S"),h=u.string(new Date),d=h.indexOf("+"),h=w.substr(h,d,5),c={event_type:a,date:c+h};null!=l.experimentId&&(c.experiment_id=l.experimentId);null!=l.alternativeId&&(c.alternative_id=l.alternativeId);c.elapsed_play_time=Math.round(l.elapsedPlayTimeAtInit+l.sampleTimer("session")/1E3);c.session_id=l.sessionId;c.game_ops_version=l.gameOpsVersion;c.game_version=
l.gameVersion;null!=l.url&&(c.url=l.url);l.firstSession&&(c.first_session=!0);null!=l.fbId&&(c.fb_id=l.fbId);return c=l.extendObject(c,b)};l.queueEvents=function(a){U.verbose(["Queuing events:"+JSON.stringify(a)]);null==l.localStorage.unsentEvents&&(l.localStorage.unsentEvents=[]);for(var b=0;b<a.length;){var c=a[b];++b;l.localStorage.unsentEvents.push(c)}l.localStorage.unsentEvents.length>l.MAX_SAVED_UNSENT_EVENTS&&(l.localStorage.unsentEvents=[],l.localStorage.partialData=!0);l.writeLocalStorage();
U.verbose(["There are now "+u.string(l.localStorage.unsentEvents.length)+" unsent events."])};l.reportUnsentEvents=function(){null!=l.localStorage.unsentEvents&&0<l.localStorage.unsentEvents.length&&(U.verbose(["reporting unsent events",l.localStorage.unsentEvents.length]),l.reportEvents(l.localStorage.unsentEvents),l.localStorage.unsentEvents=[],l.writeLocalStorage())};l.sessionEnd=function(a,b){null==a&&(a=!0);var c=l.sampleTimer("session");if(-1==c)U.error(["sessionEnd was called without a matching sessionStart!"]);
else{for(var h=[],d=0,e=l.levelsNumbers;d<e.length;){var f=e[d];++d;-1==h.indexOf(f)&&h.push(f)}h={session_duration:Math.round(c/1E3),levels_numbers:h.toString(),won_percent:0,levels_count:l.levelsNumbers.length,levels_won:l.levelsWon,sent_by:"application"};null!=b&&(h=l.extendObject(b,h));0<h.levels_count&&(h.won_percent=100*(l.levelsWon/l.levelsNumbers.length));l.updateTotalElapsedTime(c/1E3);c=l.prepareEventObject("session_end",h);a?(U.verbose(["writing session end event to local storage"]),l.storageSet("FuntomicGameOps-SessionEndEvent",
c)):l.reportEvents([c])}};l.updateTotalElapsedTime=function(a){l.storageSet("FuntomicGameOps-ElapsedGameTime",l.elapsedPlayTimeAtInit+a)};l.sampleTimer=function(a,b){null==b&&(b=!1);if(null==J.field(l.timers,a))return-1;var c=J.field(l.timers,a)[1];0!=J.field(l.timers,a)[0]&&(c+=l.getTimestamp()-J.field(l.timers,a)[0]);b&&J.deleteField(l.timers,a);U.verbose(["Timer '"+a+"' sampled. Current elapsed time is "+c]);return c};l.getTimestamp=function(){return(new Date).getTime()};l.extendObject=function(a,
b){for(var c=0,h=J.fields(b);c<h.length;){var d=h[c];++c;var e=J.field(b,d);a[null==d?"null":""+d]=e}return a};l.storageSet=function(a,b){return null!=l.gameOpsStorage?J.field(l.gameOpsStorage,"set")(l.domain+a,b):m._platform.getStorage().set(l.domain+a,b)};l.writeLocalStorage=function(){l.storageSet("FuntomicGameOps",l.localStorage)};l.isInKiziApp=function(){return null!=J.field(window,"jsinterface")};var xa=function(){};e["flambe.util.Disposable"]=xa;xa.__name__=["flambe","util","Disposable"];xa.prototype=
{__class__:xa};var v=function(){this._flags=0;this.owner=this.next=null};e["flambe.Component"]=v;v.__name__=["flambe","Component"];v.__interfaces__=[xa];v.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:v};var rc=function(){v.call(this);this.reset()};e["flambe.debug.FpsDisplay"]=rc;rc.__name__=["flambe","debug","FpsDisplay"];
rc.__super__=v;rc.prototype=t(v.prototype,{get_name:function(){return"FpsDisplay_2"},onUpdate:function(a){++this._fpsFrames;this._fpsTime+=a;if(1<this._fpsTime){this.fps=this._fpsFrames/this._fpsTime;var a="FPS: "+(100*this.fps|0)/100,b=u.instance(this.owner._compMap.Sprite_0,O);null!=b?b.set_text(a):null;this.reset()}},reset:function(){this._fpsTime=this._fpsFrames=0},__class__:rc});var U=function(){};e["com.funtomic.GameOpsLogger"]=U;U.__name__=["com","funtomic","GameOpsLogger"];U.verbose=function(a){U.log(2,
a.join(" "))};U.error=function(a){U.log(0,"ERROR - "+a.join(" "));null};U.log=function(a){a<=U.logLevel&&(a=new Date,a.getDay(),a.getMonth(),a.getFullYear(),a.getHours(),a.getMinutes(),a.getSeconds(),null)};var D=function(){};e["com.funtomic.GameOpsStorage"]=D;D.__name__=["com","funtomic","GameOpsStorage"];D.init=function(){null!=R.resolveClass("flambe.System")&&(D._prefix="flambe:");D._storage=window.localStorage;D._isInitialized=!0};D.validateInitialized=function(){if(!D._isInitialized)throw new o("GameOpsStorage Is Not Initialized!");
};D.reportErrorEvent=function(a){3<D._isErrorEventsSent||(D._isErrorEventsSent+=1,l.reportEvent("local_storage_error",a))};D.get_supported=function(){return!0};D.set=function(a,b){D.validateInitialized();var c;try{var h=new ya;h.useCache=!0;h.useEnumIndex=!1;h.serialize(b);c=h.toString()}catch(d){return d instanceof o&&(d=d.val),console.warn("Storage serialization failed:",d),D.reportErrorEvent({error_message:"Storage serialization failed: "+u.string(d)}),!1}try{D._storage.setItem(D._prefix+a,c)}catch(e){e instanceof
o&&(e=e.val);console.warn("localStorage.setItem failed:",e.message);c=-2;h=!0==J.field(window,"isStorageRedirected");try{c=JSON.stringify(window.parent.localStorage).length/1024}catch(f){f instanceof o&&(f=f.val),c=-1}D.reportErrorEvent({error_message:"localStorage.setItem failed: "+u.string(e.message),local_storage_size:c,is_storage_redirected:h});D.clear();return!1}return!0};D.get=function(a,b){D.validateInitialized();var c=null;try{c=D._storage.getItem(D._prefix+a)}catch(h){h instanceof o&&(h=
h.val),console.warn("localStorage.getItem failed:",h.message),D.reportErrorEvent({error_message:"localStorage.getItem failed: "+u.string(h.message)})}if(null!=c)try{return Z.run(c)}catch(d){d instanceof o&&(d=d.val),console.warn("Storage unserialization failed:",d),D.reportErrorEvent({error_message:"Storage unserialization failed: "+u.string(d)})}return b};D.remove=function(a){D.validateInitialized();try{D._storage.removeItem(D._prefix+a)}catch(b){b instanceof o&&(b=b.val),console.warn("localStorage.removeItem failed:",
b.message),D.reportErrorEvent({error_message:"localStorage.removeItem failed: "+u.string(b.message)})}};D.clear=function(){D.validateInitialized();try{D._storage.clear()}catch(a){a instanceof o&&(a=a.val),console.warn("localStorage.clear failed:",a.message),D.reportErrorEvent({error_message:"localStorage.clear failed: "+u.string(a.message)})}};var s=function(){};e["farmgame.BoardManager"]=s;s.__name__=["farmgame","BoardManager"];s.initBoard=function(a){null==a&&(a=!1);for(var b=k.BOARD_HEIGHT;0<b--;)for(var c=
k.BOARD_WIDTH;0<c--;)new n(n.getRandomColor(!0),c,b,null,a);b=new n(n.getRandomColor(),0,-10,n.STATE_IN_QUEUE);s.addNewBubble();!1==a&&b.firstBubble();s.totalColors=6};s.checkIfArrivedToPosition=function(a){for(var b=n.bubbleArr.length;0<b--;){var c=n.bubbleArr[b];if(!1==c.isBeingRemoved&&c.myState==n.STATE_DEFAULT&&sc.CircleCollision(a.imgSprite,c.imgSprite))return!0;if(0>a.imgSprite.y._value)return a.imgSprite.y.set__(0.01),!0}return!1};s.assignStateDefaultCoords=function(a){var b=0,c=!0;do{var c=
!0,h=a.defaultRealX-0.25*b*a.vx,d=a.defaultRealY-0.25*b*a.vy;b++;h-=k.INITIAL_X_COORD;d-=k.INITIAL_Y_COORD;d=Math.round(d/k.BUBBLE_SIZE);h=0==s.totalRowsAdded%2?h-0.5*Math.floor(d%2)*k.BUBBLE_SIZE:h-0.5*Math.floor((d+1)%2)*k.BUBBLE_SIZE;h=Math.round(0.9999*h/k.BUBBLE_SIZE);a.boardCoordX=h;a.boardCoordY=d;a.boardCoordX>=k.BOARD_WIDTH&&a.boardCoordX--;0>a.boardCoordX&&(a.boardCoordX=0);for(h=n.bubbleArr.length;0<h--;)d=n.bubbleArr[h],d!=a&&d.boardCoordX==a.boardCoordX&&d.boardCoordY==a.boardCoordY&&
(c=!1)}while(!1==c)};s.boardCoordToRealCoord=function(a,b){return 0==s.totalRowsAdded%2?new kb(k.INITIAL_X_COORD+a*k.BUBBLE_SIZE+0.5*Math.floor(b%2)*k.BUBBLE_SIZE,k.INITIAL_Y_COORD+b*k.BUBBLE_SIZE):new kb(k.INITIAL_X_COORD+a*k.BUBBLE_SIZE+0.5*Math.floor((1+b)%2)*k.BUBBLE_SIZE,k.INITIAL_Y_COORD+b*k.BUBBLE_SIZE)};s.addNewBubble=function(){n.queueBubble.myState=n.STATE_READY_TO_LAUNCH;n.queueBubble.onUpdate(0);n.queueBubble=null;new n(n.getRandomColor(),0,-10,n.STATE_IN_QUEUE)};s.bubbleArrived=function(a){s.markNeighboursOfSameColor(a);
a=s.removeSameColorCluster();3>a&&M.loseLife();3<=a&&(s.timeToNewBubble=0.3+0.072*a,q.delayedCall(0.072*a,s.markHangingClustersCall),q.delayedCall(0.144*a,s.markHangingClustersCall));if(3>a)return!1;!1==k.WebAudioSupported&&x.playIEPoppingSound(a);return!0};s.markHangingClustersCall=function(){s.markHangingClusters(!1)};s.markHangingClusters=function(a){null==a&&(a=!1);for(var b=n.bubbleArr.length;0<b--;){var c=n.bubbleArr[b];c.traversed=!1;c.myState==n.STATE_DEFAULT&&(c.markedToBeHanged=!0)}for(b=
n.bubbleArr.length;0<b--;)if(c=n.bubbleArr[b],0==c.boardCoordY){c.traversed=!1;s.traverseCluster(c);for(c=n.bubbleArr.length;0<c--;)n.bubbleArr[c].traversed=!1}b=[];for(c=n.bubbleArr.length;0<c--;){var h=n.bubbleArr[c];h.markedToBeHanged&&b.push(h)}!1==a&&(da.myRef.score+=100*b.length);a=b.length;for(s.markHangedTime=0.07*a;0<a--;)!1==b[a].isBeingRemoved&&(!1==k.WebAudioSupported&&q.delayedCall(0.07*a,function(){!1==x.poppingSoundFlag?(x.play("SOUNDS/BUBBLE_POP"),x.poppingSoundFlag=!0,q.delayedCall(0.06,
function(){x.poppingSoundFlag=!1})):null},b[a].owner),q.delayedCall(0.07*a,(lb=b[a],T(lb,lb.remove)),b[a].owner))};s.traverseCluster=function(a){a.traversed=!0;a.markedToBeHanged=!1;for(var a=s.getNeighoburs(a),b=a.length;0<b--;){var c=a[b];!1==c.traversed&&!1==c.markedToBeRemoved&&s.traverseCluster(c)}};s.removeSameColorCluster=function(){for(var a=0,b=n.bubbleArr.length;0<b--;)n.bubbleArr[b].markedToBeRemoved&&a++;var b=[],c=0;if(2<a)for(var h=n.bubbleArr.length;0<h--;)n.bubbleArr[h].markedToBeRemoved&&
(c++,n.bubbleArr[h].assignScore(10*Math.ceil(c/3)),da.myRef.score+=n.bubbleArr[h].score,b.push(n.bubbleArr[h]));b.sort(function(a,b){return a.boardCoordY>b.boardCoordY?-1:a.boardCoordY<b.boardCoordY?1:a.boardCoordX>b.boardCoordX?1:-1});for(c=b.length;0<c--;)b[c].markedToBeRemoved&&q.delayedCall(0.07*c,(lb=b[c],T(lb,lb.remove)));if(3>a)for(b=n.bubbleArr.length;0<b--;)n.bubbleArr[b].markedToBeRemoved=!1,n.bubbleArr[b].score=0;return a};s.markNeighboursOfSameColor=function(a){a.markForRemoval();for(var b=
s.getNeighoburs(a),c=b.length;0<c--;)a.myIdx==b[c].myIdx&&!1==b[c].markedToBeRemoved&&s.markNeighboursOfSameColor(b[c])};s.getNeighoburs=function(a){for(var b=[],c=n.bubbleArr.length;0<c--;){var h=n.bubbleArr[c];h.myState==n.STATE_DEFAULT&&s.areNeighbours(a,h)&&b.push(h)}return b};s.areNeighbours=function(a,b){if(a==b)return!1;if(0==(s.totalRowsAdded+a.boardCoordY)%2)return a.boardCoordY==b.boardCoordY?1>=Math.abs(a.boardCoordX-b.boardCoordX)?!0:!1:1<Math.abs(a.boardCoordY-b.boardCoordY)?!1:a.boardCoordX==
b.boardCoordX||a.boardCoordX-1==b.boardCoordX?!0:!1;if(a.boardCoordY==b.boardCoordY){if(1>=Math.abs(a.boardCoordX-b.boardCoordX))return!0}else{if(1<Math.abs(a.boardCoordY-b.boardCoordY))return!1;if(a.boardCoordX==b.boardCoordX||a.boardCoordX+1==b.boardCoordX)return!0}return!1};s.addNewRow=function(){s.colorArr=[0,0,0,0,0,0];for(var a=n.bubbleArr.length;0<a--;)s.colorArr[n.bubbleArr[a].myIdx]++;s.totalColors=0;for(var a=s.colorArr.length,b=1;0<a--;)0==s.colorArr[a]&&b++;s.totalColors=6-b+1;for(M.resetLives();0<
b--;)s.addOneRow();s.markHangingClusters(!0)};s.addOneRow=function(){for(var a=n.bubbleArr.length;0<a--;){var b=n.bubbleArr[a];b.boardCoordY++;b.setToMyRealCoord();b.onUpdate(0)}for(a=k.BOARD_WIDTH;0<a--;)new n(n.getRandomColor(),a,0);!1==i.gameOverStartedFlag&&q.delayedCall(0.05,function(){s.markHangingClusters(!0)})};s.resetBoard=function(){for(var a=n.bubbleArr.length;0<a--;)n.bubbleArr[a].removeImmediately();s.initBoard(!0)};s.isBoardEmpty=function(){for(var a=n.bubbleArr.length;0<a--;)if(n.bubbleArr[a].myState==
n.STATE_DEFAULT)return!1;return!0};s.deleteOneRow=function(){for(var a=-1,b=n.bubbleArr.length;0<b--;)n.bubbleArr[b].boardCoordY>a&&(a=n.bubbleArr[b].boardCoordY);for(b=n.bubbleArr.length;0<b--;)n.bubbleArr[b].boardCoordY==a&&n.bubbleArr[b].removeImmediately()};s.changeShootingColor=function(){for(var a=n.bubbleArr.length;0<a--;){var b=n.bubbleArr[a];if(b.myState==n.STATE_READY_TO_LAUNCH){var c=++b.myIdx%6;new n(c,b.boardCoordX,b.boardCoordY,b.myState);b.removeImmediately()}}};s.addNewBubblePreStep=
function(){q.delayedCall(s.markHangedTime,s.addNewBubble)};s.__super__=v;s.prototype=t(v.prototype,{get_name:function(){return"BoardManager_17"},__class__:s});var n=function(a,b,c,h,d){null==d&&(d=!1);null==h&&(h=0);this.isBeingRemoved=this.markedToBeRemoved=this.traversed=this.markedToBeHanged=this.banBubbleFromShooting=!1;var e=this;v.call(this);this.myState=h;null==n.bubbleArr&&(n.bubbleArr=[]);this.deltaRealX=new Q(0);this.deltaRealY=new Q(0);n.bubbleArr.push(this);this.boardCoordY=c;this.boardCoordX=
b;this.myIdx=a;this.owner=new z;this.owner.add(this);this.imgSprite=new ia(i.pack.getTexture("bubbles/"+n.bubbleImgNameArr[a]));this.owner.add(this.imgSprite);this.setToMyRealCoord();this.imgSprite.disablePointer();this.imgSprite.alpha.set__(0);a=c;0>a&&(a=0);b=0.19*a+0.01*b;d&&(b=0);q.delayedCall(b,function(){e.imgSprite.alpha.animateTo(1,0.2)},this.owner);i.layerTiles.addChild(this.owner);h==n.STATE_READY_TO_LAUNCH&&this.imgSprite.setXY(0.5*k.WIDTH,0.95*k.HEIGHT);this.imgSprite.disablePointer();
this.onUpdate(0)};e["farmgame.Bubble"]=n;n.__name__=["farmgame","Bubble"];n.shockTween=function(a,b){for(var c=n.bubbleArr.length;0<c--;){var h=n.bubbleArr[c];h.myState==n.STATE_DEFAULT&&!1==h.markedToBeRemoved&&!1==h.markedToBeHanged&&h.shockWaveTween(a,b)}};n.getReadyToLaunchBubble=function(){for(var a=n.bubbleArr.length;0<a--;)if(n.bubbleArr[a].myState==n.STATE_READY_TO_LAUNCH)return n.bubbleArr[a];return null};n.getRandomColor=function(a){null==a&&(a=!1);var b=[!1,!1,!1,!1,!1,!1];if(!1==a){for(a=
n.bubbleArr.length;0<a--;)b[n.bubbleArr[a].myIdx]=!0;do a=Math.floor(6*Math.random());while(!1==b[a]);return a}return Math.floor(Math.random()*k.TOTAL_COLORS)};n.__super__=v;n.prototype=t(v.prototype,{get_name:function(){return"Bubble_7"},onUpdate:function(a){if(this.myState==n.STATE_IN_QUEUE)this.imgSprite.x.set__(0.66*k.WIDTH),this.imgSprite.y.set__(0.915*k.HEIGHT),n.queueBubble=this;else if(this.myState==n.STATE_DEFAULT||this.myState==n.STATE_READY_TO_LAUNCH){this.myState==n.STATE_READY_TO_LAUNCH&&
this.setToMyRealCoord();this.imgSprite.x.set__(this.defaultRealX+this.deltaRealX._value);this.imgSprite.y.set__(this.defaultRealY+this.deltaRealY._value);this.deltaRealX.update(a);this.deltaRealY.update(a);var b=this.deltaRealX;b.set__(0.87*b._value);b=this.deltaRealY;b.set__(0.87*b._value);this.myState==n.STATE_DEFAULT&&15<this.boardCoordY&&520<this.imgSprite.y._value&&!1==this.isBeingRemoved&&G.gameOverStarted()}else this.myState==n.STATE_LAUNCHED&&(b=this.imgSprite.x,b.set__(b._value+this.vx),
b=this.imgSprite.y,b.set__(b._value+this.vy),this.imgSprite.x._value>k.RIGHT_BOARD_BORDER?(this.vx*=-1,this.imgSprite.x.set__(k.RIGHT_BOARD_BORDER)):this.imgSprite.x._value<k.LEFT_BOARD_BORDER&&(this.vx*=-1,this.imgSprite.x.set__(k.LEFT_BOARD_BORDER)),s.checkIfArrivedToPosition(this)&&(this.defaultRealX=this.imgSprite.x._value-0.75*this.vx,this.defaultRealY=this.imgSprite.y._value-0.75*this.vy,s.assignStateDefaultCoords(this),b=s.boardCoordToRealCoord(this.boardCoordX,this.boardCoordY),this.defaultRealX=
b.x,this.defaultRealY=b.y,this.setToMyRealCoord(),this.myState=n.STATE_DEFAULT,s.bubbleArrived(this)?q.delayedCall(s.timeToNewBubble,s.addNewBubblePreStep):(q.delayedCall(0.2,s.addNewBubble),x.play("SOUNDS/BUBBLE_HIT")),n.shockTween(this.defaultRealX,this.defaultRealY)));v.prototype.onUpdate.call(this,a)},setToMyRealCoord:function(){this.defaultRealX=0==s.totalRowsAdded%2?k.INITIAL_X_COORD+this.boardCoordX*k.BUBBLE_SIZE+0.5*Math.floor(this.boardCoordY%2)*k.BUBBLE_SIZE:k.INITIAL_X_COORD+this.boardCoordX*
k.BUBBLE_SIZE+0.5*Math.floor((this.boardCoordY+1)%2)*k.BUBBLE_SIZE;this.defaultRealY=k.INITIAL_Y_COORD+this.boardCoordY*k.BUBBLE_SIZE;this.myState==n.STATE_READY_TO_LAUNCH&&(this.defaultRealX=0.35*k.WIDTH,this.defaultRealY=0.92*k.HEIGHT);this.imgSprite.setXY(this.defaultRealX,this.defaultRealY)},shockWaveTween:function(a,b){null==b&&(b=200);null==a&&(a=100);var c=this.imgSprite.x._value-a,h=this.imgSprite.y._value-b,d=Math.atan2(h,c),c=Math.sqrt(c*c+h*h);55>c&&(c=55);c=15E10*(1/c)*(1/c)*(1/c)*(1/
c)*(1/c)*(1/c);this.deltaRealX.set__(c*Math.cos(d));this.deltaRealY.set__(c*Math.sin(d))},launch:function(a){this.myState=n.STATE_LAUNCHED;0.14>a&&a>0.5*-Math.PI?a=0.14:a<0.5*-Math.PI&&(a=3);3<a&&(a=3);this.vx=-k.LAUNCH_POWER*Math.cos(a);this.vy=-k.LAUNCH_POWER*Math.sin(a)},remove:function(){if(!this.isBeingRemoved&&!i.gameOverStartedFlag){this.isBeingRemoved=!0;w.remove(n.bubbleArr,this);k.WebAudioSupported&&x.play("SOUNDS/BUBBLE_POP");var a=this.imgSprite.x;this.defaultRealX=a.set__(a._value+0.5*
this.imgSprite.getNaturalWidth());a=this.imgSprite.y;this.defaultRealY=a.set__(a._value+0.5*this.imgSprite.getNaturalHeight());this.imgSprite.centerAnchor();this.imgSprite.scaleX.animateTo(0,0.33,oa.backIn);this.imgSprite.scaleY.animateTo(0,0.33,oa.backIn);null!=this.owner&&q.delayedCall(0.33,(lb=this.owner,T(lb,lb.dispose)),this.owner)}},markForRemoval:function(){this.markedToBeRemoved=!0},removeImmediately:function(){w.remove(n.bubbleArr,this);this.owner.dispose()},assignScore:function(a){this.score=
a},firstBubble:function(){var a=this;this.banBubbleFromShooting=!0;q.delayedCall(1.5,function(){a.banBubbleFromShooting=!1},this.owner)},__class__:n});var N=function(a,b){v.call(this);this.owner=new z;a.addChild(this.owner);this.container=a;this.imgNormal=new ia(i.pack.getTexture(b));q.attachToNewEntity(this.imgNormal,this.owner);this.imgNormal.get_pointerIn().connect(T(this,this.onMouseOver));this.imgNormal.get_pointerOut().connect(T(this,this.onMouseOut));this.imgNormal.get_pointerDown().connect(T(this,
this.onClick))};e["farmgame.ButtonWithOverState"]=N;N.__name__=["farmgame","ButtonWithOverState"];N.__super__=v;N.prototype=t(v.prototype,{get_name:function(){return"ButtonWithOverState_8"},onClick:function(){x.play("SOUNDS/CLICK_TILE")},onMouseOut:function(){this.stopAnimation();this.imgNormal.set_visible(!0);m._platform.getMouse().set_cursor($.Default)},stopAnimation:function(){this.imgNormal.scaleX.animateTo(1,0.2);this.imgNormal.scaleY.animateTo(1,0.2);this.scaleXDelayScript.stopAll()},onMouseOver:function(){this.initiateAnimation();
m._platform.getMouse().set_cursor($.Button)},initiateAnimation:function(){this.imgNormal.scaleX.set__(1);this.imgNormal.scaleX.animateTo(1.05,2.25,oa.elasticOut);this.imgNormal.scaleY.set__(1);this.imgNormal.scaleY.animateTo(1.05,2.25,oa.elasticOut);this.scaleXDelayScript=q.delayedCall(2.25,function(){},this.owner)},setXY:function(a,b){this.imgNormal.setXY(a,b)},setVisible:function(){this.container.addChild(this.owner)},setInvisible:function(){null!=this.owner&&null!=this.owner.parent&&this.owner.parent.removeChild(this.owner)},
centerAnchor:function(){this.imgNormal.centerAnchor()},setScale:function(a){this.imgNormal.setScale(a)},__class__:N});var Va=function(){};e["farmgame.FadedText"]=Va;Va.__name__=["farmgame","FadedText"];Va.clearAll=function(){if(null!=Va.container)for(var a=Va.container.length;0<a--;)Va.container[a].remove()};Va.__super__=v;Va.prototype=t(v.prototype,{get_name:function(){return"FadedText_18"},remove:function(){w.remove(Va.container,this);this.owner.dispose()},__class__:Va});var k=function(){};e["farmgame.GameConsts"]=
k;k.__name__=["farmgame","GameConsts"];var i=function(a){i.ctx=this;null==a._compMap.Director_3&&a.add((new tc).setSize(k.WIDTH,k.HEIGHT));this._viewport=a};e["farmgame.GameContext"]=i;i.__name__=["farmgame","GameContext"];i.prototype={unwindToScene:function(a,b){this._viewport._compMap.Director_3.unwindToScene(a,b)},__class__:i};var y=function(){};e["farmgame.Language"]=y;y.__name__=["farmgame","Language"];y.initLanguage=function(){var a=m._platform.getExternal().call("location.href.toString").split("lang=")[1];
null==a&&(a="en");var a=a.toUpperCase(),b=p.parse(i.pack.getFile("language.xml").toString()),b=new Kb(b.firstElement());y.LanguageAbbrevations=[];y.PLAY_SHORT=[];y.HOW_TO_PLAY_FULL=[];y.HOW_TO_PLAY=[];y.YOU_WIN=[];y.BONUS=[];y.SCORE=[];y.TOTAL=[];y.GAME_OVER=[];for(b=b.nodes.resolve("language").iterator();null!=b.head;){var c;b.val=b.head[0];b.head=b.head[1];c=b.val;y.LanguageAbbrevations.push(c.att.resolve("name").toString());y.PLAY_SHORT.push(c.node.resolve("play").get_innerData().toString());y.HOW_TO_PLAY_FULL.push(c.node.resolve("HOW_TO_PLAY_FULL").get_innerData().toString());
y.HOW_TO_PLAY.push(c.node.resolve("HOW_TO_PLAY").get_innerData().toString());y.YOU_WIN.push(c.node.resolve("YOU_WIN").get_innerData().toString());y.BONUS.push(c.node.resolve("BONUS").get_innerData().toString());y.SCORE.push(c.node.resolve("SCORE").get_innerData().toString());y.TOTAL.push(c.node.resolve("TOTAL").get_innerData().toString());y.GAME_OVER.push(c.node.resolve("GAME_OVER").get_innerData().toString())}y.langIdx=y.LanguageAbbrevations.indexOf(a.toLowerCase());null};var M=function(){this.deltaX=
6;this.livesLeft=this.maxLivesLeft=5;v.call(this);this.owner=new z;this.owner.add(this);i.layerUI.addChild(this.owner);this.bubbleArr=[];for(var a=5;0<a--;){var b=new ia(i.pack.getTexture("bubbles/bubble_gray"));this.bubbleArr[a]=b;b.setXY(k.LEFT_BOARD_BORDER+(b.getNaturalWidth()+this.deltaX)*a+this.deltaX,550);q.attachToNewEntity(b,this.owner);null}M.myRef=this};e["farmgame.LivesUI"]=M;M.__name__=["farmgame","LivesUI"];M.loseLife=function(){null!=M.myRef&&M.myRef.loseOneLife()};M.resetLives=function(){M.myRef.maxLivesLeft--;
0>=M.myRef.maxLivesLeft&&(M.myRef.maxLivesLeft=M.resetMaxLives());M.myRef.maxLivesLeft>M.resetMaxLives()&&(M.myRef.maxLivesLeft=M.resetMaxLives());M.myRef.livesLeft=M.myRef.maxLivesLeft};M.resetMaxLives=function(){return s.totalColors-1};M.__super__=v;M.prototype=t(v.prototype,{get_name:function(){return"LivesUI_14"},onUpdate:function(a){for(var b=this.livesLeft-1,c=this.bubbleArr.length;0<c--;)c<=b?this.bubbleArr[c].alpha.set__(1):this.bubbleArr[c].alpha.set__(0.39);v.prototype.onUpdate.call(this,
a)},loseOneLife:function(){0<this.livesLeft?this.livesLeft--:q.delayedCall(0.1,s.addNewRow);null},gainLife:function(){M.myRef.maxLivesLeft=M.resetMaxLives();M.myRef.livesLeft=M.myRef.maxLivesLeft},__class__:M});var g=function(){};e["farmgame.Main"]=g;g.__name__=["farmgame","Main"];g.main=function(){m.init();B.SHOULD_HIDE_MOBILE_BROWSER=!1;g.layerBackground=new z;g.layerGame=new z;g.layerRotate=new z;g.layerPrompts=new z;g.layerPreBg=new z;m.root.addChild(g.layerPreBg);m.root.addChild(g.layerBackground);
m.root.addChild(g.layerGame);m.root.addChild(g.layerPrompts);m.root.addChild(g.layerRotate);k.MOBILE_BROWSER=sc.isMobileBrowser(m._platform.getExternal().call("getUserAgent"))?!0:!1;m._platform.getExternal().call("addClickListener");g.determineScreenSizeMode();g.borderN=new W(16711680,0,0);g.borderE=new W(16711680,0,0);g.borderS=new W(16711680,0,0);g.borderW=new W(16711680,0,0);g.imageN=null;g.imageE=null;g.imageS=null;g.imageW=null;g.borderN.set_visible(g.borderE.set_visible(g.borderS.set_visible(g.borderW.set_visible(!1))));
g.onConfigLoaded(!1);m._platform.getStage().resize.connect(g.onResize,!0)};g.determineScreenSizeMode=function(){!1==m._platform.getStage().fullscreen.get__()&&1<m._platform.getExternal().call("eligibleForResize")&&k.MOBILE_BROWSER&&(k.SMALL_DEVICE_MODE=!0,null)};g.addBackgroundSprite=function(){null!=i.pack&&(g.backgroundState2?null==g.backgroundSprite&&(g.backgroundSprite=new W(15658751,800,600),g.bgSpriteEnt.add(g.backgroundSprite)):null==g.backgroundSprite&&(g.backgroundSprite=new ia(i.pack.getTexture("game_bg_hd")),
g.bgSpriteEnt=q.attachToNewEntity(g.backgroundSprite,g.layerBackground,!1),g.bgWhiteFill=new W(15921906,m._platform.getStage().get_width(),m._platform.getStage().get_height()),q.attachToNewEntity(g.bgWhiteFill,g.layerBackground)),g.backgroundSprite.centerAnchor(),g.backgroundSprite.scaleX.set__(m._platform.getStage().get_width()/g.backgroundSprite.getNaturalWidth()),g.backgroundSprite.scaleY.set__(m._platform.getStage().get_height()/g.backgroundSprite.getNaturalHeight()),g.backgroundSprite.setScale(Math.max(g.backgroundSprite.scaleX._value,
g.backgroundSprite.scaleY._value)),g.backgroundSprite.setXY(m._platform.getStage().get_width()/2,m._platform.getStage().get_height()/2),g.bgWhiteFill.centerAnchor(),g.bgWhiteFill.scaleX.set__(m._platform.getStage().get_width()/g.bgWhiteFill.getNaturalWidth()),g.bgWhiteFill.scaleY.set__(m._platform.getStage().get_height()/g.bgWhiteFill.getNaturalHeight()),g.bgWhiteFill.setScale(Math.max(g.bgWhiteFill.scaleX._value,g.bgWhiteFill.scaleY._value)),g.bgWhiteFill.setXY(m._platform.getStage().get_width()/
2,m._platform.getStage().get_height()/2))};g.addRotateImg=function(){g.rotateImg=new ia(i.pack.getTexture("TURN"));q.attachToNewEntity(g.rotateImg,g.layerRotate,!1);g.rotateImg.centerAnchor();null!=m._platform.getStage()&&(g.rotateImg.setXY(m._platform.getStage().get_width()/2,m._platform.getStage().get_height()/2),g.rotateImg.scaleX.set__(m._platform.getStage().get_width()/g.rotateImg.getNaturalWidth()),g.rotateImg.scaleY.set__(m._platform.getStage().get_height()/g.rotateImg.getNaturalHeight()),
g.rotateImg.set_visible(!1),g.rotateImg.setScale(Math.max(g.rotateImg.scaleX._value,g.rotateImg.scaleY._value)))};g.onResize=function(){g.resizeCalled=!0;g.layoutBorders()};g.onConfigLoaded=function(){var a=la.fromAssets("bootstrap"),a=m._platform.loadAssetPack(a);g.viewport=(new z).add(new F);g.mainSprite=new F;(new z).add(g.mainSprite);g.layerGame.addChild(g.mainSprite.owner);g.mainSprite.owner.addChild(g.viewport);g.layoutBorders();a.get(g.onBootstrapFinish)};g.resizeHtml=function(){null};g.layoutBorders=
function(){g.determineScreenSizeMode();var a=m._platform.getStage().get_width(),b=m._platform.getStage().get_height();g.theWidth=m._platform.getExternal().call("getWidth");g.theHeight=m._platform.getExternal().call("getHeight");if(b>a){var c=b,b=a,a=c;g.mainSprite.setRotation(90).setXY(b,0);g.isRotated=!0}else g.mainSprite.setRotation(0).setXY(0,0),g.isRotated=!1,b=g.theHeight*a/g.theWidth;var h=a/k.WIDTH,d=b/k.HEIGHT,c=Math.min(h,d);k.scaleX=h;k.scaleY=d;k.scale=c;h=g.viewport._compMap.Sprite_0;
h.x.set__(0.5*a-0.5*c*k.WIDTH);h.y.set__(0.5*b-0.5*c*k.HEIGHT);h.setScale(c);i.viewPortSprite=h;g.borderN.setXY(0,0);g.borderN.width.set__(a);g.borderN.height.set__(h.y._value);g.borderN.disablePointer();g.borderE.setXY(a-h.x._value-1,h.y._value);g.borderE.width.set__(1+h.x._value);g.borderE.height.set__(b-2*h.y._value);g.borderE.disablePointer();g.borderS.setXY(0,b-h.y._value);g.borderS.width.set__(a);g.borderS.height.set__(h.y._value);g.borderS.disablePointer();g.borderW.setXY(0,h.y._value);g.borderW.width.set__(1+
h.x._value);g.borderW.height.set__(b-2*h.y._value);g.borderW.disablePointer();null!=g.rotateImg&&(g.theHeight>g.theWidth?(g.rotateImg.set_visible(!0),g.rotateImg.centerAnchor(),g.rotateImg.setXY(m._platform.getStage().get_width()/2,m._platform.getStage().get_height()/2),g.rotateImg.scaleX.set__(m._platform.getStage().get_width()/g.rotateImg.getNaturalWidth()),g.rotateImg.scaleY.set__(m._platform.getStage().get_height()/g.rotateImg.getNaturalHeight()),g.rotateImg.setScale(Math.max(g.rotateImg.scaleX._value,
g.rotateImg.scaleY._value))):g.rotateImg.set_visible(!1));m._platform.getExternal().call("hideIosBar");g.addBackgroundSprite();q.delayedCall(1.5,g.checkIfNeedsToBeResized)};g.checkIfNeedsToBeResized=function(){m._platform.getStage().orientation.get__()==Wa.Landscape&&(g.theWidth!=m._platform.getStage().get_width()||g.theHeight!=m._platform.getStage().get_height())&&m._platform.getStage().requestResize(g.theWidth,g.theHeight)};g.onBootstrapFinish=function(a){var b=new i(g.viewport);i.pack=a;i.preloaderPack=
a;g.addBackgroundSprite();g.addRotateImg();m._platform.getStage().resize.connect(g.layoutBorders);q.delayedCall(1,g.layoutBorders);b.unwindToScene(C.create(b))};var G=function(){};e["farmgame.MainScene"]=G;G.__name__=["farmgame","MainScene"];G.create=function(){var a=new za(i.pack,"blackbold24/font"),a=(new z).add(new O(a)).add(new rc);m.root.addChild(a);a._compMap.Sprite_0.setXY(0.45*m._platform.getStage().get_width(),0);G.fpsDisplay=a._compMap.FpsDisplay_2;a._compMap.Sprite_0.set_visible(!1);m.root.add(new uc(1));
G.scene=new z;G.scene.add(new X);i.mainScene=G.scene;k.SMALL_DEVICE_MODE?q.delayedCall(0.1,G.initScene):G.initScene();return G.scene};G.initScene=function(){G.backgroundSprite=new W(12767468,k.WIDTH,k.HEIGHT);q.attachToNewEntity(G.backgroundSprite,G.scene);G.backgroundSprite.setXY(0,0);G.backgroundSprite.set_visible(!1);g.backgroundState2=!0;g.backgroundSprite=null;g.addBackgroundSprite();G.createLayers(G.scene);m._platform.getKeyboard().down.connect(G.onKeyDown);m._platform.getKeyboard().up.connect(G.onKeyUp);
m._platform.getPointer().down.connect(G.onMouseDown);q.delayedCall(0.05,G.restOfInit)};G.onMouseDown=function(){null};G.restOfInit=function(){new da;s.initBoard()};G.onKeyUp=function(){};G.onKeyDown=function(){};G.createLayers=function(a){var b=new z,c=new z,h=new z,d=new z;i.layerBG=b;i.layerTiles=c;i.layerUI=h;k.layerRotate=d;a.addChild(b);a.addChild(c);a.addChild(h);a.addChild(d);a=new W(16777215,1,1);i.layerTiles.add(a);a.scissor=new vc(k.INITIAL_X_COORD-4,k.INITIAL_Y_COORD-4,580-k.INITIAL_X_COORD,
600-k.INITIAL_Y_COORD);i.layerTiles0Shadow=new z;i.layerTiles0Faces=new z;i.layerTiles1Shadow=new z;i.layerTiles1Faces=new z;i.layerTiles2Shadow=new z;i.layerTiles2Faces=new z;i.layerTiles3Shadow=new z;i.layerTiles3Faces=new z;i.layerTiles4Shadow=new z;i.layerTiles4Faces=new z;i.layerTiles5Shadow=new z;i.layerTiles5Faces=new z;i.layerTiles6Shadow=new z;i.layerTiles6Faces=new z;i.layerTiles7Shadow=new z;i.layerTiles7Faces=new z;i.layerTilesTop=new z;c.addChild(i.layerTiles0Shadow);c.addChild(i.layerTiles0Faces);
c.addChild(i.layerTiles1Shadow);c.addChild(i.layerTiles1Faces);c.addChild(i.layerTiles2Shadow);c.addChild(i.layerTiles2Faces);c.addChild(i.layerTiles3Shadow);c.addChild(i.layerTiles3Faces);c.addChild(i.layerTiles4Shadow);c.addChild(i.layerTiles4Faces);c.addChild(i.layerTiles5Shadow);c.addChild(i.layerTiles5Faces);c.addChild(i.layerTiles6Shadow);c.addChild(i.layerTiles6Faces);c.addChild(i.layerTiles7Shadow);c.addChild(i.layerTiles7Faces);c.addChild(i.layerTilesTop);Xa.init(30);i.layerTilesFaceArray=
[];i.layerTilesFaceArray=[i.layerTiles0Faces,i.layerTiles1Faces,i.layerTiles2Faces,i.layerTiles3Faces,i.layerTiles4Faces,i.layerTiles5Faces,i.layerTiles6Faces,i.layerTiles7Faces];i.layerTilesShadowArray=[];i.layerTilesShadowArray=[i.layerTiles0Shadow,i.layerTiles1Shadow,i.layerTiles2Shadow,i.layerTiles3Shadow,i.layerTiles4Shadow,i.layerTiles5Shadow,i.layerTiles6Shadow,i.layerTiles7Shadow]};G.reset=function(){Va.clearAll();q.clearDelayedCalls();s.resetBoard();da.myRef.score=0;da.myRef.scoreToDisplay=
0;i.gameOverStartedFlag=!1;M.myRef.maxLivesLeft=5;M.myRef.livesLeft=5};G.gameOverStarted=function(){!1==i.gameOverStartedFlag&&(i.gameOverStartedFlag=!0,new wc(da.myRef.score))};var da=function(){this.justClickedSquidbyte=!1;var a=this;v.call(this);da.myRef=this;this.scoreToDisplay=this.score=0;this.owner=new z;i.layerBG.addChild(this.owner);this.owner.add(this);this.uibg=new ia(i.pack.getTexture("game_bg"));this.uibg.get_pointerDown().connect(T(this,this.onClicked));q.attachToNewEntity(this.uibg,
this.owner);this.gameCannon=new ia(i.pack.getTexture("game_cannon"));this.gameCannonEnt=q.attachToNewEntity(this.gameCannon,this.owner);this.gameCannon.disablePointer();i.layerTiles.addChild(this.gameCannonEnt);this.gameCannon.anchorX.set__(0.5*this.gameCannon.getNaturalWidth());this.gameCannon.anchorY.set__(this.gameCannon.getNaturalHeight());this.gameCannon.setXY(0.368*k.WIDTH,0.94*k.HEIGHT);m._platform.getMouse().set_cursor($.Default);this.livesui=new M;this.soundButton=new Ya;this.restartbut=
new xc;this.helpButton=new yc;this.moregames=new zc;var b=new W(16777215,220,80);b.alpha.set__(1.0E-9);b.get_pointerDown().connect(T(this,this.onFooterClicked));b.setXY(580,520);q.attachToNewEntity(b,this.owner);b.get_pointerIn().connect(function(){m._platform.getMouse().set_cursor($.Button)});b.get_pointerOut().connect(function(){m._platform.getMouse().set_cursor($.Default)});m._platform.getExternal().bind("onBodyClicked",function(){a.justClickedSquidbyte&&(m._platform.getWeb().openBrowser("http://gameboss.com"),
a.justClickedSquidbyte=!1)});m._platform.getExternal().call("addBindListener");this.scoreCurrent=new O(i.fontRed,"");this.scoreMax=new O(i.fontGreen,"");q.attachToNewEntity(this.scoreCurrent,this.owner);q.attachToNewEntity(this.scoreMax,this.owner);this.scoreCurrent.setXY(715,240);this.scoreMax.setXY(715,314);m._platform.getKeyboard().down.connect(T(this,this.onKeyDown))};e["farmgame.MainUI"]=da;da.__name__=["farmgame","MainUI"];da.__super__=v;da.prototype=t(v.prototype,{get_name:function(){return"MainUI_13"},
onKeyDown:function(a){!1!=k.CHEAT_MODE&&(a.key==d.Q&&s.deleteOneRow(),a.key==d.W&&s.changeShootingColor(),a.key==d.E&&this.livesui.gainLife(),a.key==d.Number1&&(k.TOTAL_COLORS=1,s.resetBoard()),a.key==d.Number2&&(k.TOTAL_COLORS=2,s.resetBoard()),a.key==d.Number6&&(k.TOTAL_COLORS=6,s.resetBoard()),a.key==d.Number3&&(k.TOTAL_COLORS=3,s.resetBoard()),a.key==d.Number4&&(k.TOTAL_COLORS=4,s.resetBoard()),a.key==d.Number5&&(k.TOTAL_COLORS=5,s.resetBoard()))},onFooterClicked:function(){var a=this;this.justClickedSquidbyte=
!0;q.delayedCall(1.5,function(){a.justClickedSquidbyte=!1});m._platform.getExternal().call("openSquidByte")},onUpdate:function(a){var b=m._platform.getPointer().get_x(),c=m._platform.getPointer().get_y(),b=this.gameCannon.x._value-(b-g.borderE.width._value)/k.scale,c=this.gameCannon.y._value-600*(c/m._platform.getStage().get_height()),h=180/Math.PI*Math.atan2(c,b)-90;Math.sqrt(b*b+c*c);!1==i.gameOverStartedFlag&&this.gameCannon.setRotation(h);this.score>=this.scoreToDisplay?(this.scoreToDisplay+=
0.13*(this.score-this.scoreToDisplay),this.scoreToDisplay=Math.ceil(this.scoreToDisplay)):this.scoreToDisplay=this.score;b=m._platform.getStorage().get("maxScore1",0);this.score>b&&(b=this.score,m._platform.getStorage().set("maxScore1",b));this.scoreCurrent.set_text(""+this.scoreToDisplay);this.scoreMax.set_text(""+b);this.scoreCurrent.setAlign(H.Center);this.scoreMax.setAlign(H.Center);s.isBoardEmpty()&&(i.gameOverStartedFlag=!0,Za.won());v.prototype.onUpdate.call(this,a)},onClicked:function(a){if(!i.gameOverStartedFlag){var b=
n.getReadyToLaunchBubble();if(null!=b){var c=b.imgSprite,h=(a.viewX-g.borderE.width._value-0.5*b.imgSprite.getNaturalWidth())/k.scale,d=c.x._value-h,c=c.y._value+0.5*b.imgSprite.getNaturalHeight()-600*(a.viewY/m._platform.getStage().get_height()),a=Math.atan2(c,d),d=Math.sqrt(d*d+c*c);h<k.RIGHT_BOARD_BORDER+k.BUBBLE_SIZE&&!1==b.banBubbleFromShooting&&(x.play("SOUNDS/CANON_WOOSH"),b.launch(a,d))}}},__class__:da});var Xa=function(){v.call(this);this.owner=new z;this.owner.add(this);null==Xa.particleArray&&
(Xa.particleArray=[]);Xa.particleArray.push(this);i.layerTilesTop.addChild(this.owner);this.spr=new ia(i.pack.getTexture("fla/Particle"));this.owner.add(this.spr);this.spr.centerAnchor();this.spr.set_visible(!1)};e["farmgame.ParticleEffect"]=Xa;Xa.__name__=["farmgame","ParticleEffect"];Xa.init=function(a){for(;0<a--;)new Xa};Xa.__super__=v;Xa.prototype=t(v.prototype,{get_name:function(){return"ParticleEffect_12"},__class__:Xa});var C=function(){};e["farmgame.PreloaderScene"]=C;C.__name__=["farmgame",
"PreloaderScene"];C.create=function(a){y.initLanguage();C.ctx=a;C.scene=new z;a=la.fromAssets("hd_assets");a=m._platform.loadAssetPack(a);C.imgSpr=new ia(i.pack.getTexture("gameboss"));q.attachToNewEntity(C.imgSpr,C.scene);C.imgSpr.setXY(k.WIDTH/2,k.HEIGHT/2);C.imgSpr.centerAnchor();C.imgSpr.setScale(1);C.imgSpr.disablePointer();q.delayedCall(1,C.tryToStartNextScene);C.playButton=new Ac(C.scene);C.playButton.setXY(k.WIDTH/2,0.77*k.HEIGHT);C.playButton.setInvisible();C.playButton.centerAnchor();C.playButton.setScale(1);
C.playButton.imgNormal.get_pointerDown().connect(C.onPlayButton);a.get(function(a){i.pack=a;C.allowNextScreen=!0;x.Init();i.fontGreen=new za(i.pack,"font22green/font");q.delayedCall(0.5,function(){i.fontRed=new za(i.pack,"font22red/font");null});q.delayedCall(1.5,function(){null});q.delayedCall(1,function(){});q.delayedCall(20,function(){})});return C.scene};C.tryToStartNextScene=function(){C.allowNextScreen?q.delayedCall(2,C.startNextScene):q.delayedCall(1,C.tryToStartNextScene)};C.startNextScene=
function(){C.imgSpr.alpha.animateTo(0,0.25);g.bgWhiteFill.alpha.animateTo(0,0.25);q.delayedCall(0.25,C.showPlayBut)};C.onPlayButton=function(){C.playButton.onClick(null);g.bgWhiteFill.set_visible(!1)};C.showPlayBut=function(){m._platform.getPointer().down.connect(C.onPlayButton);C.playButton.setVisible()};C.actuallyStartNextScene=function(){C.scene.disposeChildren();C.scene.dispose();C.ctx.unwindToScene(G.create(C.ctx),new Bc(0.6))};var X=function(){this.counter=0;v.call(this);X.imageFiller=new W(0,
m._platform.getStage().get_width(),m._platform.getStage().get_height());q.attachToNewEntity(X.imageFiller,g.layerGame,!0);X.imageFiller.setAlpha(0.85);X.imageFiller.set_visible(!1)};e["farmgame.SceneManager"]=X;X.__name__=["farmgame","SceneManager"];X.__super__=v;X.prototype=t(v.prototype,{get_name:function(){return"SceneManager_11"},onUpdate:function(a){null!=g.layerPrompts.firstChild?X.imageFiller.set_visible(!0):X.imageFiller.set_visible(!1);if(0==this.counter++%2&&(X.imageFiller.getNaturalWidth()!=
m._platform.getStage().get_width()||X.imageFiller.getNaturalHeight()!=m._platform.getStage().get_height()))X.imageFiller.dispose(),X.imageFiller=new W(0,m._platform.getStage().get_width(),m._platform.getStage().get_height()),X.imageFiller.set_visible(!1),q.attachToNewEntity(X.imageFiller,g.layerGame,!0),X.imageFiller.setAlpha(0.95);0==this.counter%80&&(this.theWidth=m._platform.getExternal().call("getWidth"),this.theHeight=m._platform.getExternal().call("getHeight"),(this.theWidth!=m._platform.getStage().get_width()||
this.theHeight!=m._platform.getStage().get_height())&&m._platform.getStage().requestResize(this.theWidth,this.theHeight),this.theWidth>this.theHeight?g.rotateImg.set_visible(!1):(g.rotateImg.set_visible(!0),g.rotateImg.centerAnchor(),g.rotateImg.setXY(0.5*this.theWidth,0.5*this.theHeight),g.rotateImg.scaleX.set__(this.theWidth/g.rotateImg.getNaturalWidth()),g.rotateImg.scaleY.set__(this.theHeight/g.rotateImg.getNaturalHeight())));v.prototype.onUpdate.call(this,a)},__class__:X});var Cc=function(){v.call(this);
this.owner=(new z).add(this);m.root.addChild(this.owner)};e["farmgame.SoundIndexHolder"]=Cc;Cc.__name__=["farmgame","SoundIndexHolder"];Cc.__super__=v;Cc.prototype=t(v.prototype,{get_name:function(){return"SoundIndexHolder_16"},onUpdate:function(a){var b=x.allPlaybacks[this.soundIdx][this.counterIdx];!1==b.get_paused()&&0==this.soundIdx&&b.get_position();v.prototype.onUpdate.call(this,a)},playSoundStarted:function(a){this.playSoundTween=q.delayedCall(a+0.1,T(this,this.playSoundEnded))},playSoundEnded:function(){null!=
this.playSoundTween&&null!=this.playSoundTween.owner&&this.playSoundTween.owner.dispose();var a=x.allPlaybacks[this.soundIdx][this.counterIdx],a=i.pack.getSound(x.allSoundArrayNames[this.soundIdx]).play();a.set_paused(!0);a.volume.set__(0);x.allPlaybacks[this.soundIdx][this.counterIdx]=a;null},__class__:Cc});var x=function(){};e["farmgame.SoundPlayer2"]=x;x.__name__=["farmgame","SoundPlayer2"];x.Init=function(){if(E.get_supported())k.WebAudioSupported=!0;else{x.allPlaybacks=[];x.playbackIndexes=[];
for(var a=x.allSoundArrayNames.length;0<a--;){x.playbackIndexes[a]=0;x.allPlaybacks[a]=[];for(var b=x.MAX_CACHED[a];0<b--;){var c=i.pack.getSound(x.allSoundArrayNames[a]).play();c.set_paused(!0);c.volume.set__(0);x.allPlaybacks[a][b]=c;null}}null}};x.play=function(a,b){null==b&&(b=1);E.ctx&&E.ctx.resume();if(!1!=Ya.soundFlag)if(E.get_supported())i.pack.getSound(a).play(b);else{var c=x.allSoundArrayNames.lastIndexOf(a),h=x.allPlaybacks[c],d=x.playbackIndexes[c]%x.MAX_CACHED[c];x.playbackIndexes[c]++;
h[d].set_paused(!1);h[d].volume.set__(b);for(var e=h.length;0<e--;)d!=e&&(h[e].volume.set__(0),h[e].set_paused(!0));e=new Cc;e.counterIdx=d;e.soundIdx=c;e.playSoundStarted(h[d].get_sound().get_duration())}};x.playIEPoppingSound=function(a){x.playPopArray=[];var b=0;do{var c,h;5<a?(c=5,h=a-5,3>h&&(c=4,h=a-4,3>h&&(c=3,h=a-3))):c=a;a-=c;if(3>c)break;0<b?3==c?q.delayedCall(b,x.playIESound3):4==c?q.delayedCall(b,x.playIESound4):5==c&&q.delayedCall(b,x.playIESound5):x.playIEPoppingSoundSingle(c);b+=x.soundsDelta[c]}while(0<=
a);x.poppingSoundFlag=!0;q.delayedCall(b,function(){x.poppingSoundFlag=!1})};x.playIESound5=function(){x.playIEPoppingSoundSingle(5)};x.playIESound4=function(){x.playIEPoppingSoundSingle(4)};x.playIESound3=function(){x.playIEPoppingSoundSingle(3)};x.playIEPoppingSoundSingle=function(a){x.play("SOUNDS/BUBBLE_POP"+a)};var sc=function(){};e["farmgame.Util"]=sc;sc.__name__=["farmgame","Util"];sc.isMobileBrowser=function(a){return 0<=a.lastIndexOf("Mobile")||0<=a.lastIndexOf("Android")?!0:!1};sc.CircleCollision=
function(a,b){var c=new kb(a.x._value+0.5*k.BUBBLE_SIZE,a.y._value+0.5*k.BUBBLE_SIZE),h=new kb(b.x._value+0.5*k.BUBBLE_SIZE,b.y._value+0.5*k.BUBBLE_SIZE);return c.distanceTo(h.x,h.y)<0.75*k.BUBBLE_SIZE?!0:!1};var yc=function(){N.call(this,i.layerUI,"buttons/gamebutton_help");this.imgNormal.centerAnchor();this.setXY(0.795*k.WIDTH,162)};e["farmgame.buttons.HelpButton"]=yc;yc.__name__=["farmgame","buttons","HelpButton"];yc.__super__=N;yc.prototype=t(N.prototype,{onClick:function(a){new Dc;N.prototype.onClick.call(this,
a)},__class__:yc});var zc=function(){N.call(this,i.layerUI,"buttons/gamebutton_more");this.imgNormal.centerAnchor();this.setXY(0.925*k.WIDTH,162)};e["farmgame.buttons.MoreGamesButton"]=zc;zc.__name__=["farmgame","buttons","MoreGamesButton"];zc.__super__=N;zc.prototype=t(N.prototype,{onClick:function(a){da.myRef.onFooterClicked(a);N.prototype.onClick.call(this,a)},__class__:zc});var Ac=function(a){this.alreadyClicked=!1;N.call(this,a,"button_menu","button_menu_over")};e["farmgame.buttons.PlayButton"]=
Ac;Ac.__name__=["farmgame","buttons","PlayButton"];Ac.__super__=N;Ac.prototype=t(N.prototype,{onClick:function(){this.alreadyClicked||(k.SMALL_DEVICE_MODE&&m._platform.getStage().requestFullscreen(),i.preloaderPack.getSound("CLICK_TILE").play(0),m._platform.getStage().requestResize(m._platform.getExternal().call("getWidth"),m._platform.getExternal().call("getHeight")),q.delayedCall(0.5,g.resizeHtml),q.delayedCall(0.55,g.onResize),q.delayedCall(0.56,C.actuallyStartNextScene),this.tweenDown())},tweenDown:function(){this.alreadyClicked=
!0;var a=new W(16777215,0.1,0.1);this.container.add(a);a.y.animateBy(400,0.6,oa.backIn);a.alpha.animateTo(0.5,0.6)},__class__:Ac});var xc=function(){N.call(this,i.layerUI,"buttons/gamebutton_reset");this.imgNormal.centerAnchor();this.setXY(0.925*k.WIDTH,60)};e["farmgame.buttons.RestartButton"]=xc;xc.__name__=["farmgame","buttons","RestartButton"];xc.__super__=N;xc.prototype=t(N.prototype,{onClick:function(a){G.reset();N.prototype.onClick.call(this,a)},__class__:xc});var Ya=function(){v.call(this);
this.owner=(new z).add(this);i.layerUI.addChild(this.owner);this.soundButtonOn=new Ec;this.soundButtonOff=new Fc;this.soundButtonOn.parentbutton=this;this.soundButtonOff.parentbutton=this};e["farmgame.buttons.SoundButton"]=Ya;Ya.__name__=["farmgame","buttons","SoundButton"];Ya.__super__=v;Ya.prototype=t(v.prototype,{get_name:function(){return"SoundButton_15"},onUpdate:function(a){Ya.soundFlag?(this.soundButtonOn.imgNormal.set_visible(!0),this.soundButtonOff.imgNormal.set_visible(!1)):(this.soundButtonOn.imgNormal.set_visible(!1),
this.soundButtonOff.imgNormal.set_visible(!0));v.prototype.onUpdate.call(this,a)},__class__:Ya});var Fc=function(){N.call(this,i.layerUI,"buttons/gamebutton_sound_off");this.imgNormal.centerAnchor();this.setXY(0.795*k.WIDTH,60)};e["farmgame.buttons.SoundButtonOff"]=Fc;Fc.__name__=["farmgame","buttons","SoundButtonOff"];Fc.__super__=N;Fc.prototype=t(N.prototype,{onClick:function(a){Ya.soundFlag=!0;this.parentbutton.soundButtonOn.imgNormal.setScale(this.imgNormal.scaleX._value);N.prototype.onClick.call(this,
a)},__class__:Fc});var Ec=function(){N.call(this,i.layerUI,"buttons/gamebutton_sound_on");this.imgNormal.centerAnchor();this.setXY(0.795*k.WIDTH,60)};e["farmgame.buttons.SoundButtonOn"]=Ec;Ec.__name__=["farmgame","buttons","SoundButtonOn"];Ec.__super__=N;Ec.prototype=t(N.prototype,{onClick:function(a){Ya.soundFlag=!1;this.parentbutton.soundButtonOff.imgNormal.setScale(this.imgNormal.scaleX._value);N.prototype.onClick.call(this,a)},__class__:Ec});var ea=function(){var a=this;v.call(this);this.owner=
new z;g.layerPrompts.addChild(this.owner);this.owner.add(this);null==i.font30grey&&(i.font30grey=new za(i.pack,"font30grey/font"),i.font30purple=new za(i.pack,"font30purple/font"));var b=new W(16777215,m._platform.getStage().get_width(),m._platform.getStage().get_height());b.alpha.set__(1.0E-7);var c=new W(16777215,0.1,0.1);this.owner.add(c);c.y.set__(0.5*m._platform.getStage().get_height());c.y.animateTo(0,0.55,oa.cubeOut);q.attachToNewEntity(b,this.owner);this.promptBaseImg=new ia(i.pack.getTexture("prompt_bg"));
this.promptBaseImgEnt=q.attachToNewEntity(this.promptBaseImg,this.owner);this.promptBaseImg.centerAnchor();this.promptBaseImg.setXY(0.5*m._platform.getStage().get_width(),0.5*m._platform.getStage().get_height());this.promptOkImg=new ia(i.pack.getTexture("prompt_ok"));q.attachToNewEntity(this.promptOkImg,this.promptBaseImgEnt);this.promptOkImg.centerAnchor();this.promptOkImg.setXY(350,340);q.delayedCall(0.55,function(){a.promptOkImg.get_pointerIn().connect(T(a,a.onOkOver));a.promptOkImg.get_pointerDown().connect(T(a,
a.onPointerDown));a.promptOkImg.get_pointerOut().connect(T(a,a.onOkOut));b.get_pointerDown().connect(T(a,a.onPointerDown));a.promptBaseImg.get_pointerDown().connect(T(a,a.onPointerDown))})};e["farmgame.prompt.PromptBase"]=ea;ea.__name__=["farmgame","prompt","PromptBase"];ea.__super__=v;ea.prototype=t(v.prototype,{get_name:function(){return"PromptBase_9"},onOkOut:function(){this.promptOkImg.scaleX.animateTo(1,0.33);this.promptOkImg.scaleY.animateTo(1,0.33)},onPointerDown:function(){null!=this.owner&&
this.owner.dispose();x.play("SOUNDS/CLICK_TILE")},onOkOver:function(){this.promptOkImg.scaleX.animateTo(1.05,0.33);this.promptOkImg.scaleY.animateTo(1.05,0.33)},onUpdate:function(a){this.promptBaseImg.setXY(0.5*m._platform.getStage().get_width(),0.5*m._platform.getStage().get_height());this.promptBaseImg.setScale(Math.min(m._platform.getStage().get_width()/800,m._platform.getStage().get_height()/600));v.prototype.onUpdate.call(this,a)},__class__:ea});var wc=function(a){ea.call(this);this.myRef=this;
this.youWinTxt=new O(i.font30grey,y.GAME_OVER[y.langIdx]);q.attachToNewEntity(this.youWinTxt,this.promptBaseImgEnt);this.youWinTxt.setAlign(H.Center);this.youWinTxt.setXY(210,0);this.scoreTxt=new O(i.font30purple,y.SCORE[y.langIdx]);q.attachToNewEntity(this.scoreTxt,this.promptBaseImgEnt);this.scoreTxt.setAlign(H.Left);this.scoreTxt.setXY(45,80);this.scoreTxtRight=new O(i.font30purple," "+a);q.attachToNewEntity(this.scoreTxtRight,this.promptBaseImgEnt);this.scoreTxtRight.setAlign(H.Right);this.scoreTxtRight.setXY(370,
80);this.bonusTxt=new O(i.font30purple,y.BONUS[y.langIdx]);q.attachToNewEntity(this.bonusTxt,this.promptBaseImgEnt);this.bonusTxt.setAlign(H.Left);this.bonusTxt.setXY(45,130);this.bonusTxtRight=new O(i.font30purple,"0");q.attachToNewEntity(this.bonusTxtRight,this.promptBaseImgEnt);this.bonusTxtRight.setAlign(H.Right);this.bonusTxtRight.setXY(370,130);var b=new O(i.font30purple,"______________________");q.attachToNewEntity(b,this.promptBaseImgEnt);b.setAlign(H.Left);b.setXY(45,160);b.disablePointer();
this.totalTxt=new O(i.font30purple,y.TOTAL[y.langIdx]);q.attachToNewEntity(this.totalTxt,this.promptBaseImgEnt);this.totalTxt.setAlign(H.Left);this.totalTxt.setXY(45,210);this.totalTxtRight=new O(i.font30purple," "+a);q.attachToNewEntity(this.totalTxtRight,this.promptBaseImgEnt);this.totalTxtRight.setAlign(H.Right);this.totalTxtRight.setXY(370,210);x.play("SOUNDS/GAMEOVER")};e["farmgame.prompt.GameOverPrompt"]=wc;wc.__name__=["farmgame","prompt","GameOverPrompt"];wc.__super__=ea;wc.prototype=t(ea.prototype,
{onPointerDown:function(a){this.myRef=null;G.reset();ea.prototype.onPointerDown.call(this,a)},__class__:wc});var Dc=function(){ea.call(this);this.howtoplaytxt=new O(i.font30grey,y.HOW_TO_PLAY[y.langIdx]);q.attachToNewEntity(this.howtoplaytxt,this.promptBaseImgEnt);this.howtoplaytxt.setAlign(H.Center);this.howtoplaytxt.setXY(210,0);this.smallText=new O(i.font30purple,y.HOW_TO_PLAY_FULL[y.langIdx]);q.attachToNewEntity(this.smallText,this.promptBaseImgEnt);this.smallText.setXY(36,67);this.smallText.setScale(0.66);
this.smallText.setWrapWidth(550);this.smallText.setAlign(H.Left)};e["farmgame.prompt.HowToPlayPrompt"]=Dc;Dc.__name__=["farmgame","prompt","HowToPlayPrompt"];Dc.__super__=ea;Dc.prototype=t(ea.prototype,{onPointerDown:function(a){ea.prototype.onPointerDown.call(this,a)},__class__:Dc});var Za=function(a){ea.call(this);Za.myRef=this;this.youWinTxt=new O(i.font30grey,y.YOU_WIN[y.langIdx]);q.attachToNewEntity(this.youWinTxt,this.promptBaseImgEnt);this.youWinTxt.setAlign(H.Center);this.youWinTxt.setXY(210,
0);this.scoreTxt=new O(i.font30purple,y.SCORE[y.langIdx]);q.attachToNewEntity(this.scoreTxt,this.promptBaseImgEnt);this.scoreTxt.setAlign(H.Left);this.scoreTxt.setXY(45,80);this.scoreTxtRight=new O(i.font30purple," "+a);q.attachToNewEntity(this.scoreTxtRight,this.promptBaseImgEnt);this.scoreTxtRight.setAlign(H.Right);this.scoreTxtRight.setXY(370,80);this.bonusTxt=new O(i.font30purple,y.BONUS[y.langIdx]);q.attachToNewEntity(this.bonusTxt,this.promptBaseImgEnt);this.bonusTxt.setAlign(H.Left);this.bonusTxt.setXY(45,
130);this.bonusTxtRight=new O(i.font30purple," "+a);q.attachToNewEntity(this.bonusTxtRight,this.promptBaseImgEnt);this.bonusTxtRight.setAlign(H.Right);this.bonusTxtRight.setXY(370,130);var b=new O(i.font30purple,"______________________");q.attachToNewEntity(b,this.promptBaseImgEnt);b.setAlign(H.Left);b.setXY(45,160);this.totalTxt=new O(i.font30purple,y.TOTAL[y.langIdx]);q.attachToNewEntity(this.totalTxt,this.promptBaseImgEnt);this.totalTxt.setAlign(H.Left);this.totalTxt.setXY(45,210);this.totalTxtRight=
new O(i.font30purple," "+2*a);q.attachToNewEntity(this.totalTxtRight,this.promptBaseImgEnt);this.totalTxtRight.setAlign(H.Right);this.totalTxtRight.setXY(370,210);da.myRef.score=2*a;x.play("SOUNDS/WON")};e["farmgame.prompt.YouWinPrompt"]=Za;Za.__name__=["farmgame","prompt","YouWinPrompt"];Za.won=function(){null==Za.myRef&&new Za(da.myRef.score)};Za.__super__=ea;Za.prototype=t(ea.prototype,{onPointerDown:function(a){ea.prototype.onPointerDown.call(this,a);Za.myRef=null;G.reset()},__class__:Za});var z=
function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};e["flambe.Entity"]=z;z.__name__=["flambe","Entity"];z.__interfaces__=[xa];z.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=
c;){var h=c.next;if(c==a)return null==b?this.firstComponent=h:(b.owner=this,b.next=h),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=h}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,h=this.firstChild;null!=h;)c=h,h=h.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=
null,c=this.firstChild;null!=c;){var h=c.next;if(c==a){null==b?this.firstChild=h:b.next=h;c.parent=null;c.next=null;break}b=c;c=h}},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:z};var Ae=function(){};e["flambe.util.PackageLog"]=Ae;Ae.__name__=["flambe","util","PackageLog"];var pd=function(){};e["flambe.platform.Platform"]=
pd;pd.__name__=["flambe","platform","Platform"];pd.prototype={__class__:pd};var cb=function(){};e["flambe.platform.html.HtmlPlatform"]=cb;cb.__name__=["flambe","platform","html","HtmlPlatform"];cb.__interfaces__=[pd];cb.prototype={init:function(){var a=this;B.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){c instanceof o&&(c=c.val)}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=
new xb(b);this._pointer=new aa;this._mouse=new Gc(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new yb;this.musicPlaying=!1;this._canvas=b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var h=0,d=function(c){if(!(1E3>c.timeStamp-h)){var d=b.getBoundingClientRect(),e=a.getX(c,d),d=a.getY(c,d);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(e,
d,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(e,d);break;case "mouseup":a._mouse.submitUp(e,d,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(e,d,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",d,!1);window.addEventListener("mousemove",d,!1);window.addEventListener("mouseup",d,!1);b.addEventListener("mousewheel",d,!1);b.addEventListener("DOMMouseScroll",d,!1);b.addEventListener("contextmenu",
function(a){a.preventDefault()},!1);var e="undefined"!=typeof window.ontouchstart,d="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(e||d){var f=new Hc(this._pointer,e?4:window.navigator.msMaxTouchPoints);this._touch=f;d=function(b){var c;c=e?b.changedTouches:[b];var d=b.target.getBoundingClientRect();h=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();B.SHOULD_HIDE_MOBILE_BROWSER&&B.hideMobileBrowser();for(b=0;b<c.length;){var na=
c[b];++b;var g=a.getX(na,d),j=a.getY(na,d);f.submitDown((e?na.identifier:na.pointerId)|0,g,j)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<c.length;)na=c[b],++b,g=a.getX(na,d),j=a.getY(na,d),f.submitMove((e?na.identifier:na.pointerId)|0,g,j);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)na=c[b],++b,g=a.getX(na,d),j=a.getY(na,d),f.submitUp((e?na.identifier:na.pointerId)|0,g,j)}};e?(b.addEventListener("touchstart",
d,!1),b.addEventListener("touchmove",d,!1),b.addEventListener("touchend",d,!1),b.addEventListener("touchcancel",d,!1)):(b.addEventListener("MSPointerDown",d,!1),b.addEventListener("MSPointerMove",d,!1),b.addEventListener("MSPointerUp",d,!1))}else this._touch=new Ic;var g=window.onerror;window.onerror=function(a,b,c){m.uncaughtError.emit(a);return null!=g?g(a,b,c):!1};var j=B.loadExtension("hidden",window.document);null!=j.value?(d=function(){m.hidden.set__(J.field(window.document,j.field))},d(null),
window.document.addEventListener(j.prefix+"visibilitychange",d,!1)):(d=function(a){m.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",d,!1),window.addEventListener("pagehide",d,!1));m.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var i=B.loadExtension("requestAnimationFrame").value;if(null!=i){var l=window.performance,k=null!=l&&B.polyfill("now",l);k?this._lastUpdate=l.now():null;var n=null,n=function(c){a.update(k?
l.now():c);i(n,b)};i(n,b)}else window.setInterval(function(){a.update(Date.now())},16);d=new Lb;d.success.connect(function(){Mb.info("Initialized HTML platform",["renderer",a._renderer.get_type()])});d.set_result(!0);return d},loadAssetPack:function(a){return(new K(this,a)).promise},getStage:function(){return this._stage},getStorage:function(){if(null==this._storage){var a=Jc.getLocalStorage();this._storage=null!=a?new Kc(a):new Lc}return this._storage},update:function(a){var b=(a-this._lastUpdate)/
1E3;this._lastUpdate=a;m.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getMouse:function(){return this._mouse},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new ta;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",
b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getWeb:function(){null==this._web&&(this._web=new Mc(this._container));return this._web},getExternal:function(){null==this._external&&(this._external=new Nc);return this._external},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){return new zb(a)},__class__:cb};
var ja=function(a,b){this._value=a;this._changed=null!=b?new Nb(b):null};e["flambe.util.Value"]=ja;ja.__name__=["flambe","util","Value"];ja.prototype={watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},get__:function(){return this._value},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},get_changed:function(){null==this._changed&&(this._changed=new Nb);return this._changed},__class__:ja};var Ab=function(a,
b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};e["flambe.util.SignalConnection"]=Ab;Ab.__name__=["flambe","util","SignalConnection"];Ab.__interfaces__=[xa];Ab.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:Ab};var V=function(a){this._head=null!=a?new Ab(this,a):null;this._deferredTasks=null};e["flambe.util.SignalBase"]=V;V.__name__=["flambe","util","SignalBase"];
V.prototype={connectImpl:function(a,b){var c=this,h=new Ab(this,a);this._head==V.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(h,b)}):this.listAdd(h,b);return h},disconnect:function(a){var b=this;this._head==V.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new qd(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=V.DISPATCHING_SENTINEL;return a},
didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,h=this._head;null!=h;)c=h,h=h._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:V};var Nb=function(a){V.call(this,a)};e["flambe.util.Signal2"]=Nb;Nb.__name__=["flambe","util","Signal2"];
Nb.__super__=V;Nb.prototype=t(V.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==V.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),h=c;null!=h;)h._listener(a,b),h.stayInList||h.dispose(),h=h._next;this.didEmit(c)},__class__:Nb});var P=function(a){V.call(this,a)};e["flambe.util.Signal1"]=P;P.__name__=["flambe","util","Signal1"];P.__super__=V;P.prototype=
t(V.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==V.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:P});var Q=function(a,b){this._behavior=null;ja.call(this,a,b)};e["flambe.animation.AnimatedFloat"]=Q;Q.__name__=["flambe","animation","AnimatedFloat"];Q.__super__=
ja;Q.prototype=t(ja.prototype,{set__:function(a){this._behavior=null;return ja.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(ja.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},animateTo:function(a,b,c){this.set_behavior(new Ob(this._value,a,b,c))},animateBy:function(a,b,c){this.set_behavior(new Ob(this._value,this._value+a,b,c))},set_behavior:function(a){this._behavior=a;this.update(0);return a},__class__:Q});var m=
function(){};e["flambe.System"]=m;m.__name__=["flambe","System"];m.init=function(){m._calledInit||(m.promise=m._platform.init(),m._calledInit=!0);return m.promise};var Mb=function(){};e["flambe.Log"]=Mb;Mb.__name__=["flambe","Log"];Mb.info=function(){null};Mb.__super__=Ae;Mb.prototype=t(Ae.prototype,{__class__:Mb});var uc=function(a){null==a&&(a=1);this._realDt=0;v.call(this);this.scale=new Q(a)};e["flambe.SpeedAdjuster"]=uc;uc.__name__=["flambe","SpeedAdjuster"];uc.__super__=v;uc.prototype=t(v.prototype,
{get_name:function(){return"SpeedAdjuster_5"},onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},__class__:uc});var rd=function(){};e["flambe.animation.Behavior"]=rd;rd.__name__=["flambe","animation","Behavior"];rd.prototype={__class__:rd};var oa=function(){};e["flambe.animation.Ease"]=oa;oa.__name__=["flambe","animation","Ease"];oa.linear=function(a){return a};oa.cubeOut=function(a){return 1+--a*a*a};oa.backIn=function(a){return a*a*(2.70158*a-1.70158)};oa.elasticOut=
function(a){return Math.pow(2,-10*a)*Math.sin(6.283185307179586*(a-0.06366197723675814*Math.asin(1))/0.4)+1};var Ob=function(a,b,c,h){this._from=a;this._to=b;this._duration=c;this.elapsed=0;this._easing=null!=h?h:oa.linear};e["flambe.animation.Tween"]=Ob;Ob.__name__=["flambe","animation","Tween"];Ob.__interfaces__=[rd];Ob.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},isComplete:function(){return this.elapsed>=
this._duration},__class__:Ob};var mb=function(){};e["flambe.asset.Asset"]=mb;mb.__name__=["flambe","asset","Asset"];mb.__interfaces__=[xa];mb.prototype={__class__:mb};var r=e["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};r.WEBP=["WEBP",0];r.WEBP.toString=j;r.WEBP.__enum__=r;r.JXR=["JXR",1];r.JXR.toString=j;r.JXR.__enum__=r;r.PNG=["PNG",2];r.PNG.toString=j;r.PNG.__enum__=r;r.JPG=["JPG",
3];r.JPG.toString=j;r.JPG.__enum__=r;r.GIF=["GIF",4];r.GIF.toString=j;r.GIF.__enum__=r;r.DDS=["DDS",5];r.DDS.toString=j;r.DDS.__enum__=r;r.PVR=["PVR",6];r.PVR.toString=j;r.PVR.__enum__=r;r.PKM=["PKM",7];r.PKM.toString=j;r.PKM.__enum__=r;r.MP3=["MP3",8];r.MP3.toString=j;r.MP3.__enum__=r;r.M4A=["M4A",9];r.M4A.toString=j;r.M4A.__enum__=r;r.OPUS=["OPUS",10];r.OPUS.toString=j;r.OPUS.__enum__=r;r.OGG=["OGG",11];r.OGG.toString=j;r.OGG.__enum__=r;r.WAV=["WAV",12];r.WAV.toString=j;r.WAV.__enum__=r;r.Data=
["Data",13];r.Data.toString=j;r.Data.__enum__=r;var sd=function(a,b,c,h){this.name=a;this.url=b;this.format=c;this.bytes=h};e["flambe.asset.AssetEntry"]=sd;sd.__name__=["flambe","asset","AssetEntry"];sd.prototype={__class__:sd};var Oc=function(){};e["flambe.asset.AssetPack"]=Oc;Oc.__name__=["flambe","asset","AssetPack"];Oc.__interfaces__=[xa];Oc.prototype={__class__:Oc};var Pc=function(){};e["flambe.asset.File"]=Pc;Pc.__name__=["flambe","asset","File"];Pc.__interfaces__=[mb];Pc.prototype={__class__:Pc};
var la=function(){this._localBase=this._remoteBase=null;this._entries=[]};e["flambe.asset.Manifest"]=la;la.__name__=["flambe","asset","Manifest"];la.fromAssets=function(a,b){null==b&&(b=!0);var c=J.field(Qc.getType(la).assets[0],a);if(null==c){if(b)throw new o(fa.withFields("Missing asset pack",["name",a]));return null}var h=new la;h.set_localBase("assets");for(var d=0;d<c.length;){var e=c[d];++d;var f=e.name,g=a+"/"+f+"?v="+u.string(e.md5),j=la.inferFormat(f);j!=r.Data&&(f=fa.removeFileExtension(f));
h.add(f,g,e.bytes,j)}return h};la.inferFormat=function(a){a=fa.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return r.GIF;case "jpg":case "jpeg":return r.JPG;case "jxr":case "wdp":return r.JXR;case "png":return r.PNG;case "webp":return r.WEBP;case "dds":return r.DDS;case "pvr":return r.PVR;case "pkm":return r.PKM;case "m4a":return r.M4A;case "mp3":return r.MP3;case "ogg":return r.OGG;case "opus":return r.OPUS;case "wav":return r.WAV}else null;return r.Data};la.prototype={add:function(a,
b,c,h){null==c&&(c=0);null==h&&(h=la.inferFormat(b));a=new sd(a,b,h,c);this._entries.push(a);return a},iterator:function(){return w.iter(this._entries)},getFullURL:function(a){var b;b=null!=this.get_remoteBase()&&la._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?fa.joinPath(b,a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=a&&Be.that(!I.startsWith(a,"http://")&&!I.startsWith(a,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",
null);return this._localBase=a},get_remoteBase:function(){return this._remoteBase},__class__:la};var S=e["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};S.Normal=["Normal",0];S.Normal.toString=j;S.Normal.__enum__=S;S.Add=["Add",1];S.Add.toString=j;S.Add.__enum__=S;S.Multiply=["Multiply",2];S.Multiply.toString=j;S.Multiply.__enum__=S;S.Screen=["Screen",3];S.Screen.toString=j;S.Screen.__enum__=S;S.Mask=["Mask",
4];S.Mask.toString=j;S.Mask.__enum__=S;S.Copy=["Copy",5];S.Copy.toString=j;S.Copy.__enum__=S;var kb=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};e["flambe.math.Point"]=kb;kb.__name__=["flambe","math","Point"];kb.prototype={distanceTo:function(a,b){return Math.sqrt(this.distanceToSquared(a,b))},distanceToSquared:function(a,b){var c=this.x-a,h=this.y-b;return c*c+h*h},__class__:kb};var F=function(){this.blendMode=this.scissor=null;var a=this;v.call(this);this._flags|=54;this._localMatrix=
new td;var b=function(){a._flags|=24};this.x=new Q(0,b);this.y=new Q(0,b);this.rotation=new Q(0,b);this.scaleX=new Q(1,b);this.scaleY=new Q(1,b);this.anchorX=new Q(0,b);this.anchorY=new Q(0,b);this.alpha=new Q(1)};e["flambe.display.Sprite"]=F;F.__name__=["flambe","display","Sprite"];F.hitTest=function(a,b,c,h){null==h&&(h=0);h++;var d=a._compMap.Sprite_0;if(null!=d){if(6!=(d._flags&6))return null;d.getLocalMatrix().inverseTransform(b,c,F._scratchPoint)&&(b=F._scratchPoint.x,c=F._scratchPoint.y);var e=
d.scissor;if(null!=e&&!e.contains(b,c))return null}a=F.hitTestBackwards(a.firstChild,b,c,h);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};F.render=function(a,b){var c=a._compMap.Sprite_0;if(null!=c){var h=c.alpha._value;if(0==(c._flags&2)||0>=h)return;b.save();1>h&&b.multiplyAlpha(h);null!=c.blendMode&&b.setBlendMode(c.blendMode);var h=c.getLocalMatrix(),d=h.m02,e=h.m12;0!=(c._flags&32)&&(d=Math.round(d),e=Math.round(e));b.transform(h.m00,h.m10,h.m01,h.m11,d,e);h=c.scissor;null!=h&&b.applyScissor(h.x,
h.y,h.width,h.height);c.draw(b)}h=a._compMap.Director_3;if(null!=h){h=h.occludedScenes;for(d=0;d<h.length;)e=h[d],++d,F.render(e,b)}for(h=a.firstChild;null!=h;)d=h.next,F.render(h,b),h=d;null!=c&&b.restore()};F.hitTestBackwards=function(a,b,c,h){if(null!=a){var d=F.hitTestBackwards(a.next,b,c,h);return null!=d?d:F.hitTest(a,b,c,h)}return null};F.__super__=v;F.prototype=t(v.prototype,{get_name:function(){return"Sprite_0"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,
b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){0!=(this._flags&8)&&(this._flags&=-9,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setXY:function(a,
b){this.x.set__(a);this.y.set__(b);return this},setAlpha:function(a){this.alpha.set__(a);return this},setRotation:function(a){this.rotation.set__(a);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},disablePointer:function(){this.set_pointerEnabled(!1);return this},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(a){this.x.update(a);
this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},draw:function(){},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_0;if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this._pointerDown&&(this._pointerDown=new P);return this._pointerDown},get_pointerIn:function(){null==this._pointerIn&&(this._pointerIn=
new P);return this._pointerIn},get_pointerOut:function(){null==this._pointerOut&&(this._pointerOut=new P);return this._pointerOut},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=m._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&64)&&a._pointerOut.emit(b);a._flags&=-65;a._hoverConnection.dispose();a._hoverConnection=null}))},set_visible:function(a){this._flags=ud.set(this._flags,
2,a);return a},set_pointerEnabled:function(a){this._flags=ud.set(this._flags,4,a);return a},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=64,null!=this._pointerIn||null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},onPointerUp:function(a){switch(a.source[1]){case 1:null!=
this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(a)},__class__:F});var W=function(a,b,c){F.call(this);this.color=a;this.width=new Q(b);this.height=new Q(c)};e["flambe.display.FillSprite"]=W;W.__name__=["flambe","display","FillSprite"];W.__super__=F;W.prototype=t(F.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width._value,
this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(a){F.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:W});var Rc=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};e["flambe.display.Glyph"]=Rc;Rc.__name__=["flambe","display","Glyph"];Rc.prototype={draw:function(a,b,c){0<
this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?u["int"](this._kernings.h[a]):0},setKerning:function(a,b){null==this._kernings&&(this._kernings=new pa);this._kernings.h[a]=b},__class__:Rc};var za=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload()};e["flambe.display.Font"]=za;za.__name__=["flambe","display","Font"];za.prototype={layoutText:function(a,b,c,h,
d){null==d&&(d=0);null==h&&(h=0);null==c&&(c=0);null==b&&(b=H.Left);return new nb(this,a,b,c,h,d)},reload:function(){this._glyphs=new pa;this._glyphs.h[za.NEWLINE.charCode]=za.NEWLINE;for(var a=new Bb(this._file.toString()),b=new pa,c=this.name.lastIndexOf("/"),c=0<=c?w.substr(this.name,0,c+1):"",h=a.keywords();h.hasNext();)switch(h.next()){case "info":for(var d=a.pairs();d.hasNext();){var e=d.next();switch(e.key){case "size":this.size=e.getInt()}}break;case "common":for(d=a.pairs();d.hasNext();)switch(e=
d.next(),e.key){case "lineHeight":this.lineHeight=e.getInt()}break;case "page":for(var d=0,e=null,f=a.pairs();f.hasNext();){var g=f.next();switch(g.key){case "id":d=g.getInt();break;case "file":e=g.getString()}}e=this._pack.getTexture(c+fa.removeFileExtension(e));b.h[d]=e;break;case "char":d=null;for(e=a.pairs();e.hasNext();)switch(f=e.next(),f.key){case "id":d=new Rc(f.getInt());break;case "x":d.x=f.getInt();break;case "y":d.y=f.getInt();break;case "width":d.width=f.getInt();break;case "height":d.height=
f.getInt();break;case "page":f=f.getInt();d.page=b.h[f];break;case "xoffset":d.xOffset=f.getInt();break;case "yoffset":d.yOffset=f.getInt();break;case "xadvance":d.xAdvance=f.getInt()}this._glyphs.h[d.charCode]=d;break;case "kerning":d=null;f=e=0;for(g=a.pairs();g.hasNext();){var j=g.next();switch(j.key){case "first":d=this._glyphs.h[j.getInt()];break;case "second":e=j.getInt();break;case "amount":f=j.getInt()}}null!=d&&0!=f&&d.setKerning(e,f)}},__class__:za};var H=e["flambe.display.TextAlign"]={__ename__:["flambe",
"display","TextAlign"],__constructs__:["Left","Center","Right"]};H.Left=["Left",0];H.Left.toString=j;H.Left.__enum__=H;H.Center=["Center",1];H.Center.toString=j;H.Center.__enum__=H;H.Right=["Right",2];H.Right.toString=j;H.Right.__enum__=H;var nb=function(a,b,c,d,e,f){this.lines=0;var g=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(a.lineHeight+f);this.bounds=new vc;for(var j=[],f=b.length,i=0;i<f;){var l=i++,l=b.charCodeAt(l),l=a._glyphs.h[l];null!=l?this._glyphs.push(l):
null}for(var b=-1,m=0,k=0,a=a._glyphs.h[10],f=function(){g.bounds.width=Sc.max(g.bounds.width,m);g.bounds.height+=k;j[g.lines]=m;k=m=0;++g.lines},i=0;i<this._glyphs.length;){l=this._glyphs[i];this._offsets[i]=Math.round(m);var o=0<d&&m+l.width>d;o||l==a?(o&&(0<=b?(this._glyphs[b]=a,m=this._offsets[b],i=b):this._glyphs.splice(i,0,a)),b=-1,k=this._lineOffset,f()):(32==l.charCode&&(b=i),m+=l.xAdvance+e,k=Sc.max(k,l.height+l.yOffset),i+1<this._glyphs.length&&(m+=l.getKerning(this._glyphs[i+1].charCode)));
++i}f();e=0;a=nb.getAlignOffset(c,j[0],d);b=1.79769313486231E308;f=-1.79769313486231E308;l=i=0;for(o=this._glyphs.length;l<o;){var n=this._glyphs[l];10==n.charCode&&(e+=this._lineOffset,++i,a=nb.getAlignOffset(c,j[i],d));this._offsets[l]+=a;var p=e+n.yOffset,b=b<p?b:p,f=Sc.max(f,p+n.height);++l}this.bounds.x=nb.getAlignOffset(c,this.bounds.width,d);this.bounds.y=b;this.bounds.height=f-b};e["flambe.display.TextLayout"]=nb;nb.__name__=["flambe","display","TextLayout"];nb.getAlignOffset=function(a,b,
c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round((c-b)/2)}};nb.prototype={draw:function(a){for(var b=0,c=0,d=this._glyphs.length;c<d;){var e=this._glyphs[c];10==e.charCode?b+=this._lineOffset:e.draw(a,this._offsets[c],b);++c}},__class__:nb};var Bb=function(a){this._configText=a;this._keywordPattern=new wa("([A-Za-z]+)(.*)","");this._pairPattern=new wa('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};e["flambe.display._Font.ConfigParser"]=Bb;Bb.__name__=["flambe","display","_Font","ConfigParser"];
Bb.advance=function(a,b){var c=b.matchedPos();return w.substr(a,c.pos+c.len,a.length)};Bb.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=Bb.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},pairs:function(){var a=this,b=this._pairText;return{next:function(){b=Bb.advance(b,a._pairPattern);return new vd(a._pairPattern.matched(1),a._pairPattern.matched(2))},
hasNext:function(){return a._pairPattern.match(b)}}},__class__:Bb};var vd=function(a,b){this.key=a;this._value=b};e["flambe.display._Font.ConfigPair"]=vd;vd.__name__=["flambe","display","_Font","ConfigPair"];vd.prototype={getInt:function(){return u.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:w.substr(this._value,1,this._value.length-2)},__class__:vd};var wd=function(){};e["flambe.display.Graphics"]=wd;wd.__name__=["flambe","display","Graphics"];wd.prototype=
{__class__:wd};var ia=function(a){F.call(this);this.texture=a};e["flambe.display.ImageSprite"]=ia;ia.__name__=["flambe","display","ImageSprite"];ia.__super__=F;ia.prototype=t(F.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:ia});var Wa=e["flambe.display.Orientation"]={__ename__:["flambe","display",
"Orientation"],__constructs__:["Portrait","Landscape"]};Wa.Portrait=["Portrait",0];Wa.Portrait.toString=j;Wa.Portrait.__enum__=Wa;Wa.Landscape=["Landscape",1];Wa.Landscape.toString=j;Wa.Landscape.__enum__=Wa;var Tc=function(){};e["flambe.display.Texture"]=Tc;Tc.__name__=["flambe","display","Texture"];Tc.__interfaces__=[mb];Tc.prototype={__class__:Tc};var Ce=function(){};e["flambe.display.SubTexture"]=Ce;Ce.__name__=["flambe","display","SubTexture"];Ce.__interfaces__=[Tc];var O=function(a,b){null==
b&&(b="");this._layout=null;var c=this;F.call(this);this._font=a;this._text=b;this._align=H.Left;this._flags|=128;var d=function(){c._flags|=128};this.wrapWidth=new Q(0,d);this.letterSpacing=new Q(0,d);this.lineSpacing=new Q(0,d)};e["flambe.display.TextSprite"]=O;O.__name__=["flambe","display","TextSprite"];O.__super__=F;O.prototype=t(F.prototype,{draw:function(a){this.updateLayout();this._layout.draw(a)},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:
this._layout.bounds.width},getNaturalHeight:function(){this.updateLayout();var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),b=this._layout.bounds.height;return a>b?a:b},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},setWrapWidth:function(a){this.wrapWidth.set__(a);return this},setAlign:function(a){this.set_align(a);return this},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=128);return a},set_align:function(a){a!=this._align&&
(this._align=a,this._flags|=128);return a},updateLayout:function(){0!=(this._flags&128)&&(this._flags&=-129,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,this.letterSpacing._value,this.lineSpacing._value))},onUpdate:function(a){F.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:O});var d=e["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
d.A=["A",0];d.A.toString=j;d.A.__enum__=d;d.B=["B",1];d.B.toString=j;d.B.__enum__=d;d.C=["C",2];d.C.toString=j;d.C.__enum__=d;d.D=["D",3];d.D.toString=j;d.D.__enum__=d;d.E=["E",4];d.E.toString=j;d.E.__enum__=d;d.F=["F",5];d.F.toString=j;d.F.__enum__=d;d.G=["G",6];d.G.toString=j;d.G.__enum__=d;d.H=["H",7];d.H.toString=j;d.H.__enum__=d;d.I=["I",8];d.I.toString=j;d.I.__enum__=d;d.J=["J",9];d.J.toString=j;d.J.__enum__=d;d.K=["K",10];d.K.toString=j;d.K.__enum__=d;d.L=["L",11];d.L.toString=j;d.L.__enum__=
d;d.M=["M",12];d.M.toString=j;d.M.__enum__=d;d.N=["N",13];d.N.toString=j;d.N.__enum__=d;d.O=["O",14];d.O.toString=j;d.O.__enum__=d;d.P=["P",15];d.P.toString=j;d.P.__enum__=d;d.Q=["Q",16];d.Q.toString=j;d.Q.__enum__=d;d.R=["R",17];d.R.toString=j;d.R.__enum__=d;d.S=["S",18];d.S.toString=j;d.S.__enum__=d;d.T=["T",19];d.T.toString=j;d.T.__enum__=d;d.U=["U",20];d.U.toString=j;d.U.__enum__=d;d.V=["V",21];d.V.toString=j;d.V.__enum__=d;d.W=["W",22];d.W.toString=j;d.W.__enum__=d;d.X=["X",23];d.X.toString=
j;d.X.__enum__=d;d.Y=["Y",24];d.Y.toString=j;d.Y.__enum__=d;d.Z=["Z",25];d.Z.toString=j;d.Z.__enum__=d;d.Number0=["Number0",26];d.Number0.toString=j;d.Number0.__enum__=d;d.Number1=["Number1",27];d.Number1.toString=j;d.Number1.__enum__=d;d.Number2=["Number2",28];d.Number2.toString=j;d.Number2.__enum__=d;d.Number3=["Number3",29];d.Number3.toString=j;d.Number3.__enum__=d;d.Number4=["Number4",30];d.Number4.toString=j;d.Number4.__enum__=d;d.Number5=["Number5",31];d.Number5.toString=j;d.Number5.__enum__=
d;d.Number6=["Number6",32];d.Number6.toString=j;d.Number6.__enum__=d;d.Number7=["Number7",33];d.Number7.toString=j;d.Number7.__enum__=d;d.Number8=["Number8",34];d.Number8.toString=j;d.Number8.__enum__=d;d.Number9=["Number9",35];d.Number9.toString=j;d.Number9.__enum__=d;d.Numpad0=["Numpad0",36];d.Numpad0.toString=j;d.Numpad0.__enum__=d;d.Numpad1=["Numpad1",37];d.Numpad1.toString=j;d.Numpad1.__enum__=d;d.Numpad2=["Numpad2",38];d.Numpad2.toString=j;d.Numpad2.__enum__=d;d.Numpad3=["Numpad3",39];d.Numpad3.toString=
j;d.Numpad3.__enum__=d;d.Numpad4=["Numpad4",40];d.Numpad4.toString=j;d.Numpad4.__enum__=d;d.Numpad5=["Numpad5",41];d.Numpad5.toString=j;d.Numpad5.__enum__=d;d.Numpad6=["Numpad6",42];d.Numpad6.toString=j;d.Numpad6.__enum__=d;d.Numpad7=["Numpad7",43];d.Numpad7.toString=j;d.Numpad7.__enum__=d;d.Numpad8=["Numpad8",44];d.Numpad8.toString=j;d.Numpad8.__enum__=d;d.Numpad9=["Numpad9",45];d.Numpad9.toString=j;d.Numpad9.__enum__=d;d.NumpadAdd=["NumpadAdd",46];d.NumpadAdd.toString=j;d.NumpadAdd.__enum__=d;d.NumpadDecimal=
["NumpadDecimal",47];d.NumpadDecimal.toString=j;d.NumpadDecimal.__enum__=d;d.NumpadDivide=["NumpadDivide",48];d.NumpadDivide.toString=j;d.NumpadDivide.__enum__=d;d.NumpadEnter=["NumpadEnter",49];d.NumpadEnter.toString=j;d.NumpadEnter.__enum__=d;d.NumpadMultiply=["NumpadMultiply",50];d.NumpadMultiply.toString=j;d.NumpadMultiply.__enum__=d;d.NumpadSubtract=["NumpadSubtract",51];d.NumpadSubtract.toString=j;d.NumpadSubtract.__enum__=d;d.F1=["F1",52];d.F1.toString=j;d.F1.__enum__=d;d.F2=["F2",53];d.F2.toString=
j;d.F2.__enum__=d;d.F3=["F3",54];d.F3.toString=j;d.F3.__enum__=d;d.F4=["F4",55];d.F4.toString=j;d.F4.__enum__=d;d.F5=["F5",56];d.F5.toString=j;d.F5.__enum__=d;d.F6=["F6",57];d.F6.toString=j;d.F6.__enum__=d;d.F7=["F7",58];d.F7.toString=j;d.F7.__enum__=d;d.F8=["F8",59];d.F8.toString=j;d.F8.__enum__=d;d.F9=["F9",60];d.F9.toString=j;d.F9.__enum__=d;d.F10=["F10",61];d.F10.toString=j;d.F10.__enum__=d;d.F11=["F11",62];d.F11.toString=j;d.F11.__enum__=d;d.F12=["F12",63];d.F12.toString=j;d.F12.__enum__=d;d.F13=
["F13",64];d.F13.toString=j;d.F13.__enum__=d;d.F14=["F14",65];d.F14.toString=j;d.F14.__enum__=d;d.F15=["F15",66];d.F15.toString=j;d.F15.__enum__=d;d.Left=["Left",67];d.Left.toString=j;d.Left.__enum__=d;d.Up=["Up",68];d.Up.toString=j;d.Up.__enum__=d;d.Right=["Right",69];d.Right.toString=j;d.Right.__enum__=d;d.Down=["Down",70];d.Down.toString=j;d.Down.__enum__=d;d.Alt=["Alt",71];d.Alt.toString=j;d.Alt.__enum__=d;d.Backquote=["Backquote",72];d.Backquote.toString=j;d.Backquote.__enum__=d;d.Backslash=
["Backslash",73];d.Backslash.toString=j;d.Backslash.__enum__=d;d.Backspace=["Backspace",74];d.Backspace.toString=j;d.Backspace.__enum__=d;d.CapsLock=["CapsLock",75];d.CapsLock.toString=j;d.CapsLock.__enum__=d;d.Comma=["Comma",76];d.Comma.toString=j;d.Comma.__enum__=d;d.Command=["Command",77];d.Command.toString=j;d.Command.__enum__=d;d.Control=["Control",78];d.Control.toString=j;d.Control.__enum__=d;d.Delete=["Delete",79];d.Delete.toString=j;d.Delete.__enum__=d;d.End=["End",80];d.End.toString=j;d.End.__enum__=
d;d.Enter=["Enter",81];d.Enter.toString=j;d.Enter.__enum__=d;d.Equals=["Equals",82];d.Equals.toString=j;d.Equals.__enum__=d;d.Escape=["Escape",83];d.Escape.toString=j;d.Escape.__enum__=d;d.Home=["Home",84];d.Home.toString=j;d.Home.__enum__=d;d.Insert=["Insert",85];d.Insert.toString=j;d.Insert.__enum__=d;d.LeftBracket=["LeftBracket",86];d.LeftBracket.toString=j;d.LeftBracket.__enum__=d;d.Minus=["Minus",87];d.Minus.toString=j;d.Minus.__enum__=d;d.PageDown=["PageDown",88];d.PageDown.toString=j;d.PageDown.__enum__=
d;d.PageUp=["PageUp",89];d.PageUp.toString=j;d.PageUp.__enum__=d;d.Period=["Period",90];d.Period.toString=j;d.Period.__enum__=d;d.Quote=["Quote",91];d.Quote.toString=j;d.Quote.__enum__=d;d.RightBracket=["RightBracket",92];d.RightBracket.toString=j;d.RightBracket.__enum__=d;d.Semicolon=["Semicolon",93];d.Semicolon.toString=j;d.Semicolon.__enum__=d;d.Shift=["Shift",94];d.Shift.toString=j;d.Shift.__enum__=d;d.Slash=["Slash",95];d.Slash.toString=j;d.Slash.__enum__=d;d.Space=["Space",96];d.Space.toString=
j;d.Space.__enum__=d;d.Tab=["Tab",97];d.Tab.toString=j;d.Tab.__enum__=d;d.Menu=["Menu",98];d.Menu.toString=j;d.Menu.__enum__=d;d.Search=["Search",99];d.Search.toString=j;d.Search.__enum__=d;d.Unknown=function(a){a=["Unknown",100,a];a.__enum__=d;a.toString=j;return a};var xd=function(){this.init(0,null)};e["flambe.input.KeyboardEvent"]=xd;xd.__name__=["flambe","input","KeyboardEvent"];xd.prototype={init:function(a,b){this.id=a;this.key=b},__class__:xd};var ba=e["flambe.input.MouseButton"]={__ename__:["flambe",
"input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};ba.Left=["Left",0];ba.Left.toString=j;ba.Left.__enum__=ba;ba.Middle=["Middle",1];ba.Middle.toString=j;ba.Middle.__enum__=ba;ba.Right=["Right",2];ba.Right.toString=j;ba.Right.__enum__=ba;ba.Unknown=function(a){a=["Unknown",3,a];a.__enum__=ba;a.toString=j;return a};var $=e["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};$.Default=["Default",0];$.Default.toString=
j;$.Default.__enum__=$;$.Button=["Button",1];$.Button.toString=j;$.Button.__enum__=$;$.None=["None",2];$.None.toString=j;$.None.__enum__=$;var yd=function(){this.init(0,0,0,null)};e["flambe.input.MouseEvent"]=yd;yd.__name__=["flambe","input","MouseEvent"];yd.prototype={init:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:yd};var Uc=e["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};Uc.Mouse=function(a){a=["Mouse",
0,a];a.__enum__=Uc;a.toString=j;return a};Uc.Touch=function(a){a=["Touch",1,a];a.__enum__=Uc;a.toString=j;return a};var zd=function(){this.init(0,0,0,null,null)};e["flambe.input.PointerEvent"]=zd;zd.__name__=["flambe","input","PointerEvent"];zd.prototype={init:function(a,b,c,d,e){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=e;this._stopped=!1},__class__:zd};var Ad=function(a){this.id=a;this._source=Uc.Touch(this)};e["flambe.input.TouchPoint"]=Ad;Ad.__name__=["flambe","input","TouchPoint"];
Ad.prototype={init:function(a,b){this.viewX=a;this.viewY=b},__class__:Ad};var Sc=function(){};e["flambe.math.FMath"]=Sc;Sc.__name__=["flambe","math","FMath"];Sc.max=function(a,b){return a>b?a:b};var td=function(){this.identity()};e["flambe.math.Matrix"]=td;td.__name__=["flambe","math","Matrix"];td.prototype={set:function(a,b,c,d,e,f){this.m00=a;this.m01=c;this.m02=e;this.m10=b;this.m11=d;this.m12=f},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,d,e){var f=Math.sin(e),e=Math.cos(e);
this.set(e*c,f*c,-f*d,e*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},__class__:td};var vc=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};e["flambe.math.Rectangle"]=
vc;vc.__name__=["flambe","math","Rectangle"];vc.prototype={set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},__class__:vc};var ga=function(){this._disposed=!1};e["flambe.platform.BasicAsset"]=ga;ga.__name__=["flambe","platform","BasicAsset"];ga.__interfaces__=[mb];
ga.prototype={dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},onDisposed:function(){null},__class__:ga};var ob=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new Lb;this._bytesLoaded=new ha;this._pack=new Vc(b,this);var d=wb.array(b);if(0==d.length)this.handleSuccess();else{for(var e=new ha,f=0;f<d.length;){var g=d[f];++f;var j=e.get(g.name);null==j&&(j=[],e.set(g.name,j));j.push(g)}this._assetsRemaining=wb.count(e);for(d=new Wc(e,e.arrayKeys());d.hasNext();)e=
[d.next()],this.pickBestEntry(e[0],function(a){return function(d){if(null!=d){var h=b.getFullURL(d);try{c.loadEntry(h,d)}catch(e){e instanceof o&&(e=e.val),c.handleError(d,"Unexpected error: "+u.string(e))}h=c.promise;h.set_total(h._total+d.bytes)}else d=a[0][0],ob.isAudio(d.format)?c.handleLoad(d,qa.getInstance()):c.handleError(d,"Could not find a supported format to load")}}(e))}};e["flambe.platform.BasicAssetPackLoader"]=ob;ob.__name__=["flambe","platform","BasicAssetPackLoader"];ob.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;
default:return!1}};ob.prototype={onDisposed:function(){},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var d=0;d<c.length;){var e=c[d];++d;for(var f=0;f<a.length;){var g=a[f];++f;if(g.format==e){b(g);return}}}b(null)})},loadEntry:function(){null},getAssetFormats:function(){null},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=
this._pack.sounds;break;case 13:c=this._pack.files}c.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,d=this._bytesLoaded.iterator();d.hasNext();)var e=d.next(),c=c+e;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(fa.withFields(b,["url",a.url]))},handleTextureError:function(a){this.handleError(a,
"Failed to create texture. Is the GPU context unavailable?")},__class__:ob};var Vc=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new ha;this.sounds=new ha;this.files=new ha};e["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=Vc;Vc.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];Vc.__interfaces__=[Oc];Vc.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);if(null==c&&b)throw new o(fa.withFields("Missing texture",
["name",a]));return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw new o(fa.withFields("Missing sound",["name",a]));return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw new o(fa.withFields("Missing file",["name",a]));return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();
this.sounds=null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},__class__:Vc};var Pb=function(a){this._disposed=!1;this._content=a};e["flambe.platform.BasicFile"]=Pb;Pb.__name__=["flambe","platform","BasicFile"];Pb.__interfaces__=[Pc];Pb.__super__=ga;Pb.prototype=t(ga.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=null},__class__:Pb});var Bd=function(){};e["flambe.subsystem.KeyboardSystem"]=Bd;Bd.__name__=
["flambe","subsystem","KeyboardSystem"];Bd.prototype={__class__:Bd};var ta=function(){this.down=new P;this.up=new P;this.backButton=new pb;this._keyStates=new pa};e["flambe.platform.BasicKeyboard"]=ta;ta.__name__=["flambe","platform","BasicKeyboard"];ta.__interfaces__=[Bd];ta.prototype={submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.h.hasOwnProperty(a)||(this._keyStates.h[a]=!0,ta._sharedEvent.init(ta._sharedEvent.id+1,Cd.toKey(a)),
this.down.emit(ta._sharedEvent));return!0},submitUp:function(a){this._keyStates.h.hasOwnProperty(a)&&(this._keyStates.remove(a),ta._sharedEvent.init(ta._sharedEvent.id+1,Cd.toKey(a)),this.up.emit(ta._sharedEvent))},__class__:ta};var Dd=function(){};e["flambe.subsystem.MouseSystem"]=Dd;Dd.__name__=["flambe","subsystem","MouseSystem"];Dd.prototype={__class__:Dd};var ka=function(a){this._pointer=a;this._source=Uc.Mouse(ka._sharedEvent);this.down=new P;this.move=new P;this.up=new P;this.scroll=new P;
this._y=this._x=0;this._cursor=$.Default;this._buttonStates=new pa};e["flambe.platform.BasicMouse"]=ka;ka.__name__=["flambe","platform","BasicMouse"];ka.__interfaces__=[Dd];ka.prototype={set_cursor:function(a){return this._cursor=a},submitDown:function(a,b,c){this._buttonStates.h.hasOwnProperty(c)||(this._buttonStates.h[c]=!0,this.prepare(a,b,Ed.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(ka._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,
b,this._source);this.move.emit(ka._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.h.hasOwnProperty(c)&&(this._buttonStates.remove(c),this.prepare(a,b,Ed.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(ka._sharedEvent))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;ka._sharedEvent.init(ka._sharedEvent.id+1,a,b,c)},__class__:ka};var Fd=function(){};e["flambe.subsystem.PointerSystem"]=
Fd;Fd.__name__=["flambe","subsystem","PointerSystem"];Fd.prototype={__class__:Fd};var aa=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new P;this.move=new P;this.up=new P;this._x=a;this._y=b;this._isDown=c};e["flambe.platform.BasicPointer"]=aa;aa.__name__=["flambe","platform","BasicPointer"];aa.__interfaces__=[Fd];aa.prototype={get_x:function(){return this._x},get_y:function(){return this._y},submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=
!0;var d=[],e=F.hitTest(m.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_0;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerDown(aa._sharedEvent),aa._sharedEvent._stopped)return;this.down.emit(aa._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var d=[],e=F.hitTest(m.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_0;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);
for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerMove(aa._sharedEvent),aa._sharedEvent._stopped)return;this.move.emit(aa._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var d=[],e=F.hitTest(m.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_0;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerUp(aa._sharedEvent),aa._sharedEvent._stopped)return;this.up.emit(aa._sharedEvent)}},prepare:function(a,
b,c,d){this._x=a;this._y=b;aa._sharedEvent.init(aa._sharedEvent.id+1,a,b,c,d)},__class__:aa};var qb=function(a,b,c){this._parent=null;this.rootX=this.rootY=0;this._disposed=!1;this.root=a;this._width=b;this._height=c};e["flambe.platform.BasicTexture"]=qb;qb.__name__=["flambe","platform","BasicTexture"];qb.__interfaces__=[Ce];qb.__super__=ga;qb.prototype=t(ga.prototype,{onDisposed:function(){null==this._parent&&this.root.dispose()},get_width:function(){return this._width},get_height:function(){return this._height},
__class__:qb});var De=function(){};e["flambe.subsystem.TouchSystem"]=De;De.__name__=["flambe","subsystem","TouchSystem"];var Hc=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new pa;this._points=[];this.down=new P;this.move=new P;this.up=new P};e["flambe.platform.BasicTouch"]=Hc;Hc.__name__=["flambe","platform","BasicTouch"];Hc.__interfaces__=[De];Hc.prototype={submitDown:function(a,b,c){if(!this._pointMap.h.hasOwnProperty(a)){var d=new Ad(a);d.init(b,c);this._pointMap.h[a]=
d;this._points.push(d);null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._source));this.down.emit(d)}},submitMove:function(a,b,c){a=this._pointMap.h[a];null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var d=this._pointMap.h[a];null!=d&&(d.init(b,c),this._pointMap.remove(a),w.remove(this._points,d),this._pointerTouch==d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._source)),this.up.emit(d))},
__class__:Hc};var Cb=function(){};e["flambe.sound.Sound"]=Cb;Cb.__name__=["flambe","sound","Sound"];Cb.__interfaces__=[mb];Cb.prototype={__class__:Cb};var qa=function(){this._disposed=!1;this._playback=new Xc(this)};e["flambe.platform.DummySound"]=qa;qa.__name__=["flambe","platform","DummySound"];qa.__interfaces__=[Cb];qa.getInstance=function(){null==qa._instance&&(qa._instance=new qa);return qa._instance};qa.__super__=ga;qa.prototype=t(ga.prototype,{play:function(){return this._playback},get_duration:function(){return 0},
onDisposed:function(){},__class__:qa});var Db=function(){};e["flambe.sound.Playback"]=Db;Db.__name__=["flambe","sound","Playback"];Db.__interfaces__=[xa];Db.prototype={__class__:Db};var Xc=function(a){this._sound=a;this.volume=new Q(0);this._complete=new ja(!0)};e["flambe.platform.DummyPlayback"]=Xc;Xc.__name__=["flambe","platform","DummyPlayback"];Xc.__interfaces__=[Db];Xc.prototype={get_sound:function(){return this._sound},get_paused:function(){return!0},set_paused:function(){return!0},get_position:function(){return 0},
dispose:function(){},__class__:Xc};var Yc=function(){};e["flambe.subsystem.StorageSystem"]=Yc;Yc.__name__=["flambe","subsystem","StorageSystem"];Yc.prototype={__class__:Yc};var Lc=function(){this.clear()};e["flambe.platform.DummyStorage"]=Lc;Lc.__name__=["flambe","platform","DummyStorage"];Lc.__interfaces__=[Yc];Lc.prototype={set:function(a,b){this._hash.set(a,b);return!0},get:function(a,b){return this._hash.exists(a)?this._hash.get(a):b},clear:function(){this._hash=new ha},__class__:Lc};var Ic=function(){this.down=
new P;this.move=new P;this.up=new P};e["flambe.platform.DummyTouch"]=Ic;Ic.__name__=["flambe","platform","DummyTouch"];Ic.__interfaces__=[De];Ic.prototype={__class__:Ic};var Qb=function(){this._entries=[]};e["flambe.platform.EventGroup"]=Qb;Qb.__name__=["flambe","platform","EventGroup"];Qb.__interfaces__=[xa];Qb.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new Gd(a,b,c))},addDisposingListener:function(a,b,c){var d=this;this.addListener(a,b,function(a){d.dispose();
c(a)})},dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},__class__:Qb};var Gd=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};e["flambe.platform._EventGroup.Entry"]=Gd;Gd.__name__=["flambe","platform","_EventGroup","Entry"];Gd.prototype={__class__:Gd};var Zc=function(){};e["flambe.platform.InternalGraphics"]=Zc;Zc.__name__=["flambe","platform","InternalGraphics"];Zc.__interfaces__=[wd];
Zc.prototype={__class__:Zc};var Hd=function(){};e["flambe.subsystem.RendererSystem"]=Hd;Hd.__name__=["flambe","subsystem","RendererSystem"];Hd.prototype={__class__:Hd};var $c=function(){};e["flambe.platform.InternalRenderer"]=$c;$c.__name__=["flambe","platform","InternalRenderer"];$c.__interfaces__=[Hd];$c.prototype={__class__:$c};var Cd=function(){};e["flambe.platform.KeyCodes"]=Cd;Cd.__name__=["flambe","platform","KeyCodes"];Cd.toKey=function(a){switch(a){case 65:return d.A;case 66:return d.B;case 67:return d.C;
case 68:return d.D;case 69:return d.E;case 70:return d.F;case 71:return d.G;case 72:return d.H;case 73:return d.I;case 74:return d.J;case 75:return d.K;case 76:return d.L;case 77:return d.M;case 78:return d.N;case 79:return d.O;case 80:return d.P;case 81:return d.Q;case 82:return d.R;case 83:return d.S;case 84:return d.T;case 85:return d.U;case 86:return d.V;case 87:return d.W;case 88:return d.X;case 89:return d.Y;case 90:return d.Z;case 48:return d.Number0;case 49:return d.Number1;case 50:return d.Number2;
case 51:return d.Number3;case 52:return d.Number4;case 53:return d.Number5;case 54:return d.Number6;case 55:return d.Number7;case 56:return d.Number8;case 57:return d.Number9;case 96:return d.Numpad0;case 97:return d.Numpad1;case 98:return d.Numpad2;case 99:return d.Numpad3;case 100:return d.Numpad4;case 101:return d.Numpad5;case 102:return d.Numpad6;case 103:return d.Numpad7;case 104:return d.Numpad8;case 105:return d.Numpad9;case 107:return d.NumpadAdd;case 110:return d.NumpadDecimal;case 111:return d.NumpadDivide;
case 108:return d.NumpadEnter;case 106:return d.NumpadMultiply;case 109:return d.NumpadSubtract;case 112:return d.F1;case 113:return d.F2;case 114:return d.F3;case 115:return d.F4;case 116:return d.F5;case 117:return d.F6;case 118:return d.F7;case 119:return d.F8;case 120:return d.F9;case 121:return d.F10;case 122:return d.F11;case 123:return d.F12;case 37:return d.Left;case 38:return d.Up;case 39:return d.Right;case 40:return d.Down;case 18:return d.Alt;case 192:return d.Backquote;case 220:return d.Backslash;
case 8:return d.Backspace;case 20:return d.CapsLock;case 188:return d.Comma;case 15:return d.Command;case 17:return d.Control;case 46:return d.Delete;case 35:return d.End;case 13:return d.Enter;case 187:return d.Equals;case 27:return d.Escape;case 36:return d.Home;case 45:return d.Insert;case 219:return d.LeftBracket;case 189:return d.Minus;case 34:return d.PageDown;case 33:return d.PageUp;case 190:return d.Period;case 222:return d.Quote;case 221:return d.RightBracket;case 186:return d.Semicolon;
case 16:return d.Shift;case 191:return d.Slash;case 32:return d.Space;case 9:return d.Tab;case 16777234:return d.Menu;case 16777247:return d.Search}return d.Unknown(a)};var yb=function(){this._tickables=[]};e["flambe.platform.MainLoop"]=yb;yb.__name__=["flambe","platform","MainLoop"];yb.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_5;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var d=c.next;0==(c._flags&1)&&(c._flags|=1,c.onStart());
c.onUpdate(b);c=d}for(c=a.firstChild;null!=c;)d=c.next,yb.updateEntity(c,b),c=d};yb.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}m.volume.update(a);yb.updateEntity(m.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),F.render(m.root,b),a.didRender())},addTickable:function(a){this._tickables.push(a)},__class__:yb};var Ed=function(){};e["flambe.platform.MouseCodes"]=
Ed;Ed.__name__=["flambe","platform","MouseCodes"];Ed.toButton=function(a){switch(a){case 0:return ba.Left;case 1:return ba.Middle;case 2:return ba.Right}return ba.Unknown(a)};var Tf=function(){};e["flambe.platform.TextureRoot"]=Tf;Tf.__name__=["flambe","platform","TextureRoot"];var ad=function(){};e["flambe.platform.Tickable"]=ad;ad.__name__=["flambe","platform","Tickable"];ad.prototype={__class__:ad};var bd=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};e["flambe.platform.html.CanvasGraphics"]=
bd;bd.__name__=["flambe","platform","html","CanvasGraphics"];bd.__interfaces__=[Zc];bd.prototype={save:function(){this._canvasCtx.save()},transform:function(a,b,c,d,e,f){this._canvasCtx.transform(a,b,c,d,e,f)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,e,f,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,d,e,f,g),
this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+d|0,a.rootY+e|0,f|0,g|0,b|0,c|0,f|0,g|0)},fillRect:function(a,b,c,d,e){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,d,e),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+u.string(a);this._canvasCtx.fillStyle="#"+u.string(a);this._canvasCtx.fillRect(b|0,c|0,d|0,e|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=
a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,d|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},__class__:bd};var zb=function(a){this.graphics=new bd(a,!1);this._hasGPU=
new ja(!0)};e["flambe.platform.html.CanvasRenderer"]=zb;zb.__name__=["flambe","platform","html","CanvasRenderer"];zb.__interfaces__=[$c];zb.prototype={get_type:function(){return ua.Canvas},createTextureFromImage:function(a){a=new Rb(zb.CANVAS_TEXTURES?B.createCanvas(a):a);return a.createTexture(a.width,a.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},
__class__:zb};var cd=function(a,b,c){qb.call(this,a,b,c)};e["flambe.platform.html.CanvasTexture"]=cd;cd.__name__=["flambe","platform","html","CanvasTexture"];cd.__super__=qb;cd.prototype=t(qb.prototype,{__class__:cd});var Rb=function(a){this._graphics=null;this._disposed=!1;this.image=a;this.width=a.width;this.height=a.height};e["flambe.platform.html.CanvasTextureRoot"]=Rb;Rb.__name__=["flambe","platform","html","CanvasTextureRoot"];Rb.__interfaces__=[Tf];Rb.__super__=ga;Rb.prototype=t(ga.prototype,
{createTexture:function(a,b){return new cd(this,a,b)},onDisposed:function(){this._graphics=this.image=null},__class__:Rb});var K=function(a,b){ob.call(this,a,b)};e["flambe.platform.html.HtmlAssetPackLoader"]=K;K.__name__=["flambe","platform","html","HtmlAssetPackLoader"];K.detectImageFormats=function(a){var b=[r.PNG,r.JPG,r.GIF],c=2,d;d=window.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&b.unshift(r.WEBP);--c;0==c&&a(b)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";
var e;e=window.document.createElement("img");e.onload=e.onerror=function(){1==e.width&&b.unshift(r.JXR);--c;0==c&&a(b)};e.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};K.detectAudioFormats=function(){var a;a=window.document.createElement("audio");if(null==a||null==T(a,a.canPlayType))return[];var b=new wa("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",
""),c=new wa("\\bCrosswalk\\b",""),d=window.navigator.userAgent;if(!E.get_supported()&&b.match(d)&&!c.match(d))return[];b=[{format:r.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:r.MP3,mimeType:"audio/mpeg"},{format:r.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:r.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:r.WAV,mimeType:"audio/wav"}];c=[];for(d=0;d<b.length;){var e=b[d];++d;var f="";try{f=a.canPlayType(e.mimeType)}catch(g){g instanceof o&&(g=g.val)}""!=f&&c.push(e.format)}return c};K.supportsBlob=
function(){if(K._detectBlobSupport){K._detectBlobSupport=!1;if((new wa("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;K._URL=B.loadExtension("URL").value}return null!=K._URL&&null!=K._URL.createObjectURL};K.__super__=ob;K.prototype=t(ob.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var d;
d=window.document.createElement("img");var e=new Qb;e.addDisposingListener(d,"load",function(){K.supportsBlob()&&K._URL.revokeObjectURL(d.src);var a=c._platform.getRenderer().createTextureFromImage(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});e.addDisposingListener(d,"error",function(){c.handleError(b,"Failed to load image")});K.supportsBlob()?this.download(a,b,"blob",function(a){d.src=K._URL.createObjectURL(a)}):d.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=
c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(E.get_supported())this.download(a,b,"arraybuffer",function(a){E.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new E(a))},function(){c.handleLoad(b,qa.getInstance())})});else{var f;f=window.document.createElement("audio");f.preload="auto";var g=++K._mediaRefCount;null==K._mediaElements&&(K._mediaElements=new pa);K._mediaElements.h[g]=
f;e=new Qb;e.addDisposingListener(f,"canplaythrough",function(){K._mediaElements.remove(g);c.handleLoad(b,new Sb(f))});e.addDisposingListener(f,"error",function(){K._mediaElements.remove(g);var a=f.error.code;3==a||4==a?c.handleLoad(b,qa.getInstance()):c.handleError(b,"Failed to load audio: "+f.error.code)});e.addListener(f,"progress",function(){if(0<f.buffered.length&&0<f.duration){var a=f.buffered.end(0)/f.duration;c.handleProgress(b,a*b.bytes|0)}});f.src=a;f.load()}break;case 13:this.download(a,
b,"text",function(a){c.handleLoad(b,new Pb(a))})}},getAssetFormats:function(a){var b=this;null==K._supportedFormats&&(K._supportedFormats=new Lb,K.detectImageFormats(function(a){K._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(K.detectAudioFormats()).concat([r.Data]))}));K._supportedFormats.get(a)},download:function(a,b,c,d){var e=this,f=null,g=null,j=0,i=!1,l=function(){i&&(i=!1,window.clearInterval(j))},m=3,k=function(){--m;return 0<=m?(g(),
!0):!1},g=function(){l();null!=f&&f.abort();f=new XMLHttpRequest;f.open("GET",a,!0);f.responseType=c;var g=0;f.onprogress=function(a){i||(i=!0,j=window.setInterval(function(){4!=f.readyState&&5E3<Date.now()-g&&!k()&&(l(),e.handleError(b,"Download stalled"))},1E3));g=Date.now();e.handleProgress(b,a.loaded)};f.onerror=function(){if(0!=f.status||!k())l(),e.handleError(b,"HTTP error "+f.status)};f.onload=function(){var a=f.response;null==a&&(a=f.responseText);l();d(a)};f.send()};g()},__class__:K});var Id=
function(){};e["flambe.subsystem.ExternalSystem"]=Id;Id.__name__=["flambe","subsystem","ExternalSystem"];Id.prototype={__class__:Id};var Nc=function(){};e["flambe.platform.html.HtmlExternal"]=Nc;Nc.__name__=["flambe","platform","html","HtmlExternal"];Nc.__interfaces__=[Id];Nc.prototype={call:function(a,b){null==b&&(b=[]);for(var c=window,d=c,e=0,f=a.split(".");e<f.length;){var g=f[e];++e;c=d;d=J.field(c,g)}return d.apply(c,b)},bind:function(a,b){J.setField(window,a,b)},__class__:Nc};var Gc=function(a,
b){ka.call(this,a);this._canvas=b};e["flambe.platform.html.HtmlMouse"]=Gc;Gc.__name__=["flambe","platform","html","HtmlMouse"];Gc.__super__=ka;Gc.prototype=t(ka.prototype,{set_cursor:function(a){var b;switch(a[1]){case 0:b="";break;case 1:b="pointer";break;case 2:b="none"}this._canvas.style.cursor=b;return ka.prototype.set_cursor.call(this,a)},__class__:Gc});var Sb=function(a){this._disposed=!1;this.audioElement=a};e["flambe.platform.html.HtmlSound"]=Sb;Sb.__name__=["flambe","platform","html","HtmlSound"];
Sb.__interfaces__=[Cb];Sb.__super__=ga;Sb.prototype=t(ga.prototype,{play:function(a){null==a&&(a=1);return new dd(this,a,!1)},get_duration:function(){return this.audioElement.duration},onDisposed:function(){this.audioElement=null},__class__:Sb});var dd=function(a,b,c){var d=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new Q(b,function(){d.updateVolume()});this.updateVolume();
this._complete=new ja(!1);this.playAudio();m.hidden._value&&this.set_paused(!0)};e["flambe.platform.html._HtmlSound.HtmlPlayback"]=dd;dd.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];dd.__interfaces__=[ad,Db];dd.prototype={get_sound:function(){return this._sound},get_paused:function(){return this._clonedElement.paused},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},get_position:function(){return this._clonedElement.currentTime},
update:function(a){this.volume.update(a);this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(cb.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=m.volume.get_changed().connect(function(){a.updateVolume()}),
this._hideBinding=m.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},updateVolume:function(){this._clonedElement.volume=m.volume._value*this.volume._value},__class__:dd};var Jd=function(){};e["flambe.subsystem.StageSystem"]=Jd;Jd.__name__=["flambe","subsystem","StageSystem"];Jd.prototype={__class__:Jd};var xb=function(a){var b=this;this._canvas=a;this.resize=new pb;this.preResize=new pb;this.scaleFactor=xb.computeScaleFactor();
1!=this.scaleFactor&&(B.setVendorStyle(this._canvas,"transform-origin","top left"),B.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));B.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){B.callLater(T(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",T(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new ja(null);null!=window.orientation&&(window.addEventListener("orientationchange",
T(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new ja(!1);B.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};e["flambe.platform.html.HtmlStage"]=xb;xb.__name__=["flambe","platform","html","HtmlStage"];xb.__interfaces__=[Jd];xb.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d",null),b=B.loadExtension("backingStorePixelRatio",
b).value;null==b&&(b=1);a/=b;b=window.screen.height;return 1136<a*window.screen.width||1136<a*b?1:a};xb.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},requestResize:function(a,b){if(this.resizeCanvas(a,b)){var c=this._canvas.parentElement;c.style.width=a+"px";c.style.height=b+"px"}},requestFullscreen:function(a){null==a&&(a=!0);if(a){var a=window.document.documentElement,b=B.loadFirstExtension(["requestFullscreen","requestFullScreen"],
a).value;null!=b&&b.apply(a,[])}else a=B.loadFirstExtension(["cancelFullscreen","cancelFullScreen"],window.document).value,null!=a&&J.callMethod(window.document,a,[])},onWindowResize:function(){this.preResize.emit();var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c|0;this._canvas.height=d|0;this.resize.emit();
return!0},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";B.callLater(function(){B.hideMobileBrowser();B.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(B.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(!0==B.loadFirstExtension(["fullscreen","fullScreen",
"isFullScreen"],window.document).value)},__class__:xb};var Kc=function(a){this._storage=a};e["flambe.platform.html.HtmlStorage"]=Kc;Kc.__name__=["flambe","platform","html","HtmlStorage"];Kc.__interfaces__=[Yc];Kc.prototype={set:function(a,b){var c;try{var d=new ya;d.useCache=!0;d.useEnumIndex=!1;d.serialize(b);c=d.toString()}catch(e){return e instanceof o&&(e=e.val),!1}try{this._storage.setItem("flambe:"+a,c)}catch(f){return f instanceof o&&(f=f.val),!1}return!0},get:function(a,b){var c=null;try{c=
this._storage.getItem("flambe:"+a)}catch(d){d instanceof o&&(d=d.val),null}if(null!=c)try{return Z.run(c)}catch(e){e instanceof o&&(e=e.val),null}return b},__class__:Kc};var B=function(){};e["flambe.platform.html.HtmlUtil"]=B;B.__name__=["flambe","platform","html","HtmlUtil"];B.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};B.hideMobileBrowser=function(){window.scrollTo(1,0)};B.loadExtension=function(a,b){null==b&&(b=window);var c=J.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};
for(var c=a.charAt(0).toUpperCase()+w.substr(a,1,null),d=0,e=B.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d;var g=f+c,j=J.field(b,g);if(null!=j)return{prefix:f,field:g,value:j}}return{prefix:null,field:null,value:null}};B.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=B.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};B.polyfill=function(a,b){null==b&&(b=window);var c=B.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};
B.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,e=B.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};B.addVendorListener=function(a,b,c,d){for(var e=0,f=B.VENDOR_PREFIXES;e<f.length;){var g=f[e];++e;a.addEventListener(g+b,c,d)}a.addEventListener(b,c,d)};B.orientation=function(a){switch(a){case -90:case 90:return Wa.Landscape;default:return Wa.Portrait}};B.createEmptyCanvas=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=
b;return c};B.createCanvas=function(a){var b=B.createEmptyCanvas(a.width,a.height),c=b.getContext("2d",null);c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};B.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var Kd=function(){};e["flambe.subsystem.WebSystem"]=Kd;Kd.__name__=["flambe","subsystem","WebSystem"];Kd.prototype=
{__class__:Kd};var Mc=function(a){this._container=a};e["flambe.platform.html.HtmlWeb"]=Mc;Mc.__name__=["flambe","platform","html","HtmlWeb"];Mc.__interfaces__=[Kd];Mc.prototype={openBrowser:function(a){window.open(a,"_blank")},__class__:Mc};var E=function(a){this._disposed=!1;this.buffer=a};e["flambe.platform.html.WebAudioSound"]=E;E.__name__=["flambe","platform","html","WebAudioSound"];E.__interfaces__=[Cb];E.get_supported=function(){if(E._detectSupport){E._detectSupport=!1;var a=B.loadExtension("AudioContext").value;
null!=a&&(E.ctx=new a,E.gain=E.createGain(),E.gain.connect(E.ctx.destination),m.volume.watch(function(a){E.gain.gain.value=a}))}return null!=E.ctx};E.createGain=function(){return null!=E.ctx.createGain?E.ctx.createGain():E.ctx.createGainNode()};E.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};E.__super__=ga;E.prototype=t(ga.prototype,{play:function(a){null==a&&(a=1);return new ed(this,a,!1)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:E});
var ed=function(a,b,c){var d=this;this._sound=a;this._head=E.gain;this._complete=new ja(!1);this._sourceNode=E.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;this._sourceNode.onended=function(){d._complete.set__(!0)};E.start(this._sourceNode,0);this.playAudio();this.volume=new Q(b,function(a){d.setVolume(a)});1!=b&&this.setVolume(b);m.hidden._value&&this.set_paused(!0)};e["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=ed;ed.__name__=["flambe","platform",
"html","_WebAudioSound","WebAudioPlayback"];ed.__interfaces__=[ad,Db];ed.prototype={get_sound:function(){return this._sound},get_paused:function(){return 0<=this._pausedAt},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(E.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(a){this.volume.update(a);
3==this._sourceNode.playbackState&&this._complete.set__(!0);return this._complete._value||0<=this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},setVolume:function(a){null==this._gainNode&&(this._gainNode=E.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=
a},playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=E.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(cb.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=m.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},__class__:ed};var tc=function(){this._width=this._height=-1;this._transitor=null;v.call(this);this.scenes=[];this.occludedScenes=[];this._root=new z};e["flambe.scene.Director"]=
tc;tc.__name__=["flambe","scene","Director"];tc.__super__=v;tc.prototype=t(v.prototype,{get_name:function(){return"Director_3"},setSize:function(a,b){this._width=a;this._height=b;return this},pushScene:function(a,b){var c=this;this.completeTransition();var d=this.get_topScene();null!=d?this.playTransition(d,a,b,function(){c.hide(d)}):(this.add(a),this.invalidateVisibility())},unwindToScene:function(a,b){var c=this;this.completeTransition();var d=this.get_topScene();if(null!=d){if(d!=a){for(this.scenes.pop();0<
this.scenes.length&&this.scenes[this.scenes.length-1]!=a;)this.scenes.pop().dispose();this.playTransition(d,a,b,function(){c.hideAndDispose(d)})}}else this.pushScene(a,b)},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=
this.scenes.length;return 0<a?this.scenes[a-1]:null},add:function(a){var b=this.get_topScene();null!=b&&this._root.removeChild(b);w.remove(this.scenes,a);this.scenes.push(a);this._root.addChild(a)},hide:function(a){a=a._compMap.Scene_6;null!=a&&a.hidden.emit()},hideAndDispose:function(a){this.hide(a);a.dispose()},show:function(a){a=a._compMap.Scene_6;null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_6;if(null==b||b.opaque)break}this.occludedScenes=
0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.show(a)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},playTransition:function(a,b,c,d){this.completeTransition();this.add(b);null!=c?(this.occludedScenes.push(a),this._transitor=new Ld(a,b,c,d),this._transitor.init(this)):(d(),this.invalidateVisibility())},__class__:tc});var Ld=function(a,b,c,d){this._from=a;this._to=
b;this._transition=c;this._onComplete=d};e["flambe.scene._Director.Transitor"]=Ld;Ld.__name__=["flambe","scene","_Director","Transitor"];Ld.prototype={init:function(a){this._transition.init(a,this._from,this._to)},update:function(a){return this._transition.update(a)},complete:function(){this._transition.complete();this._onComplete()},__class__:Ld};var Tb=function(){};e["flambe.scene.Transition"]=Tb;Tb.__name__=["flambe","scene","Transition"];Tb.prototype={init:function(a,b,c){this._director=a;this._from=
b;this._to=c},update:function(){return!0},complete:function(){},__class__:Tb};var db=function(a,b){this._duration=a;this._ease=null!=b?b:oa.linear};e["flambe.scene.TweenTransition"]=db;db.__name__=["flambe","scene","TweenTransition"];db.__super__=Tb;db.prototype=t(Tb.prototype,{init:function(a,b,c){Tb.prototype.init.call(this,a,b,c);this._elapsed=0},update:function(a){this._elapsed+=a;return this._elapsed>=this._duration},interp:function(a,b){return a+(b-a)*this._ease(this._elapsed/this._duration)},
__class__:db});var Bc=function(a,b){db.call(this,a,b)};e["flambe.scene.FadeTransition"]=Bc;Bc.__name__=["flambe","scene","FadeTransition"];Bc.__super__=db;Bc.prototype=t(db.prototype,{init:function(a,b,c){db.prototype.init.call(this,a,b,c);a=this._to._compMap.Sprite_0;null==a&&this._to.add(a=new F);a.alpha.set__(0)},update:function(a){a=db.prototype.update.call(this,a);this._to._compMap.Sprite_0.alpha.set__(this.interp(0,1));return a},complete:function(){this._to._compMap.Sprite_0.alpha.set__(1)},
__class__:Bc});var Md=function(){};e["flambe.scene.Scene"]=Md;Md.__name__=["flambe","scene","Scene"];Md.__super__=v;Md.prototype=t(v.prototype,{get_name:function(){return"Scene_6"},__class__:Md});var Ub=function(){};e["flambe.script.Action"]=Ub;Ub.__name__=["flambe","script","Action"];Ub.prototype={__class__:Ub};var Jb=function(a){this._fn=a};e["flambe.script.CallFunction"]=Jb;Jb.__name__=["flambe","script","CallFunction"];Jb.__interfaces__=[Ub];Jb.prototype={update:function(){this._fn();return 0},
__class__:Jb};var qc=function(a){this._duration=a;this._elapsed=0};e["flambe.script.Delay"]=qc;qc.__name__=["flambe","script","Delay"];qc.__interfaces__=[Ub];qc.prototype={update:function(a){this._elapsed+=a;if(this._elapsed>=this._duration){var b=this._elapsed-this._duration;this._elapsed=0;return a-b}return-1},__class__:qc};var oc=function(){v.call(this);this.stopAll()};e["flambe.script.Script"]=oc;oc.__name__=["flambe","script","Script"];oc.__super__=v;oc.prototype=t(v.prototype,{get_name:function(){return"Script_4"},
run:function(a){a=new fd(a);this._handles.push(a);return a},stopAll:function(){this._handles=[]},onUpdate:function(a){for(var b=0;b<this._handles.length;){var c=this._handles[b];c.removed||0<=c.action.update(a,this.owner)?this._handles.splice(b,1):++b}},__class__:oc});var fd=function(a){this.removed=!1;this.action=a};e["flambe.script._Script.Handle"]=fd;fd.__name__=["flambe","script","_Script","Handle"];fd.__interfaces__=[xa];fd.prototype={dispose:function(){this.removed=!0;this.action=null},__class__:fd};
var pc=function(a){this._idx=0;this._runningActions=null!=a?a.slice():[]};e["flambe.script.Sequence"]=pc;pc.__name__=["flambe","script","Sequence"];pc.__interfaces__=[Ub];pc.prototype={update:function(a,b){for(var c=0;;){var d=this._runningActions[this._idx];if(null!=d)if(d=d.update(a-c,b),0<=d)c+=d;else return-1;++this._idx;if(this._idx>=this._runningActions.length){this._idx=0;break}else if(c>a)return-1}return c},__class__:pc};var ua=e["flambe.subsystem.RendererType"]={__ename__:["flambe","subsystem",
"RendererType"],__constructs__:["Stage3D","WebGL","Canvas"]};ua.Stage3D=["Stage3D",0];ua.Stage3D.toString=j;ua.Stage3D.__enum__=ua;ua.WebGL=["WebGL",1];ua.WebGL.toString=j;ua.WebGL.__enum__=ua;ua.Canvas=["Canvas",2];ua.Canvas.toString=j;ua.Canvas.__enum__=ua;var Be=function(){};e["flambe.util.Assert"]=Be;Be.__name__=["flambe","util","Assert"];Be.that=function(){};var ud=function(){};e["flambe.util.BitSets"]=ud;ud.__name__=["flambe","util","BitSets"];ud.set=function(a,b,c){return c?a|b:a&~b};var Lb=
function(){this.success=new P;this.error=new P;this.progressChanged=new pb;this.hasResult=!1;this._total=this._progress=0};e["flambe.util.Promise"]=Lb;Lb.__name__=["flambe","util","Promise"];Lb.prototype={set_result:function(a){if(this.hasResult)throw new o("Promise result already assigned");this._result=a;this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){this._progress!=a&&(this._progress=
a,this.progressChanged.emit());return a},set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:Lb};var pb=function(a){V.call(this,a)};e["flambe.util.Signal0"]=pb;pb.__name__=["flambe","util","Signal0"];pb.__super__=V;pb.prototype=t(V.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==V.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=
this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:pb});var qd=function(a){this.next=null;this.fn=a};e["flambe.util._SignalBase.Task"]=qd;qd.__name__=["flambe","util","_SignalBase","Task"];qd.prototype={__class__:qd};var fa=function(){};e["flambe.util.Strings"]=fa;fa.__name__=["flambe","util","Strings"];fa.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?w.substr(a,b+1,null):null};fa.removeFileExtension=function(a){var b=a.lastIndexOf(".");
return 0<b?w.substr(a,0,b):a};fa.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=w.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=w.substr(a,b+1,null));return fa.getFileExtension(a)};fa.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};fa.withFields=function(a,b){var c=b.length;if(0<c){for(var a=0<a.length?a+" [":a+"[",d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(u.is(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=e+"="+u.string(f);d+=2}a+="]"}return a};
var Nd=function(){};e["haxe.IMap"]=Nd;Nd.__name__=["haxe","IMap"];var od=function(a){this.url=a;this.headers=new jb;this.params=new jb;this.async=!0};e["haxe.Http"]=od;od.__name__=["haxe","Http"];od.prototype={addParameter:function(a,b){this.params.push({param:a,value:b});return this},request:function(a){var b=this;b.responseData=null;var c=this.req=Jc.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){d instanceof o&&(d=d.val),a=null}if(null!=a){var e=window.location.protocol.toLowerCase();
(new wa("^(?:about|app|app-storage|.+-extension|file|res|widget):$","")).match(e)&&(a=null!=c.responseText?200:404)}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.req=null,b.onData(b.responseData=c.responseText);else if(null==a)b.req=null,b.onError("Failed to connect or resolve host");else switch(a){case 12029:b.req=null;b.onError("Failed to connect to host");break;case 12007:b.req=null;b.onError("Unknown host");break;default:b.req=null,b.responseData=c.responseText,b.onError("Http Error #"+
c.status)}}};this.async&&(c.onreadystatechange=d);var e=this.postData;if(null!=e)a=!0;else for(var f=this.params.h,g=null;null!=f;)g=f[0],f=f[1],e=null==e?"":e+"&",e+=encodeURIComponent(g.param)+"="+encodeURIComponent(g.value);try{if(a)c.open("POST",this.url,this.async);else if(null!=e){var j=1>=this.url.split("?").length;c.open("GET",this.url+(j?"?":"&")+e,this.async);e=null}else c.open("GET",this.url,this.async)}catch(i){i instanceof o&&(i=i.val);b.req=null;this.onError(i.toString());return}!wb.exists(this.headers,
function(a){return"Content-Type"==a.header})&&a&&null==this.postData&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a=this.headers.h;for(f=null;null!=a;)f=a[0],a=a[1],c.setRequestHeader(f.header,f.value);c.send(e);this.async||d(null)},onData:function(){},onError:function(){},onStatus:function(){},__class__:od};var Od=function(a,b){this.high=a;this.low=b};e["haxe._Int64.___Int64"]=Od;Od.__name__=["haxe","_Int64","___Int64"];Od.prototype={__class__:Od};var ya=function(){this.buf=
new sa;this.cache=[];this.useCache=ya.USE_CACHE;this.useEnumIndex=ya.USE_ENUM_INDEX;this.shash=new ha;this.scount=0};e["haxe.Serializer"]=ya;ya.__name__=["haxe","Serializer"];ya.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length),
this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b=null==e?this.buf.b+"null":this.buf.b+(""+e),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=J.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(J.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=R["typeof"](a);switch(b[1]){case 0:this.buf.b+=
"n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=
a.length,d=0;d<c;){var e=d++;null==a[e]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case jb:this.buf.b+="l";a=a.h;for(b=null;null!=a;)b=a[0],a=a[1],this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.add(a.getTime());break;case ha:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=
b.next(),this.serializeString(c),this.serialize(null!=rb[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case pa:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.h[c]);this.buf.b+="h";break;case sb:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=J.field(c,"__id__"),J.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case Eb:d=0;e=a.length-
2;b=new sa;for(c=ya.BASE64;d<e;){var f=a.get(d++),g=a.get(d++),j=a.get(d++);b.add(c.charAt(f>>2));b.add(c.charAt((f<<4|g>>4)&63));b.add(c.charAt((g<<2|j>>6)&63));b.add(c.charAt(j&63))}d==e?(e=a.get(d++),a=a.get(d++),b.add(c.charAt(e>>2)),b.add(c.charAt((e<<4|a>>4)&63)),b.add(c.charAt(a<<2&63))):d==e+1&&(a=a.get(d++),b.add(c.charAt(a>>2)),b.add(c.charAt(a<<4&63)));a=b.b;this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=":";this.buf.b=null==a?this.buf.b+
"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(R.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(R.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(L.__instanceof(a,Vf))a=R.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(L.__instanceof(a,Wf))this.buf.b+="B",this.serializeString(R.getEnumName(a));
else{if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(R.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=u.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=u.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;case 5:throw new o("Cannot serialize function");
default:throw new o("Cannot serialize "+u.string(a));}},__class__:ya};var Z=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=Z.DEFAULT_RESOLVER;null==a&&(a=R,Z.DEFAULT_RESOLVER=a);this.setResolver(a)};e["haxe.Unserializer"]=Z;Z.__name__=["haxe","Unserializer"];Z.initCodes=function(){for(var a=[],b=0,c=Z.BASE64.length;b<c;){var d=b++;a[Z.BASE64.charCodeAt(d)]=d}return a};Z.run=function(a){return(new Z(a)).unserialize()};Z.prototype={setResolver:function(a){this.resolver=
null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return u.parseFloat(w.substr(this.buf,
a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new o("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new o("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw new o("Invalid enum format");var c=this.readDigits();if(0==c)return R.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return R.createEnum(a,b,d)},
unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:return this.readFloat();case 121:var a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw new o("Invalid string length");var b=w.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return NaN;case 109:return-Infinity;case 112:return Infinity;
case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new o("Invalid reference");return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new o("Invalid string reference");return this.scache[a];case 120:throw new o(this.unserialize());
case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new o("Class not found "+a);a=R.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new o("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new o("Enum not found "+a);this.pos++;var c=this.readDigits(),
d=R.getEnumConstructs(b)[c];if(null==d)throw new o("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 108:a=new jb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new ha;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new pa;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,
this.unserialize()),b=this.get(this.pos++);if(104!=b)throw new o("Invalid IntMap format");return a;case 77:a=new sb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+
3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=w.substr(this.buf,this.pos,19),a=w.strDate(a),this.pos+=19):(a=this.readFloat(),b=new Date,b.setTime(a),a=b),this.cache.push(a),a;case 115:a=this.readDigits();d=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw new o("Invalid bytes length");var e=Z.CODES;null==e&&(e=Z.initCodes(),Z.CODES=e);for(var f=this.pos,g=a&3,j=f+(a-g),b=Eb.alloc(3*(a>>2)+(2<=g?g-1:0)),c=0;f<j;){var i=e[I.fastCodeAt(d,f++)],l=e[I.fastCodeAt(d,
f++)];b.set(c++,i<<2|l>>4);i=e[I.fastCodeAt(d,f++)];b.set(c++,l<<4|i>>2);l=e[I.fastCodeAt(d,f++)];b.set(c++,i<<6|l)}2<=g&&(l=e[I.fastCodeAt(d,f++)],j=e[I.fastCodeAt(d,f++)],b.set(c++,l<<2|j>>4),3==g&&(d=e[I.fastCodeAt(d,f++)],b.set(c++,j<<4|d>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new o("Class not found "+a);a=R.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw new o("Invalid custom data");
return a;case 65:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new o("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new o("Enum not found "+a);return b}this.pos--;throw new o("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:Z};var pa=function(){this.h={}};e["haxe.ds.IntMap"]=pa;pa.__name__=["haxe","ds","IntMap"];pa.__interfaces__=[Nd];pa.prototype={set:function(a,b){this.h[a]=b},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;
delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return w.iter(a)},__class__:pa};var sb=function(){this.h={};this.h.__keys__={}};e["haxe.ds.ObjectMap"]=sb;sb.__name__=["haxe","ds","ObjectMap"];sb.__interfaces__=[Nd];sb.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++sb.count);this.h[c]=b;this.h.__keys__[c]=a},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return w.iter(a)},
__class__:sb};var Wc=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};e["haxe.ds._StringMap.StringMapIterator"]=Wc;Wc.__name__=["haxe","ds","_StringMap","StringMapIterator"];Wc.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:Wc};var ha=function(){this.h={}};e["haxe.ds.StringMap"]=ha;ha.__name__=["haxe","ds","StringMap"];ha.__interfaces__=[Nd];ha.prototype={set:function(a,b){null!=rb[a]?this.setReserved(a,
b):this.h[a]=b},get:function(a){return null!=rb[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=rb[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},keys:function(){var a=this.arrayKeys();return w.iter(a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new Wc(this,this.arrayKeys())},__class__:ha};var Eb=function(a){this.length=a.byteLength;this.b=new Uf(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};e["haxe.io.Bytes"]=Eb;Eb.__name__=["haxe","io","Bytes"];Eb.alloc=function(a){return new Eb(new Ee(a))};Eb.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},__class__:Eb};var ma=e["haxe.io.Error"]=
{__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};ma.Blocked=["Blocked",0];ma.Blocked.toString=j;ma.Blocked.__enum__=ma;ma.Overflow=["Overflow",1];ma.Overflow.toString=j;ma.Overflow.__enum__=ma;ma.OutsideBounds=["OutsideBounds",2];ma.OutsideBounds.toString=j;ma.OutsideBounds.__enum__=ma;ma.Custom=function(a){a=["Custom",3,a];a.__enum__=ma;a.toString=j;return a};var Aa=function(){};e["haxe.io.FPHelper"]=Aa;Aa.__name__=["haxe","io","FPHelper"];Aa.i32ToFloat=
function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};Aa.floatToI32=function(a){if(0==a)return 0;var b;b=0>a?-a:a;var c=Math.floor(Math.log(b)/0.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1))&8388607;return(0>a?-2147483648:0)|c+127<<23|b};Aa.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,d=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+
Math.pow(2,-52)*d)*Math.pow(2,c)};Aa.doubleToI64=function(a){var b=Aa.i64tmp;if(0==a)b.low=0,b.high=0;else{var c;c=0>a?-a:a;var d=Math.floor(Math.log(c)/0.6931471805599453);c=4503599627370496*(c/Math.pow(2,d)-1);c=Math.round(c);b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}return b};var Qc=function(){};e["haxe.rtti.Meta"]=Qc;Qc.__name__=["haxe","rtti","Meta"];Qc.getType=function(a){a=Qc.getMeta(a);return null==a||null==a.obj?{}:a.obj};Qc.getMeta=function(a){return a.__meta__};var Pd=
function(a){this.__x=a};e["haxe.xml._Fast.NodeAccess"]=Pd;Pd.__name__=["haxe","xml","_Fast","NodeAccess"];Pd.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw b=this.__x.nodeType==p.Document?"Document":this.__x.get_nodeName(),new o(b+" is missing element "+a);return new Kb(b)},__class__:Pd};var Qd=function(a){this.__x=a};e["haxe.xml._Fast.AttribAccess"]=Qd;Qd.__name__=["haxe","xml","_Fast","AttribAccess"];Qd.prototype={resolve:function(a){if(this.__x.nodeType==
p.Document)throw new o("Cannot access document attribute "+a);var b=this.__x.get(a);if(null==b)throw new o(this.__x.get_nodeName()+" is missing attribute "+a);return b},__class__:Qd};var Rd=function(a){this.__x=a};e["haxe.xml._Fast.HasAttribAccess"]=Rd;Rd.__name__=["haxe","xml","_Fast","HasAttribAccess"];Rd.prototype={__class__:Rd};var Sd=function(a){this.__x=a};e["haxe.xml._Fast.HasNodeAccess"]=Sd;Sd.__name__=["haxe","xml","_Fast","HasNodeAccess"];Sd.prototype={__class__:Sd};var Td=function(a){this.__x=
a};e["haxe.xml._Fast.NodeListAccess"]=Td;Td.__name__=["haxe","xml","_Fast","NodeListAccess"];Td.prototype={resolve:function(a){for(var b=new jb,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new Kb(c))}return b},__class__:Td};var Kb=function(a){if(a.nodeType!=p.Document&&a.nodeType!=p.Element)throw new o("Invalid nodeType "+a.nodeType);this.x=a;this.node=new Pd(a);this.nodes=new Td(a);this.att=new Qd(a);this.has=new Rd(a);this.hasNode=new Sd(a)};e["haxe.xml.Fast"]=Kb;Kb.__name__=["haxe",
"xml","Fast"];Kb.prototype={get_name:function(){return this.x.nodeType==p.Document?"Document":this.x.get_nodeName()},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw new o(this.get_name()+" does not have data");var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==p.PCData&&c.nodeType==p.CData&&""==I.trim(function(){if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+b.nodeType);return b.nodeValue}(this))){var d=a.next();if(null==d||d.nodeType==
p.PCData&&""==I.trim(function(){if(d.nodeType==p.Document||d.nodeType==p.Element)throw new o("Bad node type, unexpected "+d.nodeType);return d.nodeValue}(this))&&null==a.next()){if(c.nodeType==p.Document||c.nodeType==p.Element)throw new o("Bad node type, unexpected "+c.nodeType);return c.nodeValue}}throw new o(this.get_name()+" does not only have data");}if(b.nodeType!=p.PCData&&b.nodeType!=p.CData)throw new o(this.get_name()+" does not have data");if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+
b.nodeType);return b.nodeValue},__class__:Kb};var bb=function(){};e["haxe.xml.Parser"]=bb;bb.__name__=["haxe","xml","Parser"];bb.parse=function(a,b){null==b&&(b=!1);var c=p.createDocument();bb.doParse(a,b,0,c);return c};bb.doParse=function(a,b,c,d){null==c&&(c=0);for(var e=null,f=1,g=1,j=null,i=0,l=0,m=0,k=a.charCodeAt(c),n=new sa,q=1,r=-1;k==k;){switch(f){case 0:switch(k){case 10:case 13:case 9:case 32:break;default:f=g;continue}break;case 1:switch(k){case 60:f=0;g=2;break;default:i=c;f=13;continue}break;
case 13:60==k?(n.addSub(a,i,c-i),g=p.createPCData(n.b),n=new sa,d.addChild(g),l++,f=0,g=2):38==k&&(n.addSub(a,i,c-i),f=18,q=13,i=c+1);break;case 17:93==k&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(k=p.createCData(w.substr(a,i,c-i)),d.addChild(k),l++,c+=2,f=1);break;case 2:switch(k){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=w.substr(a,c,6).toUpperCase())throw new o("Expected <![CDATA[");c+=5;f=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=w.substr(a,c+2,6).toUpperCase())throw new o("Expected <!DOCTYPE");
c+=8;f=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new o("Expected <\!--");c+=2;f=15}i=c+1;break;case 63:f=14;i=c;break;case 47:if(null==d)throw new o("Expected node name");i=c+1;f=0;g=10;break;default:f=3;i=c;continue}break;case 3:if(!(97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||58==k||46==k||95==k||45==k)){if(c==i)throw new o("Expected node name");e=p.createElement(w.substr(a,i,c-i));d.addChild(e);l++;f=0;g=4;continue}break;case 4:switch(k){case 47:f=11;break;case 62:f=9;break;
default:f=5;i=c;continue}break;case 5:if(!(97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||58==k||46==k||95==k||45==k)){if(i==c)throw new o("Expected attribute name");j=w.substr(a,i,c-i);if(e.exists(j))throw new o("Duplicate attribute");f=0;g=6;continue}break;case 6:switch(k){case 61:f=0;g=7;break;default:throw new o("Expected =");}break;case 7:switch(k){case 34:case 39:n=new sa;f=8;i=c+1;r=k;break;default:throw new o('Expected "');}break;case 8:switch(k){case 38:n.addSub(a,i,c-i);f=18;q=8;i=c+1;break;
case 62:if(b)throw new o("Invalid unescaped "+String.fromCharCode(k)+" in attribute value");k==r&&(n.addSub(a,i,c-i),g=n.b,n=new sa,e.set(j,g),f=0,g=4);break;case 60:if(b)throw new o("Invalid unescaped "+String.fromCharCode(k)+" in attribute value");k==r&&(n.addSub(a,i,c-i),g=n.b,n=new sa,e.set(j,g),f=0,g=4);break;default:k==r&&(n.addSub(a,i,c-i),g=n.b,n=new sa,e.set(j,g),f=0,g=4)}break;case 9:i=c=bb.doParse(a,b,c,e);f=1;break;case 11:switch(k){case 62:f=1;break;default:throw new o("Expected >");
}break;case 12:switch(k){case 62:return 0==l&&d.addChild(p.createPCData("")),c;default:throw new o("Expected >");}case 10:if(!(97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||58==k||46==k||95==k||45==k)){if(i==c)throw new o("Expected node name");g=w.substr(a,i,c-i);if(d.nodeType!=p.Element)throw new o("Bad node type, expected Element but found "+d.nodeType);if(g!=d.nodeName)throw new o("Expected </"+function(){if(d.nodeType!=p.Element)throw"Bad node type, expected Element but found "+d.nodeType;return d.nodeName}(this)+
">");f=0;g=12;continue}break;case 15:45==k&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(k=p.createComment(w.substr(a,i,c-i)),d.addChild(k),l++,c+=2,f=1);break;case 16:91==k?m++:93==k?m--:62==k&&0==m&&(k=p.createDocType(w.substr(a,i,c-i)),d.addChild(k),l++,f=1);break;case 14:63==k&&62==a.charCodeAt(c+1)&&(c++,k=w.substr(a,i+1,c-i-2),k=p.createProcessingInstruction(k),d.addChild(k),l++,f=1);break;case 18:if(59==k){i=w.substr(a,i,c-i);if(35==i.charCodeAt(0))i=120==i.charCodeAt(1)?u.parseInt("0"+w.substr(i,
1,i.length-1)):u.parseInt(w.substr(i,1,i.length-1)),n.b+=String.fromCharCode(i);else if(bb.escapes.exists(i))n.add(bb.escapes.get(i));else{if(b)throw new o("Undefined entity: "+i);n.b+=u.string("&"+i+";")}i=c+1;f=q}else if(!(97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||58==k||46==k||95==k||45==k)&&35!=k){if(b)throw new o("Invalid character in entity: "+String.fromCharCode(k));n.b+="&";n.addSub(a,i,c-i);c--;i=c+1;f=q}}k=I.fastCodeAt(a,++c)}1==f&&(i=c,f=13);if(13==f){if(c!=i||0==l)n.addSub(a,i,c-i),a=
p.createPCData(n.b),d.addChild(a),l++;return c}if(!b&&18==f&&13==q)return n.b+="&",n.addSub(a,i,c-i),a=p.createPCData(n.b),d.addChild(a),l++,c;throw new o("Unexpected end");};var o=function(a){Error.call(this);this.val=a;this.message=""+a;Error.captureStackTrace&&Error.captureStackTrace(this,o)};e["js._Boot.HaxeError"]=o;o.__name__=["js","_Boot","HaxeError"];o.__super__=Error;o.prototype=t(Error.prototype,{__class__:o});var L=function(){};e["js.Boot"]=L;L.__name__=["js","Boot"];L.getClass=function(a){if(a instanceof
Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=L.__nativeClassName(a);return null!=a?L.__resolveNativeClass(a):null};L.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+L.__string_rec(a[f],b)):c+L.__string_rec(a[f],
b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+L.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(g){return g instanceof o&&(g=g.val),"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)if(!e||a.hasOwnProperty(c))"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+L.__string_rec(a[c],
b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};L.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||L.__interfLoop(f,b))return!0}return L.__interfLoop(a.__super__,b)};L.__instanceof=function(a,b){if(null==b)return!1;switch(b){case $f:return(a|0)===a;case Xf:return"number"==typeof a;case Yf:return"boolean"==typeof a;case String:return"string"==
typeof a;case Array:return a instanceof Array&&null==a.__enum__;case ag:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||L.__interfLoop(L.getClass(a),b))return!0}else{if("object"==typeof b&&L.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Vf&&null!=a.__name__||b==Wf&&null!=a.__ename__?!0:a.__enum__==b}};L.__nativeClassName=function(a){a=L.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};L.__isNativeObj=function(a){return null!=
L.__nativeClassName(a)};L.__resolveNativeClass=function(a){return Function("return typeof "+a+' != "undefined" ? '+a+" : null")()};var Jc=function(){};e["js.Browser"]=Jc;Jc.__name__=["js","Browser"];Jc.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return b instanceof o&&(b=b.val),null}};Jc.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");
throw new o("Unable to create XMLHttpRequest object.");};var Ba=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;)this.a[b++]=0;this.byteLength=a}};e["js.html.compat.ArrayBuffer"]=Ba;Ba.__name__=["js","html","compat","ArrayBuffer"];Ba.sliceImpl=function(a,b){var c=new Uf(this,a,null==b?null:b-a),d=new Ee(c.byteLength);(new Uf(d)).set(c);return d};Ba.prototype={slice:function(a,b){return new Ba(this.a.slice(a,b))},__class__:Ba};var Fe=
function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new o(ma.OutsideBounds);};e["js.html.compat.DataView"]=Fe;Fe.__name__=["js","html","compat","DataView"];Fe.prototype={getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,
b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],e=this.buf.a[c++],f=this.buf.a[c++],c=this.buf.a[c++];return b?d|e<<8|f<<16|c<<24:c|f<<8|e<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return Aa.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+
4,b);return Aa.i64ToDouble(b?c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,
this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,Aa.floatToI32(b),c)},setFloat64:function(a,b,c){b=Aa.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:Fe};var eb=function(){};e["js.html.compat.Uint8Array"]=eb;eb.__name__=["js","html","compat","Uint8Array"];eb._new=function(a,
b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new Ba(c)}else if(L.__instanceof(a,Ba))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new Ba(c);else throw new o("TODO "+u.string(a));c.subarray=eb._subarray;c.set=eb._set;return c};eb._set=function(a,b){if(L.__instanceof(a.buffer,
Ba)){if(a.byteLength+b>this.byteLength)throw new o("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new o("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new o("TODO");};eb._subarray=function(a,b){var c=eb._new(this.slice(a,b));c.byteOffset=a;return c};var Ca=function(){this.zpp_inner=null};e["nape.callbacks.Callback"]=Ca;Ca.__name__=["nape","callbacks",
"Callback"];Ca.prototype={toString:function(){return""},__class__:Ca};var Ud=function(){};e["nape.callbacks.BodyCallback"]=Ud;Ud.__name__=["nape","callbacks","BodyCallback"];Ud.__super__=Ca;Ud.prototype=t(Ca.prototype,{toString:function(){var a;a="Cb:"+["WAKE","SLEEP"][this.zpp_inner.event-2];a+=":"+this.zpp_inner.body.outer.toString();return a+=" : listener: "+u.string(this.zpp_inner.listener.outer)},__class__:Ud});var Da=function(){this.zpp_inner=null};e["nape.callbacks.Listener"]=Da;Da.__name__=
["nape","callbacks","Listener"];Da.prototype={toString:function(){var a="BEGIN,END,WAKE,SLEEP,BREAK,PRE,ONGOING".split(",")[this.zpp_inner.event];if(0==this.zpp_inner.type)return"BodyListener{"+a+"::"+u.string(this.zpp_inner.body.outer_zn.zpp_inner_zn.options.outer)+"}";if(1==this.zpp_inner.type)return"ConstraintListener{"+a+"::"+u.string(this.zpp_inner.constraint.outer_zn.zpp_inner_zn.options.outer)+"}";var b=this.zpp_inner.interaction,c;switch(b.itype){case 1:c="COLLISION";break;case 2:c="SENSOR";
break;case 4:c="FLUID";break;default:c="ALL"}return(2==this.zpp_inner.type?"InteractionListener{"+a+"#"+c+"::"+u.string(b.outer_zni.zpp_inner_zn.options1.outer)+":"+u.string(b.outer_zni.zpp_inner_zn.options2.outer)+"}":"PreListener{"+c+"::"+u.string(b.outer_znp.zpp_inner_zn.options1.outer)+":"+u.string(b.outer_znp.zpp_inner_zn.options2.outer)+"}")+" precedence="+this.zpp_inner.precedence},__class__:Da};var Vd=function(){this.zpp_inner_zn=null};e["nape.callbacks.BodyListener"]=Vd;Vd.__name__=["nape",
"callbacks","BodyListener"];Vd.__super__=Da;Vd.prototype=t(Da.prototype,{__class__:Vd});var $a=function(){};e["nape.callbacks.CbEvent"]=$a;$a.__name__=["nape","callbacks","CbEvent"];$a.prototype={toString:function(){var a;null==f.CbEvent_PRE&&(f.internal=!0,f.CbEvent_PRE=new $a,f.internal=!1);this==f.CbEvent_PRE?a="PRE":(null==f.CbEvent_BEGIN&&(f.internal=!0,f.CbEvent_BEGIN=new $a,f.internal=!1),this==f.CbEvent_BEGIN?a="BEGIN":(null==f.CbEvent_ONGOING&&(f.internal=!0,f.CbEvent_ONGOING=new $a,f.internal=
!1),this==f.CbEvent_ONGOING?a="ONGOING":(null==f.CbEvent_END&&(f.internal=!0,f.CbEvent_END=new $a,f.internal=!1),this==f.CbEvent_END?a="END":(null==f.CbEvent_WAKE&&(f.internal=!0,f.CbEvent_WAKE=new $a,f.internal=!1),this==f.CbEvent_WAKE?a="WAKE":(null==f.CbEvent_SLEEP&&(f.internal=!0,f.CbEvent_SLEEP=new $a,f.internal=!1),this==f.CbEvent_SLEEP?a="SLEEP":(null==f.CbEvent_BREAK&&(f.internal=!0,f.CbEvent_BREAK=new $a,f.internal=!1),a=this==f.CbEvent_BREAK?"BREAK":""))))));return a},__class__:$a};var Fb=
function(){this.zpp_inner=null;this.zpp_inner=new va;this.zpp_inner.outer=this};e["nape.callbacks.CbType"]=Fb;Fb.__name__=["nape","callbacks","CbType"];Fb.prototype={toString:function(){return this==va.ANY_BODY?"ANY_BODY":this==va.ANY_SHAPE?"ANY_SHAPE":this==va.ANY_COMPOUND?"ANY_COMPOUND":this==va.ANY_CONSTRAINT?"ANY_CONSTRAINT":"CbType#"+this.zpp_inner.id},__class__:Fb};var Ea=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.callbacks.CbTypeIterator"]=
Ea;Ea.__name__=["nape","callbacks","CbTypeIterator"];Ea.get=function(a){var b;null==Ea.zpp_pool?(ab.internal=!0,b=new Ea,ab.internal=!1):(b=Ea.zpp_pool,Ea.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ea.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ea.zpp_pool;Ea.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},
__class__:Ea};var Wd=function(){this.zpp_inner=null;this.zpp_inner=new ab;this.zpp_inner.outer=this};e["nape.callbacks.CbTypeList"]=Wd;Wd.__name__=["nape","callbacks","CbTypeList"];Wd.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||
null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ea.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Wd};var Xd=function(){};
e["nape.callbacks.ConstraintCallback"]=Xd;Xd.__name__=["nape","callbacks","ConstraintCallback"];Xd.__super__=Ca;Xd.prototype=t(Ca.prototype,{toString:function(){var a;a="Cb:"+["WAKE","SLEEP","BREAK"][this.zpp_inner.event-2];a+=":"+this.zpp_inner.constraint.outer.toString();return a+=" : listener: "+u.string(this.zpp_inner.listener.outer)},__class__:Xd});var Yd=function(){this.zpp_inner_zn=null};e["nape.callbacks.ConstraintListener"]=Yd;Yd.__name__=["nape","callbacks","ConstraintListener"];Yd.__super__=
Da;Yd.prototype=t(Da.prototype,{__class__:Yd});var Zd=function(){};e["nape.callbacks.InteractionCallback"]=Zd;Zd.__name__=["nape","callbacks","InteractionCallback"];Zd.__super__=Ca;Zd.prototype=t(Ca.prototype,{toString:function(){var a;a="Cb:"+"BEGIN,END,,,,,ONGOING".split(",")[this.zpp_inner.event];a+=":"+this.zpp_inner.int1.outer_i.toString()+"/"+this.zpp_inner.int2.outer_i.toString();a+=" : "+this.zpp_inner.wrap_arbiters.toString();return a+=" : listener: "+u.string(this.zpp_inner.listener.outer)},
__class__:Zd});var $d=function(){this.zpp_inner_zn=null};e["nape.callbacks.InteractionListener"]=$d;$d.__name__=["nape","callbacks","InteractionListener"];$d.__super__=Da;$d.prototype=t(Da.prototype,{__class__:$d});var Gb=function(){};e["nape.callbacks.InteractionType"]=Gb;Gb.__name__=["nape","callbacks","InteractionType"];Gb.prototype={toString:function(){var a;null==f.InteractionType_COLLISION&&(f.internal=!0,f.InteractionType_COLLISION=new Gb,f.internal=!1);this==f.InteractionType_COLLISION?a=
"COLLISION":(null==f.InteractionType_SENSOR&&(f.internal=!0,f.InteractionType_SENSOR=new Gb,f.internal=!1),this==f.InteractionType_SENSOR?a="SENSOR":(null==f.InteractionType_FLUID&&(f.internal=!0,f.InteractionType_FLUID=new Gb,f.internal=!1),this==f.InteractionType_FLUID?a="FLUID":(null==f.InteractionType_ANY&&(f.internal=!0,f.InteractionType_ANY=new Gb,f.internal=!1),a=this==f.InteractionType_ANY?"ANY":"")));return a},__class__:Gb};var Fa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=
0;this.zpp_inner=null};e["nape.callbacks.ListenerIterator"]=Fa;Fa.__name__=["nape","callbacks","ListenerIterator"];Fa.get=function(a){var b;null==Fa.zpp_pool?(Vb.internal=!0,b=new Fa,Vb.internal=!1):(b=Fa.zpp_pool,Fa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Fa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Fa.zpp_pool;Fa.zpp_pool=this;this.zpp_inner=null;return!1},
next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Fa};var Ge=function(){this.zpp_inner=null};e["nape.callbacks.ListenerList"]=Ge;Ge.__name__=["nape","callbacks","ListenerList"];Ge.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-
1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Fa.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+
"]"},__class__:Ge};var Hb=function(){};e["nape.callbacks.ListenerType"]=Hb;Hb.__name__=["nape","callbacks","ListenerType"];Hb.prototype={toString:function(){var a;null==f.ListenerType_BODY&&(f.internal=!0,f.ListenerType_BODY=new Hb,f.internal=!1);this==f.ListenerType_BODY?a="BODY":(null==f.ListenerType_CONSTRAINT&&(f.internal=!0,f.ListenerType_CONSTRAINT=new Hb,f.internal=!1),this==f.ListenerType_CONSTRAINT?a="CONSTRAINT":(null==f.ListenerType_INTERACTION&&(f.internal=!0,f.ListenerType_INTERACTION=
new Hb,f.internal=!1),this==f.ListenerType_INTERACTION?a="INTERACTION":(null==f.ListenerType_PRE&&(f.internal=!0,f.ListenerType_PRE=new Hb,f.internal=!1),a=this==f.ListenerType_PRE?"PRE":"")));return a},__class__:Hb};var He=function(){this.zpp_inner=null};e["nape.callbacks.OptionType"]=He;He.__name__=["nape","callbacks","OptionType"];He.prototype={toString:function(){null==this.zpp_inner.wrap_includes&&this.zpp_inner.setup_includes();var a=this.zpp_inner.wrap_includes.toString();null==this.zpp_inner.wrap_excludes&&
this.zpp_inner.setup_excludes();return"@{"+a+" excluding "+this.zpp_inner.wrap_excludes.toString()+"}"},__class__:He};var ae=function(){};e["nape.callbacks.PreCallback"]=ae;ae.__name__=["nape","callbacks","PreCallback"];ae.__super__=Ca;ae.prototype=t(Ca.prototype,{toString:function(){var a;a="Cb:PRE:"+(":"+this.zpp_inner.int1.outer_i.toString()+"/"+this.zpp_inner.int2.outer_i.toString());a+=" : "+this.zpp_inner.pre_arbiter.wrapper().toString();return a+=" : listnener: "+u.string(this.zpp_inner.listener.outer)},
__class__:ae});var Ga=function(){};e["nape.callbacks.PreFlag"]=Ga;Ga.__name__=["nape","callbacks","PreFlag"];Ga.prototype={toString:function(){var a;null==f.PreFlag_ACCEPT&&(f.internal=!0,f.PreFlag_ACCEPT=new Ga,f.internal=!1);this==f.PreFlag_ACCEPT?a="ACCEPT":(null==f.PreFlag_IGNORE&&(f.internal=!0,f.PreFlag_IGNORE=new Ga,f.internal=!1),this==f.PreFlag_IGNORE?a="IGNORE":(null==f.PreFlag_ACCEPT_ONCE&&(f.internal=!0,f.PreFlag_ACCEPT_ONCE=new Ga,f.internal=!1),this==f.PreFlag_ACCEPT_ONCE?a="ACCEPT_ONCE":
(null==f.PreFlag_IGNORE_ONCE&&(f.internal=!0,f.PreFlag_IGNORE_ONCE=new Ga,f.internal=!1),a=this==f.PreFlag_IGNORE_ONCE?"IGNORE_ONCE":"")));return a},__class__:Ga};var be=function(){this.zpp_inner_zn=null};e["nape.callbacks.PreListener"]=be;be.__name__=["nape","callbacks","PreListener"];be.__super__=Da;be.prototype=t(Da.prototype,{__class__:be});var Ie=function(){};e["nape.constraint.Constraint"]=Ie;Ie.__name__=["nape","constraint","Constraint"];Ie.prototype={toString:function(){return"{Constraint}"},
__class__:Ie};var Ha=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.constraint.ConstraintIterator"]=Ha;Ha.__name__=["nape","constraint","ConstraintIterator"];Ha.get=function(a){var b;null==Ha.zpp_pool?(Wb.internal=!0,b=new Ha,Wb.internal=!1):(b=Ha.zpp_pool,Ha.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ha.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;
if(this.zpp_i<a)return!0;this.zpp_next=Ha.zpp_pool;Ha.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ha};var Je=function(){this.zpp_inner=null};e["nape.constraint.ConstraintList"]=Je;Je.__name__=["nape","constraint","ConstraintList"];Je.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},
at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ha.get(this);c.hasNext();){var d;c.zpp_critical=
!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Je};var tb=function(){this.zpp_inner=null};e["nape.dynamics.Arbiter"]=tb;tb.__name__=["nape","dynamics","Arbiter"];tb.prototype={get_state:function(){var a=this.zpp_inner.immState;if(5==a)return null==f.PreFlag_ACCEPT&&(f.internal=!0,f.PreFlag_ACCEPT=new Ga,f.internal=!1),f.PreFlag_ACCEPT;switch(a){case 1:return null==f.PreFlag_ACCEPT_ONCE&&(f.internal=!0,f.PreFlag_ACCEPT_ONCE=new Ga,f.internal=
!1),f.PreFlag_ACCEPT_ONCE;default:if(6==a)return null==f.PreFlag_IGNORE&&(f.internal=!0,f.PreFlag_IGNORE=new Ga,f.internal=!1),f.PreFlag_IGNORE;null==f.PreFlag_IGNORE_ONCE&&(f.internal=!0,f.PreFlag_IGNORE_ONCE=new Ga,f.internal=!1);return f.PreFlag_IGNORE_ONCE}},toString:function(){var a;a=this.zpp_inner.type==ca.COL?"CollisionArbiter":this.zpp_inner.type==ca.FLUID?"FluidArbiter":"SensorArbiter";return this.zpp_inner.cleared?a+"(object-pooled)":a+"("+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:
this.zpp_inner.ws1.outer).toString()+"|"+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer).toString()+")"+(this.zpp_inner.type==ca.COL?"["+["SD","DD"][this.zpp_inner.colarb.stat?0:1]+"]":"")+"<-"+this.get_state().toString()},__class__:tb};var Ia=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.dynamics.ArbiterIterator"]=Ia;Ia.__name__=["nape","dynamics","ArbiterIterator"];Ia.get=function(a){var b;null==Ia.zpp_pool?
(Xb.internal=!0,b=new Ia,Xb.internal=!1):(b=Ia.zpp_pool,Ia.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ia.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.zpp_gl();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ia.zpp_pool;Ia.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ia};var Ke=function(){this.zpp_inner=null};e["nape.dynamics.ArbiterList"]=
Ke;Ke.__name__=["nape","dynamics","ArbiterList"];Ke.prototype={zpp_gl:function(){this.zpp_inner.valmod();if(this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1;this.zpp_inner.user_length=0;for(var a=this.zpp_inner.inner.head;null!=a;)a.elt.active&&this.zpp_inner.user_length++,a=a.next}return this.zpp_inner.user_length},zpp_vm:function(){this.zpp_inner.valmod()},at:function(a){this.zpp_vm();this.zpp_inner.reverse_flag&&(a=this.zpp_gl()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite){this.zpp_inner.at_index=
0;for(this.zpp_inner.at_ite=this.zpp_inner.inner.head;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}for(;this.zpp_inner.at_index!=a;){this.zpp_inner.at_index++;for(this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}return this.zpp_inner.at_ite.elt.wrapper()},iterator:function(){this.zpp_vm();return Ia.get(this)},toString:function(){for(var a="[",b=!0,c=this.iterator();c.hasNext();){var d;
c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Ke};var Yb=function(){};e["nape.dynamics.ArbiterType"]=Yb;Yb.__name__=["nape","dynamics","ArbiterType"];Yb.prototype={toString:function(){var a;null==f.ArbiterType_COLLISION&&(f.internal=!0,f.ArbiterType_COLLISION=new Yb,f.internal=!1);this==f.ArbiterType_COLLISION?a="COLLISION":(null==f.ArbiterType_SENSOR&&(f.internal=!0,f.ArbiterType_SENSOR=new Yb,f.internal=!1),this==f.ArbiterType_SENSOR?
a="SENSOR":(null==f.ArbiterType_FLUID&&(f.internal=!0,f.ArbiterType_FLUID=new Yb,f.internal=!1),a=this==f.ArbiterType_FLUID?"FLUID":""));return a},__class__:Yb};var gd=function(){this.zpp_inner=null};e["nape.dynamics.CollisionArbiter"]=gd;gd.__name__=["nape","dynamics","CollisionArbiter"];gd.__super__=tb;gd.prototype=t(tb.prototype,{__class__:gd});var ce=function(){this.zpp_inner=null};e["nape.dynamics.Contact"]=ce;ce.__name__=["nape","dynamics","Contact"];ce.prototype={toString:function(){return null==
this.zpp_inner.arbiter||this.zpp_inner.arbiter.cleared?"{object-pooled}":"{Contact}"},__class__:ce};var Ja=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.dynamics.ContactIterator"]=Ja;Ja.__name__=["nape","dynamics","ContactIterator"];Ja.get=function(a){var b;null==Ja.zpp_pool?(Zb.internal=!0,b=new Ja,Zb.internal=!1):(b=Ja.zpp_pool,Ja.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ja.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();
var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ja.zpp_pool;Ja.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ja};var Le=function(){this.zpp_inner=null};e["nape.dynamics.ContactList"]=Le;Le.__name__=["nape","dynamics","ContactList"];Le.prototype={get_length:function(){this.zpp_inner.valmod();if(this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1;this.zpp_inner.user_length=
0;for(var a=this.zpp_inner.inner.next;null!=a;){var b=a;b.active&&b.arbiter.active&&this.zpp_inner.user_length++;a=a.next}}return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite){this.zpp_inner.at_index=0;for(this.zpp_inner.at_ite=this.zpp_inner.inner.next;;){var b=this.zpp_inner.at_ite;if(b.active&&b.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}}for(;this.zpp_inner.at_index!=
a;){this.zpp_inner.at_index++;for(this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;;){b=this.zpp_inner.at_ite;if(b.active&&b.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}}return this.zpp_inner.at_ite.wrapper()},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ja.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Le};var hd=function(){this.zpp_inner=null};e["nape.dynamics.FluidArbiter"]=
hd;hd.__name__=["nape","dynamics","FluidArbiter"];hd.__super__=tb;hd.prototype=t(tb.prototype,{__class__:hd});var Me=function(){};e["nape.dynamics.InteractionFilter"]=Me;Me.__name__=["nape","dynamics","InteractionFilter"];Me.prototype={__class__:Me};var Ne=function(){this.zpp_inner=null};e["nape.dynamics.InteractionGroup"]=Ne;Ne.__name__=["nape","dynamics","InteractionGroup"];Ne.prototype={toString:function(){var a="InteractionGroup";this.zpp_inner.ignore&&(a+=":ignore");return a},__class__:Ne};var Ka=
function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.dynamics.InteractionGroupIterator"]=Ka;Ka.__name__=["nape","dynamics","InteractionGroupIterator"];Ka.get=function(a){var b;null==Ka.zpp_pool?($b.internal=!0,b=new Ka,$b.internal=!1):(b=Ka.zpp_pool,Ka.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ka.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<
a)return!0;this.zpp_next=Ka.zpp_pool;Ka.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ka};var Oe=function(){this.zpp_inner=null};e["nape.dynamics.InteractionGroupList"]=Oe;Oe.__name__=["nape","dynamics","InteractionGroupList"];Oe.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},
at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ka.get(this);c.hasNext();){var d;c.zpp_critical=
!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Oe};var Pe=function(){this.zpp_inner=null};e["nape.geom.AABB"]=Pe;Pe.__name__=["nape","geom","AABB"];Pe.prototype={toString:function(){this.zpp_inner.validate();return this.zpp_inner.toString()},__class__:Pe};var Qe=function(){this.zpp_inner=null};e["nape.geom.ConvexResult"]=Qe;Qe.__name__=["nape","geom","ConvexResult"];Qe.prototype={toString:function(){return"{ shape: "+u.string(this.zpp_inner.shape)+
" toi: "+this.zpp_inner.toiDistance+" }"},__class__:Qe};var La=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.geom.ConvexResultIterator"]=La;La.__name__=["nape","geom","ConvexResultIterator"];La.get=function(a){var b;null==La.zpp_pool?(ac.internal=!0,b=new La,ac.internal=!1):(b=La.zpp_pool,La.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};La.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();
this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=La.zpp_pool;La.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:La};var Re=function(){this.zpp_inner=null};e["nape.geom.ConvexResultList"]=Re;Re.__name__=["nape","geom","ConvexResultList"];Re.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);
return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=La.get(this);c.hasNext();){var d;
c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Re};var Se=function(){this.zpp_inner=null};e["nape.geom.GeomPoly"]=Se;Se.__name__=["nape","geom","GeomPoly"];Se.prototype={toString:function(){var a="GeomPoly[",b=this.zpp_inner.vertices,c=this.zpp_inner.vertices;if(null!=b){do{var d=b;d!=this.zpp_inner.vertices&&(a+=",");a+="{"+d.x+","+d.y+"}";b=b.next}while(b!=c)}return a+"]"},__class__:Se};var Ma=function(){this.zpp_next=null;
this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.geom.GeomPolyIterator"]=Ma;Ma.__name__=["nape","geom","GeomPolyIterator"];Ma.get=function(a){var b;null==Ma.zpp_pool?(bc.internal=!0,b=new Ma,bc.internal=!1):(b=Ma.zpp_pool,Ma.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ma.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ma.zpp_pool;Ma.zpp_pool=this;
this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ma};var Te=function(){this.zpp_inner=null};e["nape.geom.GeomPolyList"]=Te;Te.__name__=["nape","geom","GeomPolyList"];Te.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&
(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ma.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();
b=!1}return a+"]"},__class__:Te};var Ue=function(){this.zpp_inner=null};e["nape.geom.Mat23"]=Ue;Ue.__name__=["nape","geom","Mat23"];Ue.prototype={toString:function(){return"{ a: "+this.zpp_inner.a+" b: "+this.zpp_inner.b+" c: "+this.zpp_inner.c+" d: "+this.zpp_inner.d+" tx: "+this.zpp_inner.tx+" ty: "+this.zpp_inner.ty+" }"},__class__:Ue};var Ve=function(){this.zpp_inner=null};e["nape.geom.MatMN"]=Ve;Ve.__name__=["nape","geom","MatMN"];Ve.prototype={toString:function(){for(var a="{ ",b=!0,c=0,d=this.zpp_inner.m;c<
d;){var e=c++;b||(a+="; ");for(var b=!1,f=0,g=this.zpp_inner.n;f<g;)var i=f++,a=a+(this.zpp_inner.x[e*this.zpp_inner.n+i]+" ")}return a+"}"},__class__:Ve};var We=function(){this.zpp_inner=null};e["nape.geom.RayResult"]=We;We.__name__=["nape","geom","RayResult"];We.prototype={toString:function(){return"{ shape: "+u.string(this.zpp_inner.shape)+" distance: "+this.zpp_inner.toiDistance+" ?inner: "+u.string(this.zpp_inner.inner)+" }"},__class__:We};var Na=function(){this.zpp_next=null;this.zpp_critical=
!1;this.zpp_i=0;this.zpp_inner=null};e["nape.geom.RayResultIterator"]=Na;Na.__name__=["nape","geom","RayResultIterator"];Na.get=function(a){var b;null==Na.zpp_pool?(cc.internal=!0,b=new Na,cc.internal=!1):(b=Na.zpp_pool,Na.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Na.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Na.zpp_pool;Na.zpp_pool=this;this.zpp_inner=
null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Na};var Xe=function(){this.zpp_inner=null};e["nape.geom.RayResultList"]=Xe;Xe.__name__=["nape","geom","RayResultList"];Xe.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-
1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Na.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},
__class__:Xe};var de=function(a,b){null==b&&(b=0);null==a&&(a=0);this.zpp_inner=null;this.zpp_inner=Oa.get(a,b,null);this.zpp_inner.outer=this};e["nape.geom.Vec2"]=de;de.__name__=["nape","geom","Vec2"];de.prototype={toString:function(){this.zpp_inner.validate();return this.zpp_inner.toString()},__class__:de};var Pa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.geom.Vec2Iterator"]=Pa;Pa.__name__=["nape","geom","Vec2Iterator"];Pa.get=function(a){var b;
null==Pa.zpp_pool?(dc.internal=!0,b=new Pa,dc.internal=!1):(b=Pa.zpp_pool,Pa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Pa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.zpp_gl();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Pa.zpp_pool;Pa.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Pa};var Ye=function(){this.zpp_inner=null};e["nape.geom.Vec2List"]=
Ye;Ye.__name__=["nape","geom","Vec2List"];Ye.prototype={zpp_gl:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},zpp_vm:function(){this.zpp_inner.valmod()},at:function(a){this.zpp_vm();this.zpp_inner.reverse_flag&&(a=this.zpp_gl()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);
else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},iterator:function(){this.zpp_vm();return Pa.get(this)},toString:function(){for(var a="[",b=!0,c=this.iterator();c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Ye};var Ze=function(){this.zpp_inner=null};e["nape.geom.Vec3"]=Ze;Ze.__name__=["nape","geom",
"Vec3"];Ze.prototype={toString:function(){this.zpp_inner.validate();var a="{ x: "+this.zpp_inner.x+" y: ";this.zpp_inner.validate();a=a+this.zpp_inner.y+" z: ";this.zpp_inner.validate();return a+this.zpp_inner.z+" }"},__class__:Ze};var ec=function(){};e["nape.geom.Winding"]=ec;ec.__name__=["nape","geom","Winding"];ec.prototype={toString:function(){var a;null==f.Winding_UNDEFINED&&(f.internal=!0,f.Winding_UNDEFINED=new ec,f.internal=!1);this==f.Winding_UNDEFINED?a="UNDEFINED":(null==f.Winding_CLOCKWISE&&
(f.internal=!0,f.Winding_CLOCKWISE=new ec,f.internal=!1),this==f.Winding_CLOCKWISE?a="CLOCKWISE":(null==f.Winding_ANTICLOCKWISE&&(f.internal=!0,f.Winding_ANTICLOCKWISE=new ec,f.internal=!1),a=this==f.Winding_ANTICLOCKWISE?"ANTICLOCKWISE":""));return a},__class__:ec};var fb=function(){this.zpp_inner_i=null};e["nape.phys.Interactor"]=fb;fb.__name__=["nape","phys","Interactor"];fb.prototype={toString:function(){return""},__class__:fb};var ee=function(){this.zpp_inner=null};e["nape.phys.Body"]=ee;ee.__name__=
["nape","phys","Body"];ee.__super__=fb;ee.prototype=t(fb.prototype,{toString:function(){return(this.zpp_inner.world?"(space::world":"("+(2==this.zpp_inner.type?"dynamic":1==this.zpp_inner.type?"static":"kinematic"))+")#"+this.zpp_inner_i.id},__class__:ee});var Qa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.phys.BodyIterator"]=Qa;Qa.__name__=["nape","phys","BodyIterator"];Qa.get=function(a){var b;null==Qa.zpp_pool?(fc.internal=!0,b=new Qa,fc.internal=
!1):(b=Qa.zpp_pool,Qa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Qa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Qa.zpp_pool;Qa.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Qa};var $e=function(){this.zpp_inner=null};e["nape.phys.BodyList"]=$e;$e.__name__=["nape","phys","BodyList"];
$e.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,
this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Qa.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:$e};var gc=function(){};e["nape.phys.BodyType"]=gc;gc.__name__=["nape","phys","BodyType"];gc.prototype={toString:function(){var a;null==f.BodyType_STATIC&&(f.internal=!0,f.BodyType_STATIC=new gc,
f.internal=!1);this==f.BodyType_STATIC?a="STATIC":(null==f.BodyType_DYNAMIC&&(f.internal=!0,f.BodyType_DYNAMIC=new gc,f.internal=!1),this==f.BodyType_DYNAMIC?a="DYNAMIC":(null==f.BodyType_KINEMATIC&&(f.internal=!0,f.BodyType_KINEMATIC=new gc,f.internal=!1),a=this==f.BodyType_KINEMATIC?"KINEMATIC":""));return a},__class__:gc};var fe=function(){};e["nape.phys.Compound"]=fe;fe.__name__=["nape","phys","Compound"];fe.__super__=fb;fe.prototype=t(fb.prototype,{toString:function(){return"Compound"+this.zpp_inner_i.id},
__class__:fe});var Ra=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.phys.CompoundIterator"]=Ra;Ra.__name__=["nape","phys","CompoundIterator"];Ra.get=function(a){var b;null==Ra.zpp_pool?(hc.internal=!0,b=new Ra,hc.internal=!1):(b=Ra.zpp_pool,Ra.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ra.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;
this.zpp_next=Ra.zpp_pool;Ra.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ra};var af=function(){this.zpp_inner=null};e["nape.phys.CompoundList"]=af;af.__name__=["nape","phys","CompoundList"];af.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();
this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ra.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=
",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:af};var bf=function(){this.zpp_inner=null};e["nape.phys.FluidProperties"]=bf;bf.__name__=["nape","phys","FluidProperties"];bf.prototype={toString:function(){return"{ density: "+1E3*this.zpp_inner.density+" viscosity: "+this.zpp_inner.viscosity+" gravity: "+u.string(this.zpp_inner.wrap_gravity)+" }"},__class__:bf};var ic=function(){};e["nape.phys.GravMassMode"]=ic;ic.__name__=["nape","phys","GravMassMode"];ic.prototype={toString:function(){var a;
null==f.GravMassMode_DEFAULT&&(f.internal=!0,f.GravMassMode_DEFAULT=new ic,f.internal=!1);this==f.GravMassMode_DEFAULT?a="DEFAULT":(null==f.GravMassMode_FIXED&&(f.internal=!0,f.GravMassMode_FIXED=new ic,f.internal=!1),this==f.GravMassMode_FIXED?a="FIXED":(null==f.GravMassMode_SCALED&&(f.internal=!0,f.GravMassMode_SCALED=new ic,f.internal=!1),a=this==f.GravMassMode_SCALED?"SCALED":""));return a},__class__:ic};var id=function(){};e["nape.phys.InertiaMode"]=id;id.__name__=["nape","phys","InertiaMode"];
id.prototype={toString:function(){var a;null==f.InertiaMode_DEFAULT&&(f.internal=!0,f.InertiaMode_DEFAULT=new id,f.internal=!1);this==f.InertiaMode_DEFAULT?a="DEFAULT":(null==f.InertiaMode_FIXED&&(f.internal=!0,f.InertiaMode_FIXED=new id,f.internal=!1),a=this==f.InertiaMode_FIXED?"FIXED":"");return a},__class__:id};var Sa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.phys.InteractorIterator"]=Sa;Sa.__name__=["nape","phys","InteractorIterator"];Sa.get=
function(a){var b;null==Sa.zpp_pool?(jc.internal=!0,b=new Sa,jc.internal=!1):(b=Sa.zpp_pool,Sa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Sa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Sa.zpp_pool;Sa.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Sa};var cf=function(){this.zpp_inner=
null};e["nape.phys.InteractorList"]=cf;cf.__name__=["nape","phys","InteractorList"];cf.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);
else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer_i},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Sa.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:cf};var jd=function(){};e["nape.phys.MassMode"]=jd;jd.__name__=["nape","phys","MassMode"];jd.prototype={toString:function(){var a;
null==f.MassMode_DEFAULT&&(f.internal=!0,f.MassMode_DEFAULT=new jd,f.internal=!1);this==f.MassMode_DEFAULT?a="DEFAULT":(null==f.MassMode_FIXED&&(f.internal=!0,f.MassMode_FIXED=new jd,f.internal=!1),a=this==f.MassMode_FIXED?"FIXED":"");return a},__class__:jd};var df=function(){this.zpp_inner=null};e["nape.phys.Material"]=df;df.__name__=["nape","phys","Material"];df.prototype={toString:function(){return"{ elasticity: "+this.zpp_inner.elasticity+" dynamicFriction: "+this.zpp_inner.dynamicFriction+" staticFriction: "+
this.zpp_inner.staticFriction+" density: "+1E3*this.zpp_inner.density+" rollingFriction: "+this.zpp_inner.rollingFriction+" }"},__class__:df};var ub=function(){this.zpp_inner=null};e["nape.shape.Shape"]=ub;ub.__name__=["nape","shape","Shape"];ub.__super__=fb;ub.prototype=t(fb.prototype,{toString:function(){return(0==this.zpp_inner.type?"Circle":"Polygon")+"#"+this.zpp_inner_i.id},__class__:ub});var ge=function(){};e["nape.shape.Circle"]=ge;ge.__name__=["nape","shape","Circle"];ge.__super__=ub;ge.prototype=
t(ub.prototype,{__class__:ge});var he=function(){this.zpp_inner=null};e["nape.shape.Edge"]=he;he.__name__=["nape","shape","Edge"];he.prototype={toString:function(){if(null==this.zpp_inner.polygon)return"Edge(object-pooled)";if(null==this.zpp_inner.polygon.body)return this.zpp_inner.polygon.validate_laxi(),"{ localNormal : "+("{ x: "+this.zpp_inner.lnormx+" y: "+this.zpp_inner.lnormy+" }")+" }";this.zpp_inner.polygon.validate_gaxi();return"{ localNormal : "+("{ x: "+this.zpp_inner.lnormx+" y: "+this.zpp_inner.lnormy+
" }")+" worldNormal : "+("{ x: "+this.zpp_inner.gnormx+" y: "+this.zpp_inner.gnormy+" }")+" }"},__class__:he};var Ta=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.shape.EdgeIterator"]=Ta;Ta.__name__=["nape","shape","EdgeIterator"];Ta.get=function(a){var b;null==Ta.zpp_pool?(kc.internal=!0,b=new Ta,kc.internal=!1):(b=Ta.zpp_pool,Ta.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ta.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();
var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ta.zpp_pool;Ta.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ta};var ef=function(){this.zpp_inner=null};e["nape.shape.EdgeList"]=ef;ef.__name__=["nape","shape","EdgeList"];ef.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);
return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&a!=this.get_length()-1&&(a=this.get_length()-2-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();
for(c=Ta.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:ef};var ie=function(){};e["nape.shape.Polygon"]=ie;ie.__name__=["nape","shape","Polygon"];ie.__super__=ub;ie.prototype=t(ub.prototype,{__class__:ie});var Ua=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.shape.ShapeIterator"]=Ua;Ua.__name__=["nape","shape","ShapeIterator"];Ua.get=function(a){var b;
null==Ua.zpp_pool?(lc.internal=!0,b=new Ua,lc.internal=!1):(b=Ua.zpp_pool,Ua.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ua.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ua.zpp_pool;Ua.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ua};var ff=function(){this.zpp_inner=null};e["nape.shape.ShapeList"]=
ff;ff.__name__=["nape","shape","ShapeList"];ff.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=
a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ua.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:ff};var kd=function(){};e["nape.shape.ShapeType"]=kd;kd.__name__=["nape","shape","ShapeType"];kd.prototype={toString:function(){var a;null==f.ShapeType_CIRCLE&&(f.internal=
!0,f.ShapeType_CIRCLE=new kd,f.internal=!1);this==f.ShapeType_CIRCLE?a="CIRCLE":(null==f.ShapeType_POLYGON&&(f.internal=!0,f.ShapeType_POLYGON=new kd,f.internal=!1),a=this==f.ShapeType_POLYGON?"POLYGON":"");return a},__class__:kd};var Ib=function(){};e["nape.shape.ValidationResult"]=Ib;Ib.__name__=["nape","shape","ValidationResult"];Ib.prototype={toString:function(){var a;null==f.ValidationResult_VALID&&(f.internal=!0,f.ValidationResult_VALID=new Ib,f.internal=!1);this==f.ValidationResult_VALID?a=
"VALID":(null==f.ValidationResult_DEGENERATE&&(f.internal=!0,f.ValidationResult_DEGENERATE=new Ib,f.internal=!1),this==f.ValidationResult_DEGENERATE?a="DEGENERATE":(null==f.ValidationResult_CONCAVE&&(f.internal=!0,f.ValidationResult_CONCAVE=new Ib,f.internal=!1),this==f.ValidationResult_CONCAVE?a="CONCAVE":(null==f.ValidationResult_SELF_INTERSECTING&&(f.internal=!0,f.ValidationResult_SELF_INTERSECTING=new Ib,f.internal=!1),a=this==f.ValidationResult_SELF_INTERSECTING?"SELF_INTERSECTING":"")));return a},
__class__:Ib};var ld=function(){};e["nape.space.Broadphase"]=ld;ld.__name__=["nape","space","Broadphase"];ld.prototype={toString:function(){var a;null==f.Broadphase_DYNAMIC_AABB_TREE&&(f.internal=!0,f.Broadphase_DYNAMIC_AABB_TREE=new ld,f.internal=!1);this==f.Broadphase_DYNAMIC_AABB_TREE?a="DYNAMIC_AABB_TREE":(null==f.Broadphase_SWEEP_AND_PRUNE&&(f.internal=!0,f.Broadphase_SWEEP_AND_PRUNE=new ld,f.internal=!1),a=this==f.Broadphase_SWEEP_AND_PRUNE?"SWEEP_AND_PRUNE":"");return a},__class__:ld};var gf=
function(){};e["nape.space.Space"]=gf;gf.__name__=["nape","space","Space"];gf.prototype={__class__:gf};var md=function(){};e["zpp_nape.ZPP_ID"]=md;md.__name__=["zpp_nape","ZPP_ID"];md.CbType=function(){return md._CbType++};var hf=function(){this.listener=this.int1=this.int2=this.wrap_arbiters=this.pre_arbiter=this.body=this.constraint=null;this.event=0};e["zpp_nape.callbacks.ZPP_Callback"]=hf;hf.__name__=["zpp_nape","callbacks","ZPP_Callback"];hf.prototype={__class__:hf};var je=function(){};e["zpp_nape.util.ZNPList_ZPP_InteractionListener"]=
je;je.__name__=["zpp_nape","util","ZNPList_ZPP_InteractionListener"];je.prototype={__class__:je};var ke=function(){};e["zpp_nape.util.ZNPList_ZPP_BodyListener"]=ke;ke.__name__=["zpp_nape","util","ZNPList_ZPP_BodyListener"];ke.prototype={__class__:ke};var le=function(){};e["zpp_nape.util.ZNPList_ZPP_ConstraintListener"]=le;le.__name__=["zpp_nape","util","ZNPList_ZPP_ConstraintListener"];le.prototype={__class__:le};var me=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Constraint"]=
me;me.__name__=["zpp_nape","util","ZNPList_ZPP_Constraint"];me.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:me};var ne=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Interactor"]=ne;ne.__name__=["zpp_nape","util","ZNPList_ZPP_Interactor"];ne.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:ne};var oe=function(){};e["zpp_nape.util.ZNPList_ZPP_CbSet"]=
oe;oe.__name__=["zpp_nape","util","ZNPList_ZPP_CbSet"];oe.prototype={__class__:oe};var va=function(){this.cbsets=this.listeners=this.bodylisteners=this.conlisteners=null;this.id=0;this.outer=null;this.id=md.CbType();this.listeners=new je;this.bodylisteners=new ke;this.conlisteners=new le;this.constraints=new me;this.interactors=new ne;this.cbsets=new oe};e["zpp_nape.callbacks.ZPP_CbType"]=va;va.__name__=["zpp_nape","callbacks","ZPP_CbType"];va.prototype={__class__:va};var f=function(){};e["zpp_nape.util.ZPP_Flags"]=
f;f.__name__=["zpp_nape","util","ZPP_Flags"];var gb=function(){this.body=this.constraint=this.interaction=null;this.type=this.event=this.precedence=0;this.outer=null};e["zpp_nape.callbacks.ZPP_Listener"]=gb;gb.__name__=["zpp_nape","callbacks","ZPP_Listener"];gb.prototype={__class__:gb};var pe=function(){this.outer_zn=this.options=null};e["zpp_nape.callbacks.ZPP_BodyListener"]=pe;pe.__name__=["zpp_nape","callbacks","ZPP_BodyListener"];pe.__super__=gb;pe.prototype=t(gb.prototype,{__class__:pe});var qe=
function(){this.outer_zn=this.options=null};e["zpp_nape.callbacks.ZPP_ConstraintListener"]=qe;qe.__name__=["zpp_nape","callbacks","ZPP_ConstraintListener"];qe.__super__=gb;qe.prototype=t(gb.prototype,{__class__:qe});var re=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_CbType"]=re;re.__name__=["zpp_nape","util","ZNPList_ZPP_CbType"];re.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:re};var se=
function(){this.options1=this.options2=null;this.itype=0;this.outer_zni=this.outer_znp=null};e["zpp_nape.callbacks.ZPP_InteractionListener"]=se;se.__name__=["zpp_nape","callbacks","ZPP_InteractionListener"];se.__super__=gb;se.prototype=t(gb.prototype,{__class__:se});var jf=function(){this.outer=this.includes=this.excludes=this.wrap_includes=this.wrap_excludes=null};e["zpp_nape.callbacks.ZPP_OptionType"]=jf;jf.__name__=["zpp_nape","callbacks","ZPP_OptionType"];jf.prototype={setup_includes:function(){this.wrap_includes=
ab.get(this.includes,!0)},setup_excludes:function(){this.wrap_excludes=ab.get(this.excludes,!0)},__class__:jf};var kf=function(){this.outer=null};e["zpp_nape.constraint.ZPP_Constraint"]=kf;kf.__name__=["zpp_nape","constraint","ZPP_Constraint"];kf.prototype={__class__:kf};var ca=function(){this.colarb=this.fluidarb=null;this.type=0;this.ws1=this.ws2=null;this.immState=0;this.active=this.cleared=!1;this.outer=null};e["zpp_nape.dynamics.ZPP_Arbiter"]=ca;ca.__name__=["zpp_nape","dynamics","ZPP_Arbiter"];
ca.prototype={wrapper:function(){null==this.outer&&(ca.internal=!0,this.type==ca.COL?(this.colarb.outer_zn=new gd,this.outer=this.colarb.outer_zn):this.type==ca.FLUID?(this.fluidarb.outer_zn=new hd,this.outer=this.fluidarb.outer_zn):this.outer=new tb,this.outer.zpp_inner=this,ca.internal=!1);return this.outer},__class__:ca};var te=function(){this.outer_zn=null};e["zpp_nape.dynamics.ZPP_FluidArbiter"]=te;te.__name__=["zpp_nape","dynamics","ZPP_FluidArbiter"];te.__super__=ca;te.prototype=t(ca.prototype,
{__class__:te});var ue=function(){this.stat=!1;this.outer_zn=null};e["zpp_nape.dynamics.ZPP_ColArbiter"]=ue;ue.__name__=["zpp_nape","dynamics","ZPP_ColArbiter"];ue.__super__=ca;ue.prototype=t(ca.prototype,{__class__:ue});var mc=function(){this.modified=this.pushmod=!1;this.next=null;this.active=!1;this.outer=this.arbiter=null};e["zpp_nape.dynamics.ZPP_Contact"]=mc;mc.__name__=["zpp_nape","dynamics","ZPP_Contact"];mc.prototype={wrapper:function(){null==this.outer&&(mc.internal=!0,this.outer=new ce,
mc.internal=!1,this.outer.zpp_inner=this);return this.outer},__class__:mc};var lf=function(){this.ignore=!1;this.outer=null};e["zpp_nape.dynamics.ZPP_InteractionGroup"]=lf;lf.__name__=["zpp_nape","dynamics","ZPP_InteractionGroup"];lf.prototype={__class__:lf};var mf=function(){this.minx=this.miny=this.maxx=this.maxy=0;this._validate=null};e["zpp_nape.geom.ZPP_AABB"]=mf;mf.__name__=["zpp_nape","geom","ZPP_AABB"];mf.prototype={validate:function(){null!=this._validate&&this._validate()},toString:function(){return"{ x: "+
this.minx+" y: "+this.miny+" w: "+(this.maxx-this.minx)+" h: "+(this.maxy-this.miny)+" }"},__class__:mf};var nf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Vec2"]=nf;nf.__name__=["zpp_nape","util","ZNPList_ZPP_Vec2"];nf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:nf};var of=function(){this.toiDistance=0;this.inner=!1;this.shape=null};e["zpp_nape.geom.ZPP_ConvexRayResult"]=of;of.__name__=
["zpp_nape","geom","ZPP_ConvexRayResult"];of.prototype={__class__:of};var pf=function(){this.next=null;this.x=this.y=0};e["zpp_nape.geom.ZPP_GeomVert"]=pf;pf.__name__=["zpp_nape","geom","ZPP_GeomVert"];pf.prototype={__class__:pf};var qf=function(){this.outer=this.vertices=null};e["zpp_nape.geom.ZPP_GeomPoly"]=qf;qf.__name__=["zpp_nape","geom","ZPP_GeomPoly"];qf.prototype={__class__:qf};var rf=function(){this.a=this.b=this.c=this.d=this.tx=this.ty=0};e["zpp_nape.geom.ZPP_Mat23"]=rf;rf.__name__=["zpp_nape",
"geom","ZPP_Mat23"];rf.prototype={__class__:rf};var sf=function(){this.x=null;this.m=this.n=0};e["zpp_nape.geom.ZPP_MatMN"]=sf;sf.__name__=["zpp_nape","geom","ZPP_MatMN"];sf.prototype={__class__:sf};var Oa=function(){this.length=this.x=this.y=0;this.modified=this.pushmod=!1;this.next=null;this.weak=!1;this._isimmutable=this.outer=null;this._immutable=!1;this._invalidate=this._validate=null};e["zpp_nape.geom.ZPP_Vec2"]=Oa;Oa.__name__=["zpp_nape","geom","ZPP_Vec2"];Oa.get=function(a,b,c){null==c&&(c=
!1);var d;null==Oa.zpp_pool?d=new Oa:(d=Oa.zpp_pool,Oa.zpp_pool=d.next,d.next=null);d.weak=!1;d._immutable=c;d.x=a;d.y=b;return d};Oa.prototype={validate:function(){null!=this._validate&&this._validate()},wrapper:function(){if(null==this.outer){this.outer=new de;var a=this.outer.zpp_inner;null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=Oa.zpp_pool;Oa.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},reverse:function(){for(var a=
this.next,b=null;null!=a;){var c=a.next;a.next=b;b=this.next=a;a=c}this.pushmod=this.modified=!0},toString:function(){return"{ x: "+this.x+" y: "+this.y+" }"},__class__:Oa};var tf=function(){this._validate=null;this.x=this.y=this.z=0};e["zpp_nape.geom.ZPP_Vec3"]=tf;tf.__name__=["zpp_nape","geom","ZPP_Vec3"];tf.prototype={validate:function(){null!=this._validate&&this._validate()},__class__:tf};var hb=function(){this.id=0;this.outer_i=null};e["zpp_nape.phys.ZPP_Interactor"]=hb;hb.__name__=["zpp_nape",
"phys","ZPP_Interactor"];hb.prototype={__class__:hb};var ve=function(){this.zip_axis=!1;this.type=this.posx=this.posy=this.rot=this.axisx=this.axisy=0;this.world=!1;this.outer=null};e["zpp_nape.phys.ZPP_Body"]=ve;ve.__name__=["zpp_nape","phys","ZPP_Body"];ve.__super__=hb;ve.prototype=t(hb.prototype,{validate_axis:function(){this.zip_axis&&(this.zip_axis=!1,this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot),null)},__class__:ve});var we=function(){this.outer=null};e["zpp_nape.phys.ZPP_Compound"]=
we;we.__name__=["zpp_nape","phys","ZPP_Compound"];we.__super__=hb;we.prototype=t(hb.prototype,{__class__:we});var uf=function(){this.wrap_gravity=null;this.viscosity=this.density=0};e["zpp_nape.phys.ZPP_FluidProperties"]=uf;uf.__name__=["zpp_nape","phys","ZPP_FluidProperties"];uf.prototype={__class__:uf};var vf=function(){this.dynamicFriction=this.staticFriction=this.density=this.elasticity=this.rollingFriction=0};e["zpp_nape.phys.ZPP_Material"]=vf;vf.__name__=["zpp_nape","phys","ZPP_Material"];vf.prototype=
{__class__:vf};var vb=function(){this.circle=this.polygon=null;this.inertia=this.localCOMx=this.localCOMy=0;this.zip_area_inertia=!1;this.type=this.area=0;this.outer=this.body=null};e["zpp_nape.shape.ZPP_Shape"]=vb;vb.__name__=["zpp_nape","shape","ZPP_Shape"];vb.__super__=hb;vb.prototype=t(hb.prototype,{validate_area_inertia:function(){this.zip_area_inertia&&(this.zip_area_inertia=!1,0==this.type?this.circle.__validate_area_inertia():this.polygon.__validate_area_inertia())},__class__:vb});var xe=
function(){this.radius=0};e["zpp_nape.shape.ZPP_Circle"]=xe;xe.__name__=["zpp_nape","shape","ZPP_Circle"];xe.__super__=vb;xe.prototype=t(vb.prototype,{__validate_area_inertia:function(){var a=this.radius*this.radius;this.area=a*Math.PI;this.inertia=0.5*a+(this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy)},__class__:xe});var nc=function(){this.tp0=this.tp1=0;this.lp0=this.gp0=this.lp1=this.gp1=null;this.length=this.lprojection=this.gprojection=0;this.wrap_gnorm=null;this.gnormx=this.gnormy=
0;this.wrap_lnorm=null;this.lnormx=this.lnormy=0;this.polygon=this.outer=null};e["zpp_nape.shape.ZPP_Edge"]=nc;nc.__name__=["zpp_nape","shape","ZPP_Edge"];nc.prototype={wrapper:function(){null==this.outer&&(nc.internal=!0,this.outer=new he,nc.internal=!1,this.outer.zpp_inner=this);return this.outer},__class__:nc};var ye=function(){this.reverse_flag=this.zip_lverts=this.zip_laxi=this.zip_gverts=this.zip_gaxi=!1;this.edgeCnt=0;this.lverts=this.wrap_lverts=this.gverts=this.wrap_gverts=this.edges=this.wrap_edges=
null};e["zpp_nape.shape.ZPP_Polygon"]=ye;ye.__name__=["zpp_nape","shape","ZPP_Polygon"];ye.__super__=vb;ye.prototype=t(vb.prototype,{validate_lverts:function(){this.zip_lverts&&(this.zip_lverts=!1,2<this.lverts.length&&(this.validate_area_inertia(),0>this.area&&(this.reverse_vertices(),this.area=-this.area)))},reverse_vertices:function(){this.lverts.reverse();this.gverts.reverse();this.edges.reverse();var a=this.edges.iterator_at(this.edgeCnt-1),b=this.edges.pop_unsafe();this.edges.insert(a,b);this.reverse_flag=
!this.reverse_flag;null!=this.wrap_lverts&&(this.wrap_lverts.zpp_inner.reverse_flag=this.reverse_flag);null!=this.wrap_gverts&&(this.wrap_gverts.zpp_inner.reverse_flag=this.reverse_flag);null!=this.wrap_edges&&(this.wrap_edges.zpp_inner.reverse_flag=this.reverse_flag)},validate_laxi:function(){if(this.zip_laxi){this.zip_laxi=!1;this.validate_lverts();for(var a=this.edges.head,b=this.lverts.next,c=b,b=b.next;null!=b;){var d=b,e=a.elt,a=a.next;e.lp0=c;e.lp1=d;var f=0,g=0,f=c.x-d.x,g=c.y-d.y,i=Math.sqrt(f*
f+g*g);e.length=i;i=1/i;f*=i;g*=i;i=f;f=-g;g=i;e.lprojection=f*c.x+g*c.y;e.lnormx=f;e.lnormy=g;null!=e.wrap_lnorm&&(e.wrap_lnorm.zpp_inner.x=f,e.wrap_lnorm.zpp_inner.y=g);c=d;b=b.next}e=this.lverts.next;a=a.elt;a.lp0=c;a.lp1=e;d=b=0;b=c.x-e.x;d=c.y-e.y;e=Math.sqrt(b*b+d*d);a.length=e;e=1/e;f=b*e;b=-(d*e);d=f;a.lprojection=b*c.x+d*c.y;a.lnormx=b;a.lnormy=d;null!=a.wrap_lnorm&&(a.wrap_lnorm.zpp_inner.x=b,a.wrap_lnorm.zpp_inner.y=d)}},validate_gverts:function(){if(this.zip_gverts&&null!=this.body){this.zip_gverts=
!1;this.validate_lverts();this.body.validate_axis();for(var a=this.lverts.next,b=this.gverts.next;null!=b;){var c=b,d=a,a=a.next;c.x=this.body.posx+(this.body.axisy*d.x-this.body.axisx*d.y);c.y=this.body.posy+(d.x*this.body.axisx+d.y*this.body.axisy);b=b.next}}},validate_gaxi:function(){if(this.zip_gaxi&&null!=this.body){this.zip_gaxi=!1;this.validate_laxi();this.body.validate_axis();this.validate_gverts();for(var a=this.edges.head,b=this.gverts.next,c=b,b=b.next;null!=b;){var d=b,e=a.elt,a=a.next;
e.gp0=c;e.gp1=d;e.gnormx=this.body.axisy*e.lnormx-this.body.axisx*e.lnormy;e.gnormy=e.lnormx*this.body.axisx+e.lnormy*this.body.axisy;e.gprojection=this.body.posx*e.gnormx+this.body.posy*e.gnormy+e.lprojection;null!=e.wrap_gnorm&&(e.wrap_gnorm.zpp_inner.x=e.gnormx,e.wrap_gnorm.zpp_inner.y=e.gnormy);e.tp0=e.gp0.y*e.gnormx-e.gp0.x*e.gnormy;e.tp1=e.gp1.y*e.gnormx-e.gp1.x*e.gnormy;c=d;b=b.next}b=this.gverts.next;a=a.elt;a.gp0=c;a.gp1=b;a.gnormx=this.body.axisy*a.lnormx-this.body.axisx*a.lnormy;a.gnormy=
a.lnormx*this.body.axisx+a.lnormy*this.body.axisy;a.gprojection=this.body.posx*a.gnormx+this.body.posy*a.gnormy+a.lprojection;null!=a.wrap_gnorm&&(a.wrap_gnorm.zpp_inner.x=a.gnormx,a.wrap_gnorm.zpp_inner.y=a.gnormy);a.tp0=a.gp0.y*a.gnormx-a.gp0.x*a.gnormy;a.tp1=a.gp1.y*a.gnormx-a.gp1.x*a.gnormy}},__validate_area_inertia:function(){if(null==this.lverts.next||null==this.lverts.next.next||null==this.lverts.next.next.next)this.inertia=this.area=0;else{for(var a=this.area=0,b=0,c=this.lverts.next,d=c,
e=c=c.next,c=c.next;null!=c;){var f=c,g=e.y*d.x-e.x*d.y,a=a+g*(e.x*e.x+e.y*e.y+(e.x*d.x+e.y*d.y)+(d.x*d.x+d.y*d.y)),b=b+g;this.area+=e.x*(f.y-d.y);d=e;e=f;c=c.next}g=c=this.lverts.next;f=e.y*d.x-e.x*d.y;a+=f*(e.x*e.x+e.y*e.y+(e.x*d.x+e.y*d.y)+(d.x*d.x+d.y*d.y));this.area+=e.x*(g.y-d.y);d=e;e=g;c=c.next;g=e.y*d.x-e.x*d.y;a+=g*(e.x*e.x+e.y*e.y+(e.x*d.x+e.y*d.y)+(d.x*d.x+d.y*d.y));this.area+=e.x*(c.y-d.y);this.inertia=a/(6*(b+f+g));this.area*=0.5;0>this.area&&(this.area=-this.area,this.reverse_vertices())}},
__class__:ye});var wf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Shape"]=wf;wf.__name__=["zpp_nape","util","ZNPList_ZPP_Shape"];wf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:wf};var xf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Body"]=xf;xf.__name__=["zpp_nape","util","ZNPList_ZPP_Body"];xf.prototype={iterator_at:function(a){for(var b=
this.head;0<a--&&null!=b;)b=b.next;return b},__class__:xf};var yf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Compound"]=yf;yf.__name__=["zpp_nape","util","ZNPList_ZPP_Compound"];yf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:yf};var zf=function(){this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Arbiter"]=zf;zf.__name__=["zpp_nape","util","ZNPList_ZPP_Arbiter"];
zf.prototype={__class__:zf};var Af=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Edge"]=Af;Af.__name__=["zpp_nape","util","ZNPList_ZPP_Edge"];Af.prototype={insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==ib.zpp_pool?c=new ib:(c=ib.zpp_pool,ib.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},
pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=ib.zpp_pool;ib.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},iterator_at:function(a){for(var b=this.head;0<
a--&&null!=b;)b=b.next;return b},__class__:Af};var Bf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Listener"]=Bf;Bf.__name__=["zpp_nape","util","ZNPList_ZPP_Listener"];Bf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Bf};var Cf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_InteractionGroup"]=Cf;Cf.__name__=["zpp_nape","util","ZNPList_ZPP_InteractionGroup"];
Cf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Cf};var Df=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ConvexResult"]=Df;Df.__name__=["zpp_nape","util","ZNPList_ConvexResult"];Df.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Df};var Ef=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_GeomPoly"]=
Ef;Ef.__name__=["zpp_nape","util","ZNPList_ZPP_GeomPoly"];Ef.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Ef};var Ff=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_RayResult"]=Ff;Ff.__name__=["zpp_nape","util","ZNPList_RayResult"];Ff.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Ff};var Gf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_CbType"]=
Gf;Gf.__name__=["zpp_nape","util","ZNPNode_ZPP_CbType"];Gf.prototype={__class__:Gf};var Hf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Shape"]=Hf;Hf.__name__=["zpp_nape","util","ZNPNode_ZPP_Shape"];Hf.prototype={__class__:Hf};var If=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Body"]=If;If.__name__=["zpp_nape","util","ZNPNode_ZPP_Body"];If.prototype={__class__:If};var Jf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Constraint"]=Jf;Jf.__name__=
["zpp_nape","util","ZNPNode_ZPP_Constraint"];Jf.prototype={__class__:Jf};var Kf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Compound"]=Kf;Kf.__name__=["zpp_nape","util","ZNPNode_ZPP_Compound"];Kf.prototype={__class__:Kf};var Lf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Arbiter"]=Lf;Lf.__name__=["zpp_nape","util","ZNPNode_ZPP_Arbiter"];Lf.prototype={__class__:Lf};var Mf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Interactor"]=Mf;Mf.__name__=
["zpp_nape","util","ZNPNode_ZPP_Interactor"];Mf.prototype={__class__:Mf};var Nf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Vec2"]=Nf;Nf.__name__=["zpp_nape","util","ZNPNode_ZPP_Vec2"];Nf.prototype={__class__:Nf};var ib=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Edge"]=ib;ib.__name__=["zpp_nape","util","ZNPNode_ZPP_Edge"];ib.prototype={__class__:ib};var Of=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Listener"]=Of;Of.__name__=["zpp_nape",
"util","ZNPNode_ZPP_Listener"];Of.prototype={__class__:Of};var Pf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_InteractionGroup"]=Pf;Pf.__name__=["zpp_nape","util","ZNPNode_ZPP_InteractionGroup"];Pf.prototype={__class__:Pf};var Qf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ConvexResult"]=Qf;Qf.__name__=["zpp_nape","util","ZNPNode_ConvexResult"];Qf.prototype={__class__:Qf};var Rf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_GeomPoly"]=Rf;Rf.__name__=
["zpp_nape","util","ZNPNode_ZPP_GeomPoly"];Rf.prototype={__class__:Rf};var Sf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_RayResult"]=Sf;Sf.__name__=["zpp_nape","util","ZNPNode_RayResult"];Sf.prototype={__class__:Sf};var Wb=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_ConstraintList"]=Wb;Wb.__name__=["zpp_nape","util","ZPP_ConstraintList"];
Wb.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:Wb};var fc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_BodyList"]=
fc;fc.__name__=["zpp_nape","util","ZPP_BodyList"];fc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:fc};var jc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;
this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_InteractorList"]=jc;jc.__name__=["zpp_nape","util","ZPP_InteractorList"];jc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:jc};var hc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=
this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_CompoundList"]=hc;hc.__name__=["zpp_nape","util","ZPP_CompoundList"];hc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:hc};
var Vb=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_ListenerList"]=Vb;Vb.__name__=["zpp_nape","util","ZPP_ListenerList"];Vb.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&
(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:Vb};var ab=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new re;this._invalidated=!0};e["zpp_nape.util.ZPP_CbTypeList"]=ab;ab.__name__=["zpp_nape","util","ZPP_CbTypeList"];ab.get=function(a,b){null==b&&(b=!1);var c=new Wd;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=
!0);c.zpp_inner.zip_length=!0;return c};ab.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:ab};var dc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=
!1;this.inner=null};e["zpp_nape.util.ZPP_Vec2List"]=dc;dc.__name__=["zpp_nape","util","ZPP_Vec2List"];dc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:dc};var bc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=
0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_GeomPolyList"]=bc;bc.__name__=["zpp_nape","util","ZPP_GeomPolyList"];bc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:bc};var cc=function(){this.user_length=
0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_RayResultList"]=cc;cc.__name__=["zpp_nape","util","ZPP_RayResultList"];cc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&
this._validate())},__class__:cc};var ac=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_ConvexResultList"]=ac;ac.__name__=["zpp_nape","util","ZPP_ConvexResultList"];ac.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=
!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:ac};var kc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_EdgeList"]=kc;kc.__name__=["zpp_nape","util","ZPP_EdgeList"];kc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=
null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:kc};var lc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_ShapeList"]=lc;lc.__name__=["zpp_nape","util","ZPP_ShapeList"];lc.prototype={valmod:function(){this.validate();
this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:lc};var $b=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_InteractionGroupList"]=$b;$b.__name__=
["zpp_nape","util","ZPP_InteractionGroupList"];$b.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:$b};var Xb=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;
this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_ArbiterList"]=Xb;Xb.__name__=["zpp_nape","util","ZPP_ArbiterList"];Xb.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:Xb};var Zb=function(){this.user_length=0;this.zip_length=!1;this.at_ite=
this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_ContactList"]=Zb;Zb.__name__=["zpp_nape","util","ZPP_ContactList"];Zb.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:Zb};
var lb,Zf=0;e.Math=Math;String.prototype.__class__=e.String=String;String.__name__=["String"];e.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=e.Date=Date;Date.__name__=["Date"];var $f=e.Int={__name__:["Int"]},ag=e.Dynamic={__name__:["Dynamic"]},Xf=e.Float=Number;Xf.__name__=["Float"];var Yf=e.Bool=Boolean;Yf.__ename__=["Bool"];var Vf=e.Class={__name__:["Class"]},Wf={},rb={},Ee=Function("return typeof ArrayBuffer != 'undefined' ? ArrayBuffer : null")()||Ba;null==Ee.prototype.slice&&
(Ee.prototype.slice=Ba.sliceImpl);Function("return typeof DataView != 'undefined' ? DataView : null")();var Uf=Function("return typeof Uint8Array != 'undefined' ? Uint8Array : null")()||eb._new;p.Element=0;p.PCData=1;p.CData=2;p.Comment=3;p.DocType=4;p.ProcessingInstruction=5;p.Document=6;l.isEventsTraceOnly=!1;l.apiURLPrefix="http://tools.funtomic.com/";l.gameOpsVersion="0.7.1";l.apiEventsLocation="v2/events/";l.status=Y.UNINITIALIZED;l.MAX_SAVED_UNSENT_EVENTS=1E3;l.localStorage={};l.firstSession=
!1;l.levelsNumbers=[];l.deferredReportEvents=[];l.timers={};U.logLevel=0;D._prefix="";D._isErrorEventsSent=0;s.totalRowsAdded=0;n.bubbleImgNameArr="bubble_blue,bubble_red,bubble_green,bubble_yellow,bubble_purple,bubble_lightbleu".split(",");n.STATE_DEFAULT=0;n.STATE_LAUNCHED=1;n.STATE_READY_TO_LAUNCH=2;n.STATE_IN_QUEUE=3;k.WIDTH=800;k.HEIGHT=600;k.SMALL_DEVICE_MODE=!1;k.WebAudioSupported=!1;k.MOBILE_BROWSER=!0;k.BOARD_WIDTH=17;k.BOARD_HEIGHT=9;k.BUBBLE_SIZE=32;k.INITIAL_X_COORD=15;k.INITIAL_Y_COORD=
15;k.LAUNCH_POWER=15;k.RIGHT_BOARD_BORDER=535;k.LEFT_BOARD_BORDER=15;k.TOTAL_COLORS=6;k.CHEAT_MODE=!1;i.gameOverStartedFlag=!1;y.LanguageAbbrevations="EN,NL,FR,DE,ES,RO".split(",");y.PLAY_SHORT="Play,STARTEN,JOUER,Spielen,Jugar,Jucati".split(",");y.HOW_TO_PLAY_FULL=["Make combinations of 3 or more by shooting the colored bubbles. The more you pop in one shot, the higher your score will be. All rows will drop down a level when you fail to hit a combination and at higher levels in the game they will drop several rows at once. The main object of the game is to clear all the colored bubbles from the field."];
y.HOW_TO_PLAY=["HOW TO PLAY: "];y.YOU_WIN=["YOU WIN!"];y.BONUS=["BONUS: "];y.SCORE=["SCORE: "];y.TOTAL=["TOTAL: "];y.GAME_OVER=["GAME OVER!"];g.backgroundState2=!1;C.allowNextScreen=!1;x.allSoundArrayNames="SOUNDS/BUBBLE_HIT,SOUNDS/BUBBLE_POP,SOUNDS/CANON_WOOSH,SOUNDS/GAMEOVER,SOUNDS/INTRO,SOUNDS/CLICK_TILE,SOUNDS/WON,SOUNDS/BUBBLE_POP3,SOUNDS/BUBBLE_POP4,SOUNDS/BUBBLE_POP5".split(",");x.MAX_CACHED=[2,2,2,1,1,4,1,4,2,3,3,2,2,4,4,4];x.soundsDelta=[0,0,0,0.29,0.38,0.47];Ya.soundFlag=!0;cb.instance=
new cb;V.DISPATCHING_SENTINEL=new Ab(null,null);m.root=new z;m.uncaughtError=new P;m.hidden=new ja(!1);m.volume=new Q(1);m._platform=cb.instance;m._calledInit=!1;la.__meta__={obj:{assets:[{bootstrap:[{bytes:184466,md5:"d64869dc1df0d1b0f27f38835250e4d1",name:"buttonfont/font.fnt"},{bytes:29571,md5:"6c598ce10f2bdaf6bcdd721cd6b0b4d0",name:"buttonfont/font.png"},{bytes:44032,md5:"acec0b55983e8c4ef7ef590d781f8491",name:"buttonfont/Thumbs.db"},{bytes:19127,md5:"159119d2fe202541df79d5bdf59abc2d",name:"button_menu.png"},
{bytes:5220,md5:"4263a3df80d4bd86677ba437880c02b4",name:"CLICK_TILE.mp3"},{bytes:5327,md5:"442242db26468dbda0932290052fe037",name:"CLICK_TILE.ogg"},{bytes:11577,md5:"fef1f2f2e3476a2880f9b97480546129",name:"gameboss.png"},{bytes:124451,md5:"66025139bdc69e2626783d2791731930",name:"game_bg_hd.png"},{bytes:4610,md5:"eaf0cd10840377466f84b929584a94bf",name:"language.xml"},{bytes:32716,md5:"868f189535e2e4a225868753344d3f16",name:"squidbyte.png"},{bytes:44032,md5:"8cba4a3b8bda3e55bb7cdb0752b48cf2",name:"Thumbs.db"},
{bytes:8374,md5:"2ef66164f665021e6a31e334bcf4422f",name:"TURN.png"}],hd_assets:[{bytes:184400,md5:"f576a2867344d5b3ebe181fa7aeb9a20",name:"blackbold24/font.fnt"},{bytes:22642,md5:"64098f1317d3de8bbbb7628799971293",name:"blackbold24/font.png"},{bytes:2665,md5:"f114ca1a5e7d24a2c301c3ab939153e9",name:"bubbles/bubble_blue.png"},{bytes:2249,md5:"30de1ac503f4ebd58536476be95ddade",name:"bubbles/bubble_gray.png"},{bytes:2228,md5:"145001acad5b02f0d9ebce5d405b1641",name:"bubbles/bubble_gray_39procent.png"},
{bytes:2550,md5:"8e131cfbfca924c3bf90968b32ca9a95",name:"bubbles/bubble_green.png"},{bytes:2715,md5:"32088249bbe7c77ff8ebaf445ef3744d",name:"bubbles/bubble_lightbleu.png"},{bytes:2630,md5:"aa7b16044861bdcda0fa3effd7307786",name:"bubbles/bubble_purple.png"},{bytes:2496,md5:"8a4e7eb4c164f69bee5e110f67e11801",name:"bubbles/bubble_red.png"},{bytes:2566,md5:"1a39cf100ef04fd3387fa0087d724329",name:"bubbles/bubble_yellow.png"},{bytes:10611,md5:"ebb1651f14ec71ebd81ef6da3dbe99fd",name:"buttons/gamebutton_help.png"},
{bytes:11214,md5:"46434e0acd7ec90c82051a16f3b9338b",name:"buttons/gamebutton_more.png"},{bytes:11173,md5:"6352195c6fa8615094203de57ea4ba3f",name:"buttons/gamebutton_reset.png"},{bytes:7819,md5:"b377e932f5dee13ab248e98ba2f1fdf6",name:"buttons/gamebutton_sound_off.png"},{bytes:10580,md5:"6d648c877d9ca9aec2fcf8edaf326533",name:"buttons/gamebutton_sound_on.png"},{bytes:1421,md5:"e31a2fcadddebbb59c4c26da9872cb38",name:"button_prompt.png"},{bytes:1425,md5:"1c7d1e960c33bc02819c19b5c39e3673",name:"button_prompt_over.png"},
{bytes:2710,md5:"c7adec89d41207d44f2e4392792a44cc",name:"confirm.png"},{bytes:2768,md5:"633ca4bcf591af65c908011c2f09a241",name:"confirm_over.png"},{bytes:5420,md5:"0cc47901d89a3f7fa86a25887c8f5dd4",name:"fla/Particle.fla"},{bytes:1068,md5:"8904d2a073c0dd9cab715129d1c96cfb",name:"fla/Particle.png"},{bytes:21341,md5:"a076a502fc0c59fb5ad4aec86730cdb4",name:"font22green/font.fnt"},{bytes:30108,md5:"744e0524c807ccb4143509635836272c",name:"font22green/font.png"},{bytes:21341,md5:"a076a502fc0c59fb5ad4aec86730cdb4",
name:"font22red/font.fnt"},{bytes:28900,md5:"321a20589ed9b6b94213771f63382656",name:"font22red/font.png"},{bytes:21424,md5:"c9c3066b6131839ff733bfac3354e189",name:"font30grey/font.fnt"},{bytes:38276,md5:"9a4a002ad8222ebb65d07cf77eac2da9",name:"font30grey/font.png"},{bytes:21424,md5:"c9c3066b6131839ff733bfac3354e189",name:"font30purple/font.fnt"},{bytes:38270,md5:"0f8494c5e62d396b626d6c0aac2bf71b",name:"font30purple/font.png"},{bytes:26213,md5:"320cc4c679ee4fff7fc9c10d4af25712",name:"game_bg.png"},
{bytes:1385,md5:"2c8499fbe8ae9632a8825c8726a34ab4",name:"game_cannon.png"},{bytes:8592,md5:"bdd07c452aa91dd9309717032b9a30d1",name:"prompt_bg.png"},{bytes:7938,md5:"f661b1837a25b8a7f4a4a8db2a661672",name:"prompt_ok.png"},{bytes:9339,md5:"e3119f7bf2c06c00082954b9f8a74a21",name:"SOUNDS/BUBBLE_HIT.m4a"},{bytes:7690,md5:"d19b579451889bacdba2b1c4a2386a14",name:"SOUNDS/BUBBLE_HIT.mp3"},{bytes:8251,md5:"7324221e380fb4dc6e9effda8019e698",name:"SOUNDS/BUBBLE_HIT.ogg"},{bytes:9384,md5:"51c4030b0683084a87f84d386ccf9d13",
name:"SOUNDS/BUBBLE_POP.m4a"},{bytes:34995,md5:"5cc640bf8a4e8fb600cb7f7f7332e870",name:"SOUNDS/BUBBLE_POP.mp3"},{bytes:7561,md5:"ec23fbd7ca9fced9ae7d692859d97a44",name:"SOUNDS/BUBBLE_POP.ogg"},{bytes:10537,md5:"219357c719d161692a09d5449146647a",name:"SOUNDS/BUBBLE_POP3.m4a"},{bytes:10235,md5:"dd035e2b128fc41a05072d1aee3c4ac2",name:"SOUNDS/BUBBLE_POP3.ogg"},{bytes:12825,md5:"2e0905b30bdaa7a720568099b6f37179",name:"SOUNDS/BUBBLE_POP4.m4a"},{bytes:12074,md5:"b61261c136473102a3288a7a14a666f0",name:"SOUNDS/BUBBLE_POP4.ogg"},
{bytes:15685,md5:"c6819f8dd08512bfb1c14b2896280154",name:"SOUNDS/BUBBLE_POP5.m4a"},{bytes:13734,md5:"48cd37a2c3b809e7bfac34e717d13feb",name:"SOUNDS/BUBBLE_POP5.ogg"},{bytes:6426,md5:"f7d785dab57a1d66f35e5fc0bb6af996",name:"SOUNDS/CANON_WOOSH.m4a"},{bytes:5041,md5:"f573b0dc7ac352e97d30603392f96f8a",name:"SOUNDS/CANON_WOOSH.mp3"},{bytes:6474,md5:"62fb1b083a7745cdc1cc05b8ba7024d3",name:"SOUNDS/CANON_WOOSH.ogg"},{bytes:8196,md5:"c8495f759532abdc27b09f1c3fe38635",name:"SOUNDS/CLICK_TILE.m4a"},{bytes:4487,
md5:"1e73c266ebad26a10508a71feb05c069",name:"SOUNDS/CLICK_TILE.mp3"},{bytes:7311,md5:"91ffe46191cb5755274168f6a68849de",name:"SOUNDS/CLICK_TILE.ogg"},{bytes:79746,md5:"92fd7bbad4d089d89778d69e5d7e339e",name:"SOUNDS/GAMEOVER.m4a"},{bytes:127547,md5:"16a410304928861bf34655995d703f81",name:"SOUNDS/GAMEOVER.mp3"},{bytes:33853,md5:"c1139d05bb870e756b2722fb498bb877",name:"SOUNDS/GAMEOVER.ogg"},{bytes:254203,md5:"7a801f24c6a204e5a0b736ab64fa9cb8",name:"SOUNDS/INTRO.m4a"},{bytes:410752,md5:"c0c2331e52495c7b036ca84bad8f7e31",
name:"SOUNDS/INTRO.mp3"},{bytes:137190,md5:"e41e11ae33e09484b27f5ee3817fc442",name:"SOUNDS/INTRO.ogg"},{bytes:64297,md5:"2ce86dc6b8e15f7e90afe49bea4f8940",name:"SOUNDS/WON.m4a"},{bytes:102470,md5:"28615ccd91ea2e131b5d4a652473bb1e",name:"SOUNDS/WON.mp3"},{bytes:35363,md5:"9100e46addc11dfcbb5830ed43d82c64",name:"SOUNDS/WON.ogg"},{bytes:8374,md5:"2ef66164f665021e6a31e334bcf4422f",name:"TURN.png"},{bytes:14355,md5:"457aadb13d6de615825e18cbede6bc5a",name:"ui/bottom_display.png"},{bytes:1835,md5:"dbe29089cde75fca0097d29ed9a98c1f",
name:"ui/button.png"},{bytes:1807,md5:"0a8a2e7a5c12fc7b9077e86a2fa4de3c",name:"ui/button_over.png"},{bytes:2347,md5:"66e8c8647f0f43129aa5e981f73339aa",name:"ui/squidbyte.png"}]}]}};la._supportsCrossOrigin=function(){var a;a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();F._scratchPoint=new kb;za.NEWLINE=new Rc(10);ta._sharedEvent=new xd;ka._sharedEvent=new yd;aa._sharedEvent=new zd;zb.CANVAS_TEXTURES=(new wa("(iPhone|iPod|iPad)",
"")).match(window.navigator.userAgent);K._mediaRefCount=0;K._detectBlobSupport=!0;B.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];B.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&(new wa("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);E._detectSupport=!0;ya.USE_CACHE=!1;ya.USE_ENUM_INDEX=!1;ya.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Z.DEFAULT_RESOLVER=R;Z.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";sb.count=0;Aa.i64tmp=
new Od(0,0);bb.escapes=function(){var a=new ha;null!=rb.lt?a.setReserved("lt","<"):a.h.lt="<";null!=rb.gt?a.setReserved("gt",">"):a.h.gt=">";null!=rb.amp?a.setReserved("amp","&"):a.h.amp="&";null!=rb.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=rb.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);L.__toStr={}.toString;eb.BYTES_PER_ELEMENT=1;md._CbType=0;va.ANY_SHAPE=new Fb;va.ANY_BODY=new Fb;va.ANY_COMPOUND=new Fb;va.ANY_CONSTRAINT=new Fb;f.internal=!1;ca.internal=!1;ca.COL=1;ca.FLUID=
4;mc.internal=!1;nc.internal=!1;Wb.internal=!1;fc.internal=!1;jc.internal=!1;hc.internal=!1;Vb.internal=!1;ab.internal=!1;dc.internal=!1;bc.internal=!1;cc.internal=!1;ac.internal=!1;kc.internal=!1;lc.internal=!1;$b.internal=!1;Xb.internal=!1;Zb.internal=!1;g.main()})();
